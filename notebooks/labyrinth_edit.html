<!DOCTYPE html>
<html lang="en">
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- code copyright (c) 2009-2018 drow <drow@bin.sh>                     -->
<!-- https://twitter.com/donjon_bin_sh                                   -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<head>
    <meta charset="utf-8"/>
    <title>donjon; The Labyrinth</title>

    <link rel="shortcut icon" type="image/vnd.microsoft.icon"
          href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAHAADgBwAA4AcAAP5/AAD4HwAA+98AAPvfAAD73wAA+98AAPvfAAD73wAA+B8AAP5/AADgBwAA4AcAAOAHAAA="/>

    <link rel="stylesheet" type="text/css" media="all"
          href="data:text/css;base64,LyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogY29tbW9uLmNzcwogKgogKiBjb3B5cmlnaHQgKGMpIDIwMDYtMjAxMyBkcm93IDxkcm93QGJpbi5zaD4KICogYWxsIHJpZ2h0cyByZXNlcnZlZC4KKi8KCi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovCi8qIGZvbnQtZmFtaWx5ICovCgpib2R5IHsgZm9udC1mYW1pbHk6ICdBc3VsJywgc2Fucy1zZXJpZjsgfQp0ZXh0YXJlYSB7IGZvbnQtZmFtaWx5OiAnQXN1bCcsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTRweDsgfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogY29udGVudCAqLwoKaDEgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KdGFibGUgeyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyB9CgouY2VudGVyIHsgdGV4dC1hbGlnbjogY2VudGVyOyB9CnRhYmxlLmNlbnRlciB7IG1hcmdpbjogMHB4IGF1dG87IH0KCm9wdGdyb3VwIHsgbWFyZ2luOiAxZXggMWVtOwogIGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgY29sb3I6ICM4MDgwODA7IH0Kb3B0Z3JvdXAgb3B0aW9uIHsgY29sb3I6ICMwMDAwMDA7IH0KCmRpdi5mb290bm90ZXMgeyBtYXJnaW4tdG9wOiA2ZXg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8K"/>
    <link rel="stylesheet" type="text/css" media="all"
          href="data:application/binary;base64,QGZvbnQtZmFjZSB7CiAgZm9udC1mYW1pbHk6ICdBc3VsJzsKICBmb250LXN0eWxlOiBub3JtYWw7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBzcmM6IGxvY2FsKCdBc3VsIFJlZ3VsYXInKSwgbG9jYWwoJ0FzdWwtUmVndWxhcicpLCB1cmwoaHR0cDovL2ZvbnRzLmdzdGF0aWMuY29tL3MvYXN1bC92Ny9WdUotZE5qS3hZcjQyZlFQV0EudHRmKSBmb3JtYXQoJ3RydWV0eXBlJyk7Cn0KQGZvbnQtZmFjZSB7CiAgZm9udC1mYW1pbHk6ICdBc3VsJzsKICBmb250LXN0eWxlOiBub3JtYWw7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBzcmM6IGxvY2FsKCdBc3VsIEJvbGQnKSwgbG9jYWwoJ0FzdWwtQm9sZCcpLCB1cmwoaHR0cDovL2ZvbnRzLmdzdGF0aWMuY29tL3MvYXN1bC92Ny9WdUp4ZE5qS3hZcjQwVThxU0tIZFBBLnR0ZikgZm9ybWF0KCd0cnVldHlwZScpOwp9Cg=="/>
    <link rel="stylesheet" type="text/css" media="all"
          href="data:text/css;base64,LyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogc3RhdHMuY3NzCiAqCiAqIGNvcHlyaWdodCAoYykgMjAwNi0yMDExIGRyb3cgPGRyb3dAYmluLnNoPgogKiBhbGwgcmlnaHRzIHJlc2VydmVkLgoqLwoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogc3RhdCBibG9jayAqLwoKdGFibGUuc3RhdHMgeyBtYXJnaW46IDJleCBhdXRvOwogIGJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkOyBib3JkZXItY29sb3I6ICNjY2NjY2M7IH0KdGFibGUuc3RhdHMgdGFibGUgeyB3aWR0aDogMTAwJTsgbWFyZ2luOiA0cHg7CiAgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsgfQp0YWJsZS5zdGF0cyB0cjpob3ZlciB0ZCB7IGJhY2tncm91bmQ6ICNkZWRlZGU7IH0KdGFibGUuc3RhdHMgdHIuZW1wdHk6aG92ZXIgdGQgeyBiYWNrZ3JvdW5kOiBub25lOyB9CnRhYmxlLnN0YXRzIHRyOmhvdmVyIG9sIGxpOmhvdmVyIHsgYmFja2dyb3VuZDogI2ZmZmZmZjsgfQp0YWJsZS5zdGF0cyB0cjpob3ZlciB0YWJsZSB0cjpob3ZlciB0ZCB7IGJhY2tncm91bmQ6ICNmZmZmZmY7IH0KdGFibGUuc3RhdHMgdHI6aG92ZXIgdGFibGUgdHIuZW1wdHk6aG92ZXIgdGQgeyBiYWNrZ3JvdW5kOiBub25lOyB9CnRhYmxlLnN0YXRzIHRyOmhvdmVyIHRhYmxlIHRyOmhvdmVyIG9sIGxpOmhvdmVyIHsgYmFja2dyb3VuZDogI2RlZGVkZTsgfQoKdGFibGUuc3RhdHMgdGggeyBwYWRkaW5nOiAxZXggMWVtOyBiYWNrZ3JvdW5kOiAjMDAwMDAwOyBjb2xvcjogI2ZmZmZmZjsgfQp0YWJsZS5zdGF0cyB0ZCB7IHBhZGRpbmc6IDRweCAxZW07CiAgYm9yZGVyOiBub25lOyBib3JkZXItYm90dG9tOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsKICB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB9CnRhYmxlLnN0YXRzIHRkLmljb24gaW1nIHsgYm9yZGVyOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsgfQp0YWJsZS5zdGF0cyB0ZC5zZWN0aW9uIHsgd2lkdGg6IDhlbTsgcGFkZGluZy10b3A6IDhweDsKICB0ZXh0LWFsaWduOiByaWdodDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBmb250LXNpemU6IGxhcmdlcjsgZm9udC13ZWlnaHQ6IGJvbGQ7IH0KdGFibGUuc3RhdHMgdGQuZGV0YWlsIHsgd2lkdGg6IDhlbTsKICB0ZXh0LWFsaWduOiByaWdodDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgZm9udC1zdHlsZTogaXRhbGljOyB9CnRhYmxlLnN0YXRzIHRkLmtleSB7IHdpZHRoOiA4ZW07CiAgdGV4dC1hbGlnbjogcmlnaHQ7IHdoaXRlLXNwYWNlOiBub3dyYXA7IGZvbnQtd2VpZ2h0OiBib2xkOyB9Cgp0YWJsZS5zdGF0cyB0ZC52YWx1ZSB7IHZlcnRpY2FsLWFsaWduOiBib3R0b207IH0KdGFibGUuc3RhdHMgdGQudmFsdWUgcCB7IG1hcmdpbjogMHB4OyBtYXJnaW4tdG9wOiAxZXg7IH0KdGFibGUuc3RhdHMgdGQudmFsdWUgcC5pY29uIHsgcGFkZGluZy1sZWZ0OiAyZW07IHRleHQtaW5kZW50OiAtMmVtOyB9CnRhYmxlLnN0YXRzIHRkLnZhbHVlIG9sIHsgbWFyZ2luOiAwcHggMHB4IDJleCAyZW07IHBhZGRpbmc6IDBweDsgfQp0YWJsZS5zdGF0cyB0ZC52YWx1ZSBvbCBsaSB7IG1hcmdpbjogMHB4OyBwYWRkaW5nOiAycHggMC41ZW07IH0KdGFibGUuc3RhdHMgdGQudmFsdWUgaHIgeyBtYXJnaW46IDFleCAwZW07CiAgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsgfQoKQG1lZGlhIHByaW50IHsKICBhIHsgY29sb3I6IGJsYWNrOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0KfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8K"/>
    <link rel="stylesheet" type="text/css" media="all"
          href="data:text/css;base64,LyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogZHVuZ2Vvbi9zdHlsZS5jc3MKICoKICogY29weXJpZ2h0IChjKSAyMDA2LTIwMTQgZHJvdyA8ZHJvd0BiaW4uc2g+CiAqIGFsbCByaWdodHMgcmVzZXJ2ZWQuCiovCgovKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqLwovKiBkdW5nZW9uIG1hcCAqLwoKdGFibGUubWFwIHsgbWFyZ2luOiAyZXggYXV0bzsgYm9yZGVyOiBub25lOwogIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7IGJvcmRlci10b3A6IDFweCBzb2xpZDsgYm9yZGVyLWNvbG9yOiAjMzMzMzMzOyB9CnRhYmxlLm1hcCB0ZC5jZWxsIHsgbWFyZ2luOiAwcHg7IHBhZGRpbmc6IDBweDsKICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkOyBib3JkZXItY29sb3I6ICNjY2NjZmY7CiAgdGV4dC1hbGlnbjogY2VudGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEdlbmV2YSwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiA5cHg7IH0KdGFibGUubWFwIHRkLmJlZW4geyBiYWNrZ3JvdW5kOiAjZGVmZmRlOyB9CnRhYmxlLm1hcCB0ZC5jZWxsIGEgeyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0KdGFibGUubWFwIHRkLmZpbGwgeyBib3JkZXItY29sb3I6ICMzMzMzMzM7IGJhY2tncm91bmQ6ICMwMDAwMDA7IH0KCnAubWFwIHsgdGV4dC1hbGlnbjogY2VudGVyOyB9CmltZyB7IGJvcmRlcjogbm9uZTsgfQpwLmxlZ2VuZCB7IHRleHQtYWxpZ246IGNlbnRlcjsgfQpwLmxlZ2VuZCBzcGFuIHsgbWFyZ2luOiAwcHggMC41ZW07IHdoaXRlLXNwYWNlOiBub3dyYXA7IH0KCi8qIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtICovCi8qIHZhcmlhbnRzICovCgpkaXYudmFyaWFudHMgeyBtYXJnaW46IDJleCAxMCU7IG1hcmdpbi10b3A6IDRleDsgYm9yZGVyOiAxcHggc29saWQ7CiAgYm9yZGVyLWNvbG9yOiAjOTk5OTk5OyBiYWNrZ3JvdW5kOiAjZGVkZWRlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KZGl2LnZhcmlhbnRzIGRpdiB7IG1hcmdpbjogMmV4IDBweDsgfQpkaXYudmFyaWFudHMgYiB7IG1hcmdpbjogMHB4IDAuNWVtOyB9CmRpdi52YXJpYW50cyBmb3JtIHsgZGlzcGxheTogaW5saW5lOyBtYXJnaW46IDBweCAwLjVlbTsgfQpkaXYudmFyaWFudHMgaW5wdXQgeyBtYXJnaW46IDBweCAwLjVlbTsgfQpkaXYudmFyaWFudHMgc2VsZWN0IHsgbWFyZ2luOiAwcHggMC41ZW07IH0KZGl2LndvcmtpbmcgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMTUwJTsgfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8K"/>

    <style type="text/css" media="print">
        img {
            max-width: 100%;
        }

        div.variants {
            display: none;
        }
    </style>

    <script type="text/javascript"
            src="data:text/javascript;base64,LyogIFByb3RvdHlwZSBKYXZhU2NyaXB0IGZyYW1ld29yaywgdmVyc2lvbiAxLjcuMgogKiAgKGMpIDIwMDUtMjAxMCBTYW0gU3RlcGhlbnNvbgogKgogKiAgUHJvdG90eXBlIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiBhbiBNSVQtc3R5bGUgbGljZW5zZS4KICogIEZvciBkZXRhaWxzLCBzZWUgdGhlIFByb3RvdHlwZSB3ZWIgc2l0ZTogaHR0cDovL3d3dy5wcm90b3R5cGVqcy5vcmcvCiAqCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKdmFyIFByb3RvdHlwZSA9IHsKCiAgVmVyc2lvbjogJzEuNy4yJywKCiAgQnJvd3NlcjogKGZ1bmN0aW9uKCl7CiAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50OwogICAgdmFyIGlzT3BlcmEgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhKSA9PSAnW29iamVjdCBPcGVyYV0nOwogICAgcmV0dXJuIHsKICAgICAgSUU6ICAgICAgICAgICAgICEhd2luZG93LmF0dGFjaEV2ZW50ICYmICFpc09wZXJhLAogICAgICBPcGVyYTogICAgICAgICAgaXNPcGVyYSwKICAgICAgV2ViS2l0OiAgICAgICAgIHVhLmluZGV4T2YoJ0FwcGxlV2ViS2l0LycpID4gLTEsCiAgICAgIEdlY2tvOiAgICAgICAgICB1YS5pbmRleE9mKCdHZWNrbycpID4gLTEgJiYgdWEuaW5kZXhPZignS0hUTUwnKSA9PT0gLTEsCiAgICAgIE1vYmlsZVNhZmFyaTogICAvQXBwbGUuKk1vYmlsZS8udGVzdCh1YSkKICAgIH0KICB9KSgpLAoKICBCcm93c2VyRmVhdHVyZXM6IHsKICAgIFhQYXRoOiAhIWRvY3VtZW50LmV2YWx1YXRlLAoKICAgIFNlbGVjdG9yc0FQSTogISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yLAoKICAgIEVsZW1lbnRFeHRlbnNpb25zOiAoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHdpbmRvdy5FbGVtZW50IHx8IHdpbmRvdy5IVE1MRWxlbWVudDsKICAgICAgcmV0dXJuICEhKGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7CiAgICB9KSgpLAogICAgU3BlY2lmaWNFbGVtZW50RXh0ZW5zaW9uczogKGZ1bmN0aW9uKCkgewogICAgICBpZiAodHlwZW9mIHdpbmRvdy5IVE1MRGl2RWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCiAgICAgICAgICBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpLAogICAgICAgICAgaXNTdXBwb3J0ZWQgPSBmYWxzZTsKCiAgICAgIGlmIChkaXZbJ19fcHJvdG9fXyddICYmIChkaXZbJ19fcHJvdG9fXyddICE9PSBmb3JtWydfX3Byb3RvX18nXSkpIHsKICAgICAgICBpc1N1cHBvcnRlZCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGRpdiA9IGZvcm0gPSBudWxsOwoKICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkOwogICAgfSkoKQogIH0sCgogIFNjcmlwdEZyYWdtZW50OiAnPHNjcmlwdFtePl0qPihbXFxTXFxzXSo/KTxcL3NjcmlwdFxccyo+JywKICBKU09ORmlsdGVyOiAvXlwvXCotc2VjdXJlLShbXHNcU10qKVwqXC9ccyokLywKCiAgZW1wdHlGdW5jdGlvbjogZnVuY3Rpb24oKSB7IH0sCgogIEs6IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggfQp9OwoKaWYgKFByb3RvdHlwZS5Ccm93c2VyLk1vYmlsZVNhZmFyaSkKICBQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLlNwZWNpZmljRWxlbWVudEV4dGVuc2lvbnMgPSBmYWxzZTsKLyogQmFzZWQgb24gQWxleCBBcm5lbGwncyBpbmhlcml0YW5jZSBpbXBsZW1lbnRhdGlvbi4gKi8KCnZhciBDbGFzcyA9IChmdW5jdGlvbigpIHsKCiAgdmFyIElTX0RPTlRFTlVNX0JVR0dZID0gKGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBwIGluIHsgdG9TdHJpbmc6IDEgfSkgewogICAgICBpZiAocCA9PT0gJ3RvU3RyaW5nJykgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfSkoKTsKCiAgZnVuY3Rpb24gc3ViY2xhc3MoKSB7fTsKICBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICB2YXIgcGFyZW50ID0gbnVsbCwgcHJvcGVydGllcyA9ICRBKGFyZ3VtZW50cyk7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ocHJvcGVydGllc1swXSkpCiAgICAgIHBhcmVudCA9IHByb3BlcnRpZXMuc2hpZnQoKTsKCiAgICBmdW5jdGlvbiBrbGFzcygpIHsKICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgT2JqZWN0LmV4dGVuZChrbGFzcywgQ2xhc3MuTWV0aG9kcyk7CiAgICBrbGFzcy5zdXBlcmNsYXNzID0gcGFyZW50OwogICAga2xhc3Muc3ViY2xhc3NlcyA9IFtdOwoKICAgIGlmIChwYXJlbnQpIHsKICAgICAgc3ViY2xhc3MucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsKICAgICAga2xhc3MucHJvdG90eXBlID0gbmV3IHN1YmNsYXNzOwogICAgICBwYXJlbnQuc3ViY2xhc3Nlcy5wdXNoKGtsYXNzKTsKICAgIH0KCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAga2xhc3MuYWRkTWV0aG9kcyhwcm9wZXJ0aWVzW2ldKTsKCiAgICBpZiAoIWtsYXNzLnByb3RvdHlwZS5pbml0aWFsaXplKQogICAgICBrbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwoKICAgIGtsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGtsYXNzOwogICAgcmV0dXJuIGtsYXNzOwogIH0KCiAgZnVuY3Rpb24gYWRkTWV0aG9kcyhzb3VyY2UpIHsKICAgIHZhciBhbmNlc3RvciAgID0gdGhpcy5zdXBlcmNsYXNzICYmIHRoaXMuc3VwZXJjbGFzcy5wcm90b3R5cGUsCiAgICAgICAgcHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7CgogICAgaWYgKElTX0RPTlRFTlVNX0JVR0dZKSB7CiAgICAgIGlmIChzb3VyY2UudG9TdHJpbmcgIT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykKICAgICAgICBwcm9wZXJ0aWVzLnB1c2goInRvU3RyaW5nIik7CiAgICAgIGlmIChzb3VyY2UudmFsdWVPZiAhPSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpCiAgICAgICAgcHJvcGVydGllcy5wdXNoKCJ2YWx1ZU9mIik7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXSwgdmFsdWUgPSBzb3VyY2VbcHJvcGVydHldOwogICAgICBpZiAoYW5jZXN0b3IgJiYgT2JqZWN0LmlzRnVuY3Rpb24odmFsdWUpICYmCiAgICAgICAgICB2YWx1ZS5hcmd1bWVudE5hbWVzKClbMF0gPT0gIiRzdXBlciIpIHsKICAgICAgICB2YXIgbWV0aG9kID0gdmFsdWU7CiAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24obSkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gYW5jZXN0b3JbbV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfTsKICAgICAgICB9KShwcm9wZXJ0eSkud3JhcChtZXRob2QpOwoKICAgICAgICB2YWx1ZS52YWx1ZU9mID0gKGZ1bmN0aW9uKG1ldGhvZCkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLnZhbHVlT2YuY2FsbChtZXRob2QpOyB9OwogICAgICAgIH0pKG1ldGhvZCk7CgogICAgICAgIHZhbHVlLnRvU3RyaW5nID0gKGZ1bmN0aW9uKG1ldGhvZCkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLnRvU3RyaW5nLmNhbGwobWV0aG9kKTsgfTsKICAgICAgICB9KShtZXRob2QpOwogICAgICB9CiAgICAgIHRoaXMucHJvdG90eXBlW3Byb3BlcnR5XSA9IHZhbHVlOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgcmV0dXJuIHsKICAgIGNyZWF0ZTogY3JlYXRlLAogICAgTWV0aG9kczogewogICAgICBhZGRNZXRob2RzOiBhZGRNZXRob2RzCiAgICB9CiAgfTsKfSkoKTsKKGZ1bmN0aW9uKCkgewoKICB2YXIgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywKICAgICAgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwKICAgICAgTlVMTF9UWVBFID0gJ051bGwnLAogICAgICBVTkRFRklORURfVFlQRSA9ICdVbmRlZmluZWQnLAogICAgICBCT09MRUFOX1RZUEUgPSAnQm9vbGVhbicsCiAgICAgIE5VTUJFUl9UWVBFID0gJ051bWJlcicsCiAgICAgIFNUUklOR19UWVBFID0gJ1N0cmluZycsCiAgICAgIE9CSkVDVF9UWVBFID0gJ09iamVjdCcsCiAgICAgIEZVTkNUSU9OX0NMQVNTID0gJ1tvYmplY3QgRnVuY3Rpb25dJywKICAgICAgQk9PTEVBTl9DTEFTUyA9ICdbb2JqZWN0IEJvb2xlYW5dJywKICAgICAgTlVNQkVSX0NMQVNTID0gJ1tvYmplY3QgTnVtYmVyXScsCiAgICAgIFNUUklOR19DTEFTUyA9ICdbb2JqZWN0IFN0cmluZ10nLAogICAgICBBUlJBWV9DTEFTUyA9ICdbb2JqZWN0IEFycmF5XScsCiAgICAgIERBVEVfQ0xBU1MgPSAnW29iamVjdCBEYXRlXScsCiAgICAgIE5BVElWRV9KU09OX1NUUklOR0lGWV9TVVBQT1JUID0gd2luZG93LkpTT04gJiYKICAgICAgICB0eXBlb2YgSlNPTi5zdHJpbmdpZnkgPT09ICdmdW5jdGlvbicgJiYKICAgICAgICBKU09OLnN0cmluZ2lmeSgwKSA9PT0gJzAnICYmCiAgICAgICAgdHlwZW9mIEpTT04uc3RyaW5naWZ5KFByb3RvdHlwZS5LKSA9PT0gJ3VuZGVmaW5lZCc7CgoKCiAgdmFyIERPTlRfRU5VTVMgPSBbJ3RvU3RyaW5nJywgJ3RvTG9jYWxlU3RyaW5nJywgJ3ZhbHVlT2YnLAogICAnaGFzT3duUHJvcGVydHknLCAnaXNQcm90b3R5cGVPZicsICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdjb25zdHJ1Y3RvciddOwoKICB2YXIgSVNfRE9OVEVOVU1fQlVHR1kgPSAoZnVuY3Rpb24oKXsKICAgIGZvciAodmFyIHAgaW4geyB0b1N0cmluZzogMSB9KSB7CiAgICAgIGlmIChwID09PSAndG9TdHJpbmcnKSByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9KSgpOwoKICBmdW5jdGlvbiBUeXBlKG8pIHsKICAgIHN3aXRjaChvKSB7CiAgICAgIGNhc2UgbnVsbDogcmV0dXJuIE5VTExfVFlQRTsKICAgICAgY2FzZSAodm9pZCAwKTogcmV0dXJuIFVOREVGSU5FRF9UWVBFOwogICAgfQogICAgdmFyIHR5cGUgPSB0eXBlb2YgbzsKICAgIHN3aXRjaCh0eXBlKSB7CiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiByZXR1cm4gQk9PTEVBTl9UWVBFOwogICAgICBjYXNlICdudW1iZXInOiAgcmV0dXJuIE5VTUJFUl9UWVBFOwogICAgICBjYXNlICdzdHJpbmcnOiAgcmV0dXJuIFNUUklOR19UWVBFOwogICAgfQogICAgcmV0dXJuIE9CSkVDVF9UWVBFOwogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHsKICAgIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkKICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTsKICAgIHJldHVybiBkZXN0aW5hdGlvbjsKICB9CgogIGZ1bmN0aW9uIGluc3BlY3Qob2JqZWN0KSB7CiAgICB0cnkgewogICAgICBpZiAoaXNVbmRlZmluZWQob2JqZWN0KSkgcmV0dXJuICd1bmRlZmluZWQnOwogICAgICBpZiAob2JqZWN0ID09PSBudWxsKSByZXR1cm4gJ251bGwnOwogICAgICByZXR1cm4gb2JqZWN0Lmluc3BlY3QgPyBvYmplY3QuaW5zcGVjdCgpIDogU3RyaW5nKG9iamVjdCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlmIChlIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikgcmV0dXJuICcuLi4nOwogICAgICB0aHJvdyBlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdG9KU09OKHZhbHVlKSB7CiAgICByZXR1cm4gU3RyKCcnLCB7ICcnOiB2YWx1ZSB9LCBbXSk7CiAgfQoKICBmdW5jdGlvbiBTdHIoa2V5LCBob2xkZXIsIHN0YWNrKSB7CiAgICB2YXIgdmFsdWUgPSBob2xkZXJba2V5XTsKICAgIGlmIChUeXBlKHZhbHVlKSA9PT0gT0JKRUNUX1RZUEUgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICB2YWx1ZSA9IHZhbHVlLnRvSlNPTihrZXkpOwogICAgfQoKICAgIHZhciBfY2xhc3MgPSBfdG9TdHJpbmcuY2FsbCh2YWx1ZSk7CgogICAgc3dpdGNoIChfY2xhc3MpIHsKICAgICAgY2FzZSBOVU1CRVJfQ0xBU1M6CiAgICAgIGNhc2UgQk9PTEVBTl9DTEFTUzoKICAgICAgY2FzZSBTVFJJTkdfQ0xBU1M6CiAgICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7CiAgICB9CgogICAgc3dpdGNoICh2YWx1ZSkgewogICAgICBjYXNlIG51bGw6IHJldHVybiAnbnVsbCc7CiAgICAgIGNhc2UgdHJ1ZTogcmV0dXJuICd0cnVlJzsKICAgICAgY2FzZSBmYWxzZTogcmV0dXJuICdmYWxzZSc7CiAgICB9CgogICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7CiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAnc3RyaW5nJzoKICAgICAgICByZXR1cm4gdmFsdWUuaW5zcGVjdCh0cnVlKTsKICAgICAgY2FzZSAnbnVtYmVyJzoKICAgICAgICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6ICdudWxsJzsKICAgICAgY2FzZSAnb2JqZWN0JzoKCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHN0YWNrLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoc3RhY2tbaV0gPT09IHZhbHVlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkN5Y2xpYyByZWZlcmVuY2UgdG8gJyIgKyB2YWx1ZSArICInIGluIG9iamVjdCIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTsKCiAgICAgICAgdmFyIHBhcnRpYWwgPSBbXTsKICAgICAgICBpZiAoX2NsYXNzID09PSBBUlJBWV9DTEFTUykgewogICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBzdHIgPSBTdHIoaSwgdmFsdWUsIHN0YWNrKTsKICAgICAgICAgICAgcGFydGlhbC5wdXNoKHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnID8gJ251bGwnIDogc3RyKTsKICAgICAgICAgIH0KICAgICAgICAgIHBhcnRpYWwgPSAnWycgKyBwYXJ0aWFsLmpvaW4oJywnKSArICddJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXSwgc3RyID0gU3RyKGtleSwgdmFsdWUsIHN0YWNrKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgIHBhcnRpYWwucHVzaChrZXkuaW5zcGVjdCh0cnVlKSsgJzonICsgc3RyKTsKICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHBhcnRpYWwgPSAneycgKyBwYXJ0aWFsLmpvaW4oJywnKSArICd9JzsKICAgICAgICB9CiAgICAgICAgc3RhY2sucG9wKCk7CiAgICAgICAgcmV0dXJuIHBhcnRpYWw7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzdHJpbmdpZnkob2JqZWN0KSB7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KTsKICB9CgogIGZ1bmN0aW9uIHRvUXVlcnlTdHJpbmcob2JqZWN0KSB7CiAgICByZXR1cm4gJEgob2JqZWN0KS50b1F1ZXJ5U3RyaW5nKCk7CiAgfQoKICBmdW5jdGlvbiB0b0hUTUwob2JqZWN0KSB7CiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC50b0hUTUwgPyBvYmplY3QudG9IVE1MKCkgOiBTdHJpbmcuaW50ZXJwcmV0KG9iamVjdCk7CiAgfQoKICBmdW5jdGlvbiBrZXlzKG9iamVjdCkgewogICAgaWYgKFR5cGUob2JqZWN0KSAhPT0gT0JKRUNUX1RZUEUpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7CiAgICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkKICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkpOwogICAgfQoKICAgIGlmIChJU19ET05URU5VTV9CVUdHWSkgewogICAgICBmb3IgKHZhciBpID0gMDsgcHJvcGVydHkgPSBET05UX0VOVU1TW2ldOyBpKyspIHsKICAgICAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpCiAgICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KQogICAgICByZXN1bHRzLnB1c2gob2JqZWN0W3Byb3BlcnR5XSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIGNsb25lKG9iamVjdCkgewogICAgcmV0dXJuIGV4dGVuZCh7IH0sIG9iamVjdCk7CiAgfQoKICBmdW5jdGlvbiBpc0VsZW1lbnQob2JqZWN0KSB7CiAgICByZXR1cm4gISEob2JqZWN0ICYmIG9iamVjdC5ub2RlVHlwZSA9PSAxKTsKICB9CgogIGZ1bmN0aW9uIGlzQXJyYXkob2JqZWN0KSB7CiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gQVJSQVlfQ0xBU1M7CiAgfQoKICB2YXIgaGFzTmF0aXZlSXNBcnJheSA9ICh0eXBlb2YgQXJyYXkuaXNBcnJheSA9PSAnZnVuY3Rpb24nKQogICAgJiYgQXJyYXkuaXNBcnJheShbXSkgJiYgIUFycmF5LmlzQXJyYXkoe30pOwoKICBpZiAoaGFzTmF0aXZlSXNBcnJheSkgewogICAgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7CiAgfQoKICBmdW5jdGlvbiBpc0hhc2gob2JqZWN0KSB7CiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSGFzaDsKICB9CgogIGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gRlVOQ1RJT05fQ0xBU1M7CiAgfQoKICBmdW5jdGlvbiBpc1N0cmluZyhvYmplY3QpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBTVFJJTkdfQ0xBU1M7CiAgfQoKICBmdW5jdGlvbiBpc051bWJlcihvYmplY3QpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBOVU1CRVJfQ0xBU1M7CiAgfQoKICBmdW5jdGlvbiBpc0RhdGUob2JqZWN0KSB7CiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gREFURV9DTEFTUzsKICB9CgogIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iamVjdCkgewogICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICJ1bmRlZmluZWQiOwogIH0KCiAgZXh0ZW5kKE9iamVjdCwgewogICAgZXh0ZW5kOiAgICAgICAgZXh0ZW5kLAogICAgaW5zcGVjdDogICAgICAgaW5zcGVjdCwKICAgIHRvSlNPTjogICAgICAgIE5BVElWRV9KU09OX1NUUklOR0lGWV9TVVBQT1JUID8gc3RyaW5naWZ5IDogdG9KU09OLAogICAgdG9RdWVyeVN0cmluZzogdG9RdWVyeVN0cmluZywKICAgIHRvSFRNTDogICAgICAgIHRvSFRNTCwKICAgIGtleXM6ICAgICAgICAgIE9iamVjdC5rZXlzIHx8IGtleXMsCiAgICB2YWx1ZXM6ICAgICAgICB2YWx1ZXMsCiAgICBjbG9uZTogICAgICAgICBjbG9uZSwKICAgIGlzRWxlbWVudDogICAgIGlzRWxlbWVudCwKICAgIGlzQXJyYXk6ICAgICAgIGlzQXJyYXksCiAgICBpc0hhc2g6ICAgICAgICBpc0hhc2gsCiAgICBpc0Z1bmN0aW9uOiAgICBpc0Z1bmN0aW9uLAogICAgaXNTdHJpbmc6ICAgICAgaXNTdHJpbmcsCiAgICBpc051bWJlcjogICAgICBpc051bWJlciwKICAgIGlzRGF0ZTogICAgICAgIGlzRGF0ZSwKICAgIGlzVW5kZWZpbmVkOiAgIGlzVW5kZWZpbmVkCiAgfSk7Cn0pKCk7Ck9iamVjdC5leHRlbmQoRnVuY3Rpb24ucHJvdG90eXBlLCAoZnVuY3Rpb24oKSB7CiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwoKICBmdW5jdGlvbiB1cGRhdGUoYXJyYXksIGFyZ3MpIHsKICAgIHZhciBhcnJheUxlbmd0aCA9IGFycmF5Lmxlbmd0aCwgbGVuZ3RoID0gYXJncy5sZW5ndGg7CiAgICB3aGlsZSAobGVuZ3RoLS0pIGFycmF5W2FycmF5TGVuZ3RoICsgbGVuZ3RoXSA9IGFyZ3NbbGVuZ3RoXTsKICAgIHJldHVybiBhcnJheTsKICB9CgogIGZ1bmN0aW9uIG1lcmdlKGFycmF5LCBhcmdzKSB7CiAgICBhcnJheSA9IHNsaWNlLmNhbGwoYXJyYXksIDApOwogICAgcmV0dXJuIHVwZGF0ZShhcnJheSwgYXJncyk7CiAgfQoKICBmdW5jdGlvbiBhcmd1bWVudE5hbWVzKCkgewogICAgdmFyIG5hbWVzID0gdGhpcy50b1N0cmluZygpLm1hdGNoKC9eW1xzXChdKmZ1bmN0aW9uW14oXSpcKChbXildKilcKS8pWzFdCiAgICAgIC5yZXBsYWNlKC9cL1wvLio/W1xyXG5dfFwvXCooPzoufFtcclxuXSkqP1wqXC8vZywgJycpCiAgICAgIC5yZXBsYWNlKC9ccysvZywgJycpLnNwbGl0KCcsJyk7CiAgICByZXR1cm4gbmFtZXMubGVuZ3RoID09IDEgJiYgIW5hbWVzWzBdID8gW10gOiBuYW1lczsKICB9CgoKICBmdW5jdGlvbiBiaW5kKGNvbnRleHQpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiBPYmplY3QuaXNVbmRlZmluZWQoYXJndW1lbnRzWzBdKSkKICAgICAgcmV0dXJuIHRoaXM7CgogICAgaWYgKCFPYmplY3QuaXNGdW5jdGlvbih0aGlzKSkKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIG9iamVjdCBpcyBub3QgY2FsbGFibGUuIik7CgogICAgdmFyIG5vcCA9IGZ1bmN0aW9uKCkge307CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwoKICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgYSA9IG1lcmdlKGFyZ3MsIGFyZ3VtZW50cyk7CiAgICAgIHZhciBjID0gdGhpcyBpbnN0YW5jZW9mIGJvdW5kID8gdGhpcyA6IGNvbnRleHQ7CiAgICAgIHJldHVybiBfX21ldGhvZC5hcHBseShjLCBhKTsKICAgIH07CgogICAgbm9wLnByb3RvdHlwZSAgID0gdGhpcy5wcm90b3R5cGU7CiAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgbm9wKCk7CgogICAgcmV0dXJuIGJvdW5kOwogIH0KCiAgZnVuY3Rpb24gYmluZEFzRXZlbnRMaXN0ZW5lcihjb250ZXh0KSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciBhID0gdXBkYXRlKFtldmVudCB8fCB3aW5kb3cuZXZlbnRdLCBhcmdzKTsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KGNvbnRleHQsIGEpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY3VycnkoKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzOwogICAgdmFyIF9fbWV0aG9kID0gdGhpcywgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGEgPSBtZXJnZShhcmdzLCBhcmd1bWVudHMpOwogICAgICByZXR1cm4gX19tZXRob2QuYXBwbHkodGhpcywgYSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBkZWxheSh0aW1lb3V0KSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgdGltZW91dCA9IHRpbWVvdXQgKiAxMDAwOwogICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gX19tZXRob2QuYXBwbHkoX19tZXRob2QsIGFyZ3MpOwogICAgfSwgdGltZW91dCk7CiAgfQoKICBmdW5jdGlvbiBkZWZlcigpIHsKICAgIHZhciBhcmdzID0gdXBkYXRlKFswLjAxXSwgYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzLmRlbGF5LmFwcGx5KHRoaXMsIGFyZ3MpOwogIH0KCiAgZnVuY3Rpb24gd3JhcCh3cmFwcGVyKSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICB2YXIgYSA9IHVwZGF0ZShbX19tZXRob2QuYmluZCh0aGlzKV0sIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiB3cmFwcGVyLmFwcGx5KHRoaXMsIGEpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gbWV0aG9kaXplKCkgewogICAgaWYgKHRoaXMuX21ldGhvZGl6ZWQpIHJldHVybiB0aGlzLl9tZXRob2RpemVkOwogICAgdmFyIF9fbWV0aG9kID0gdGhpczsKICAgIHJldHVybiB0aGlzLl9tZXRob2RpemVkID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhID0gdXBkYXRlKFt0aGlzXSwgYXJndW1lbnRzKTsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KG51bGwsIGEpOwogICAgfTsKICB9CgogIHZhciBleHRlbnNpb25zID0gewogICAgYXJndW1lbnROYW1lczogICAgICAgYXJndW1lbnROYW1lcywKICAgIGJpbmRBc0V2ZW50TGlzdGVuZXI6IGJpbmRBc0V2ZW50TGlzdGVuZXIsCiAgICBjdXJyeTogICAgICAgICAgICAgICBjdXJyeSwKICAgIGRlbGF5OiAgICAgICAgICAgICAgIGRlbGF5LAogICAgZGVmZXI6ICAgICAgICAgICAgICAgZGVmZXIsCiAgICB3cmFwOiAgICAgICAgICAgICAgICB3cmFwLAogICAgbWV0aG9kaXplOiAgICAgICAgICAgbWV0aG9kaXplCiAgfTsKCiAgaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkKICAgIGV4dGVuc2lvbnMuYmluZCA9IGJpbmQ7CgogIHJldHVybiBleHRlbnNpb25zOwp9KSgpKTsKCgoKKGZ1bmN0aW9uKHByb3RvKSB7CgoKICBmdW5jdGlvbiB0b0lTT1N0cmluZygpIHsKICAgIHJldHVybiB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLScgKwogICAgICAodGhpcy5nZXRVVENNb250aCgpICsgMSkudG9QYWRkZWRTdHJpbmcoMikgKyAnLScgKwogICAgICB0aGlzLmdldFVUQ0RhdGUoKS50b1BhZGRlZFN0cmluZygyKSArICdUJyArCiAgICAgIHRoaXMuZ2V0VVRDSG91cnMoKS50b1BhZGRlZFN0cmluZygyKSArICc6JyArCiAgICAgIHRoaXMuZ2V0VVRDTWludXRlcygpLnRvUGFkZGVkU3RyaW5nKDIpICsgJzonICsKICAgICAgdGhpcy5nZXRVVENTZWNvbmRzKCkudG9QYWRkZWRTdHJpbmcoMikgKyAnWic7CiAgfQoKCiAgZnVuY3Rpb24gdG9KU09OKCkgewogICAgcmV0dXJuIHRoaXMudG9JU09TdHJpbmcoKTsKICB9CgogIGlmICghcHJvdG8udG9JU09TdHJpbmcpIHByb3RvLnRvSVNPU3RyaW5nID0gdG9JU09TdHJpbmc7CiAgaWYgKCFwcm90by50b0pTT04pIHByb3RvLnRvSlNPTiA9IHRvSlNPTjsKCn0pKERhdGUucHJvdG90eXBlKTsKCgpSZWdFeHAucHJvdG90eXBlLm1hdGNoID0gUmVnRXhwLnByb3RvdHlwZS50ZXN0OwoKUmVnRXhwLmVzY2FwZSA9IGZ1bmN0aW9uKHN0cikgewogIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CnZhciBQZXJpb2RpY2FsRXhlY3V0ZXIgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBmcmVxdWVuY3kpIHsKICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjazsKICAgIHRoaXMuZnJlcXVlbmN5ID0gZnJlcXVlbmN5OwogICAgdGhpcy5jdXJyZW50bHlFeGVjdXRpbmcgPSBmYWxzZTsKCiAgICB0aGlzLnJlZ2lzdGVyQ2FsbGJhY2soKTsKICB9LAoKICByZWdpc3RlckNhbGxiYWNrOiBmdW5jdGlvbigpIHsKICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLm9uVGltZXJFdmVudC5iaW5kKHRoaXMpLCB0aGlzLmZyZXF1ZW5jeSAqIDEwMDApOwogIH0sCgogIGV4ZWN1dGU6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5jYWxsYmFjayh0aGlzKTsKICB9LAoKICBzdG9wOiBmdW5jdGlvbigpIHsKICAgIGlmICghdGhpcy50aW1lcikgcmV0dXJuOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0sCgogIG9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CiAgICBpZiAoIXRoaXMuY3VycmVudGx5RXhlY3V0aW5nKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5jdXJyZW50bHlFeGVjdXRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuZXhlY3V0ZSgpOwogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CiAgICAgICAgdGhyb3cgZTsKICAgICAgfQogICAgfQogIH0KfSk7Ck9iamVjdC5leHRlbmQoU3RyaW5nLCB7CiAgaW50ZXJwcmV0OiBmdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IFN0cmluZyh2YWx1ZSk7CiAgfSwKICBzcGVjaWFsQ2hhcjogewogICAgJ1xiJzogJ1xcYicsCiAgICAnXHQnOiAnXFx0JywKICAgICdcbic6ICdcXG4nLAogICAgJ1xmJzogJ1xcZicsCiAgICAnXHInOiAnXFxyJywKICAgICdcXCc6ICdcXFxcJwogIH0KfSk7CgpPYmplY3QuZXh0ZW5kKFN0cmluZy5wcm90b3R5cGUsIChmdW5jdGlvbigpIHsKICB2YXIgTkFUSVZFX0pTT05fUEFSU0VfU1VQUE9SVCA9IHdpbmRvdy5KU09OICYmCiAgICB0eXBlb2YgSlNPTi5wYXJzZSA9PT0gJ2Z1bmN0aW9uJyAmJgogICAgSlNPTi5wYXJzZSgneyJ0ZXN0IjogdHJ1ZX0nKS50ZXN0OwoKICBmdW5jdGlvbiBwcmVwYXJlUmVwbGFjZW1lbnQocmVwbGFjZW1lbnQpIHsKICAgIGlmIChPYmplY3QuaXNGdW5jdGlvbihyZXBsYWNlbWVudCkpIHJldHVybiByZXBsYWNlbWVudDsKICAgIHZhciB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXBsYWNlbWVudCk7CiAgICByZXR1cm4gZnVuY3Rpb24obWF0Y2gpIHsgcmV0dXJuIHRlbXBsYXRlLmV2YWx1YXRlKG1hdGNoKSB9OwogIH0KCiAgZnVuY3Rpb24gaXNOb25FbXB0eVJlZ0V4cChyZWdleHApIHsKICAgIHJldHVybiByZWdleHAuc291cmNlICYmIHJlZ2V4cC5zb3VyY2UgIT09ICcoPzopJzsKICB9CgoKICBmdW5jdGlvbiBnc3ViKHBhdHRlcm4sIHJlcGxhY2VtZW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJycsIHNvdXJjZSA9IHRoaXMsIG1hdGNoOwogICAgcmVwbGFjZW1lbnQgPSBwcmVwYXJlUmVwbGFjZW1lbnQocmVwbGFjZW1lbnQpOwoKICAgIGlmIChPYmplY3QuaXNTdHJpbmcocGF0dGVybikpCiAgICAgIHBhdHRlcm4gPSBSZWdFeHAuZXNjYXBlKHBhdHRlcm4pOwoKICAgIGlmICghKHBhdHRlcm4ubGVuZ3RoIHx8IGlzTm9uRW1wdHlSZWdFeHAocGF0dGVybikpKSB7CiAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQoJycpOwogICAgICByZXR1cm4gcmVwbGFjZW1lbnQgKyBzb3VyY2Uuc3BsaXQoJycpLmpvaW4ocmVwbGFjZW1lbnQpICsgcmVwbGFjZW1lbnQ7CiAgICB9CgogICAgd2hpbGUgKHNvdXJjZS5sZW5ndGggPiAwKSB7CiAgICAgIG1hdGNoID0gc291cmNlLm1hdGNoKHBhdHRlcm4pCiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFswXS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmVzdWx0ICs9IHNvdXJjZS5zbGljZSgwLCBtYXRjaC5pbmRleCk7CiAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5pbnRlcnByZXQocmVwbGFjZW1lbnQobWF0Y2gpKTsKICAgICAgICBzb3VyY2UgID0gc291cmNlLnNsaWNlKG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgKz0gc291cmNlLCBzb3VyY2UgPSAnJzsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIHN1YihwYXR0ZXJuLCByZXBsYWNlbWVudCwgY291bnQpIHsKICAgIHJlcGxhY2VtZW50ID0gcHJlcGFyZVJlcGxhY2VtZW50KHJlcGxhY2VtZW50KTsKICAgIGNvdW50ID0gT2JqZWN0LmlzVW5kZWZpbmVkKGNvdW50KSA/IDEgOiBjb3VudDsKCiAgICByZXR1cm4gdGhpcy5nc3ViKHBhdHRlcm4sIGZ1bmN0aW9uKG1hdGNoKSB7CiAgICAgIGlmICgtLWNvdW50IDwgMCkgcmV0dXJuIG1hdGNoWzBdOwogICAgICByZXR1cm4gcmVwbGFjZW1lbnQobWF0Y2gpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBzY2FuKHBhdHRlcm4sIGl0ZXJhdG9yKSB7CiAgICB0aGlzLmdzdWIocGF0dGVybiwgaXRlcmF0b3IpOwogICAgcmV0dXJuIFN0cmluZyh0aGlzKTsKICB9CgogIGZ1bmN0aW9uIHRydW5jYXRlKGxlbmd0aCwgdHJ1bmNhdGlvbikgewogICAgbGVuZ3RoID0gbGVuZ3RoIHx8IDMwOwogICAgdHJ1bmNhdGlvbiA9IE9iamVjdC5pc1VuZGVmaW5lZCh0cnVuY2F0aW9uKSA/ICcuLi4nIDogdHJ1bmNhdGlvbjsKICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IGxlbmd0aCA/CiAgICAgIHRoaXMuc2xpY2UoMCwgbGVuZ3RoIC0gdHJ1bmNhdGlvbi5sZW5ndGgpICsgdHJ1bmNhdGlvbiA6IFN0cmluZyh0aGlzKTsKICB9CgogIGZ1bmN0aW9uIHN0cmlwKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzKy8sICcnKS5yZXBsYWNlKC9ccyskLywgJycpOwogIH0KCiAgZnVuY3Rpb24gc3RyaXBUYWdzKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvPFx3KyhccysoIlteIl0qInwnW14nXSonfFtePl0pKyk/Pnw8XC9cdys+L2dpLCAnJyk7CiAgfQoKICBmdW5jdGlvbiBzdHJpcFNjcmlwdHMoKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAnaW1nJyksICcnKTsKICB9CgogIGZ1bmN0aW9uIGV4dHJhY3RTY3JpcHRzKCkgewogICAgdmFyIG1hdGNoQWxsID0gbmV3IFJlZ0V4cChQcm90b3R5cGUuU2NyaXB0RnJhZ21lbnQsICdpbWcnKSwKICAgICAgICBtYXRjaE9uZSA9IG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAnaW0nKTsKICAgIHJldHVybiAodGhpcy5tYXRjaChtYXRjaEFsbCkgfHwgW10pLm1hcChmdW5jdGlvbihzY3JpcHRUYWcpIHsKICAgICAgcmV0dXJuIChzY3JpcHRUYWcubWF0Y2gobWF0Y2hPbmUpIHx8IFsnJywgJyddKVsxXTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gZXZhbFNjcmlwdHMoKSB7CiAgICByZXR1cm4gdGhpcy5leHRyYWN0U2NyaXB0cygpLm1hcChmdW5jdGlvbihzY3JpcHQpIHsgcmV0dXJuIGV2YWwoc2NyaXB0KTsgfSk7CiAgfQoKICBmdW5jdGlvbiBlc2NhcGVIVE1MKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCcmYW1wOycpLnJlcGxhY2UoLzwvZywnJmx0OycpLnJlcGxhY2UoLz4vZywnJmd0OycpOwogIH0KCiAgZnVuY3Rpb24gdW5lc2NhcGVIVE1MKCkgewogICAgcmV0dXJuIHRoaXMuc3RyaXBUYWdzKCkucmVwbGFjZSgvJmx0Oy9nLCc8JykucmVwbGFjZSgvJmd0Oy9nLCc+JykucmVwbGFjZSgvJmFtcDsvZywnJicpOwogIH0KCgogIGZ1bmN0aW9uIHRvUXVlcnlQYXJhbXMoc2VwYXJhdG9yKSB7CiAgICB2YXIgbWF0Y2ggPSB0aGlzLnN0cmlwKCkubWF0Y2goLyhbXj8jXSopKCMuKik/JC8pOwogICAgaWYgKCFtYXRjaCkgcmV0dXJuIHsgfTsKCiAgICByZXR1cm4gbWF0Y2hbMV0uc3BsaXQoc2VwYXJhdG9yIHx8ICcmJykuaW5qZWN0KHsgfSwgZnVuY3Rpb24oaGFzaCwgcGFpcikgewogICAgICBpZiAoKHBhaXIgPSBwYWlyLnNwbGl0KCc9JykpWzBdKSB7CiAgICAgICAgdmFyIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyLnNoaWZ0KCkpLAogICAgICAgICAgICB2YWx1ZSA9IHBhaXIubGVuZ3RoID4gMSA/IHBhaXIuam9pbignPScpIDogcGFpclswXTsKCiAgICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFsdWUgPSB2YWx1ZS5nc3ViKCcrJywgJyAnKTsKICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTsKICAgICAgICB9CgogICAgICAgIGlmIChrZXkgaW4gaGFzaCkgewogICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShoYXNoW2tleV0pKSBoYXNoW2tleV0gPSBbaGFzaFtrZXldXTsKICAgICAgICAgIGhhc2hba2V5XS5wdXNoKHZhbHVlKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBoYXNoW2tleV0gPSB2YWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gaGFzaDsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdG9BcnJheSgpIHsKICAgIHJldHVybiB0aGlzLnNwbGl0KCcnKTsKICB9CgogIGZ1bmN0aW9uIHN1Y2MoKSB7CiAgICByZXR1cm4gdGhpcy5zbGljZSgwLCB0aGlzLmxlbmd0aCAtIDEpICsKICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmNoYXJDb2RlQXQodGhpcy5sZW5ndGggLSAxKSArIDEpOwogIH0KCiAgZnVuY3Rpb24gdGltZXMoY291bnQpIHsKICAgIHJldHVybiBjb3VudCA8IDEgPyAnJyA6IG5ldyBBcnJheShjb3VudCArIDEpLmpvaW4odGhpcyk7CiAgfQoKICBmdW5jdGlvbiBjYW1lbGl6ZSgpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UoLy0rKC4pPy9nLCBmdW5jdGlvbihtYXRjaCwgY2hyKSB7CiAgICAgIHJldHVybiBjaHIgPyBjaHIudG9VcHBlckNhc2UoKSA6ICcnOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjYXBpdGFsaXplKCkgewogICAgcmV0dXJuIHRoaXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpOwogIH0KCiAgZnVuY3Rpb24gdW5kZXJzY29yZSgpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UoLzo6L2csICcvJykKICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSspKFtBLVpdW2Etel0pL2csICckMV8kMicpCiAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oW2EtelxkXSkoW0EtWl0pL2csICckMV8kMicpCiAgICAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csICdfJykKICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCk7CiAgfQoKICBmdW5jdGlvbiBkYXNoZXJpemUoKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9fL2csICctJyk7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KHVzZURvdWJsZVF1b3RlcykgewogICAgdmFyIGVzY2FwZWRTdHJpbmcgPSB0aGlzLnJlcGxhY2UoL1tceDAwLVx4MWZcXF0vZywgZnVuY3Rpb24oY2hhcmFjdGVyKSB7CiAgICAgIGlmIChjaGFyYWN0ZXIgaW4gU3RyaW5nLnNwZWNpYWxDaGFyKSB7CiAgICAgICAgcmV0dXJuIFN0cmluZy5zcGVjaWFsQ2hhcltjaGFyYWN0ZXJdOwogICAgICB9CiAgICAgIHJldHVybiAnXFx1MDAnICsgY2hhcmFjdGVyLmNoYXJDb2RlQXQoKS50b1BhZGRlZFN0cmluZygyLCAxNik7CiAgICB9KTsKICAgIGlmICh1c2VEb3VibGVRdW90ZXMpIHJldHVybiAnIicgKyBlc2NhcGVkU3RyaW5nLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyInOwogICAgcmV0dXJuICInIiArIGVzY2FwZWRTdHJpbmcucmVwbGFjZSgvJy9nLCAnXFxcJycpICsgIiciOwogIH0KCiAgZnVuY3Rpb24gdW5maWx0ZXJKU09OKGZpbHRlcikgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZShmaWx0ZXIgfHwgUHJvdG90eXBlLkpTT05GaWx0ZXIsICckMScpOwogIH0KCiAgZnVuY3Rpb24gaXNKU09OKCkgewogICAgdmFyIHN0ciA9IHRoaXM7CiAgICBpZiAoc3RyLmJsYW5rKCkpIHJldHVybiBmYWxzZTsKICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXCg/OlsiXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2csICdAJyk7CiAgICBzdHIgPSBzdHIucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csICddJyk7CiAgICBzdHIgPSBzdHIucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCAnJyk7CiAgICByZXR1cm4gKC9eW1xdLDp7fVxzXSokLykudGVzdChzdHIpOwogIH0KCiAgZnVuY3Rpb24gZXZhbEpTT04oc2FuaXRpemUpIHsKICAgIHZhciBqc29uID0gdGhpcy51bmZpbHRlckpTT04oKSwKICAgICAgICBjeCA9IC9bXHUwMDAwXHUwMGFkXHUwNjAwLVx1MDYwNFx1MDcwZlx1MTdiNFx1MTdiNVx1MjAwYy1cdTIwMGZcdTIwMjgtXHUyMDJmXHUyMDYwLVx1MjA2Zlx1ZmVmZlx1ZmZmMC1cdWZmZmZdL2c7CiAgICBpZiAoY3gudGVzdChqc29uKSkgewogICAgICBqc29uID0ganNvbi5yZXBsYWNlKGN4LCBmdW5jdGlvbiAoYSkgewogICAgICAgIHJldHVybiAnXFx1JyArICgnMDAwMCcgKyBhLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7CiAgICAgIH0pOwogICAgfQogICAgdHJ5IHsKICAgICAgaWYgKCFzYW5pdGl6ZSB8fCBqc29uLmlzSlNPTigpKSByZXR1cm4gZXZhbCgnKCcgKyBqc29uICsgJyknKTsKICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdCYWRseSBmb3JtZWQgSlNPTiBzdHJpbmc6ICcgKyB0aGlzLmluc3BlY3QoKSk7CiAgfQoKICBmdW5jdGlvbiBwYXJzZUpTT04oKSB7CiAgICB2YXIganNvbiA9IHRoaXMudW5maWx0ZXJKU09OKCk7CiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTsKICB9CgogIGZ1bmN0aW9uIGluY2x1ZGUocGF0dGVybikgewogICAgcmV0dXJuIHRoaXMuaW5kZXhPZihwYXR0ZXJuKSA+IC0xOwogIH0KCiAgZnVuY3Rpb24gc3RhcnRzV2l0aChwYXR0ZXJuLCBwb3NpdGlvbikgewogICAgcG9zaXRpb24gPSBPYmplY3QuaXNOdW1iZXIocG9zaXRpb24pID8gcG9zaXRpb24gOiAwOwogICAgcmV0dXJuIHRoaXMubGFzdEluZGV4T2YocGF0dGVybiwgcG9zaXRpb24pID09PSBwb3NpdGlvbjsKICB9CgogIGZ1bmN0aW9uIGVuZHNXaXRoKHBhdHRlcm4sIHBvc2l0aW9uKSB7CiAgICBwYXR0ZXJuID0gU3RyaW5nKHBhdHRlcm4pOwogICAgcG9zaXRpb24gPSBPYmplY3QuaXNOdW1iZXIocG9zaXRpb24pID8gcG9zaXRpb24gOiB0aGlzLmxlbmd0aDsKICAgIGlmIChwb3NpdGlvbiA8IDApIHBvc2l0aW9uID0gMDsKICAgIGlmIChwb3NpdGlvbiA+IHRoaXMubGVuZ3RoKSBwb3NpdGlvbiA9IHRoaXMubGVuZ3RoOwogICAgdmFyIGQgPSBwb3NpdGlvbiAtIHBhdHRlcm4ubGVuZ3RoOwogICAgcmV0dXJuIGQgPj0gMCAmJiB0aGlzLmluZGV4T2YocGF0dGVybiwgZCkgPT09IGQ7CiAgfQoKICBmdW5jdGlvbiBlbXB0eSgpIHsKICAgIHJldHVybiB0aGlzID09ICcnOwogIH0KCiAgZnVuY3Rpb24gYmxhbmsoKSB7CiAgICByZXR1cm4gL15ccyokLy50ZXN0KHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGUob2JqZWN0LCBwYXR0ZXJuKSB7CiAgICByZXR1cm4gbmV3IFRlbXBsYXRlKHRoaXMsIHBhdHRlcm4pLmV2YWx1YXRlKG9iamVjdCk7CiAgfQoKICByZXR1cm4gewogICAgZ3N1YjogICAgICAgICAgIGdzdWIsCiAgICBzdWI6ICAgICAgICAgICAgc3ViLAogICAgc2NhbjogICAgICAgICAgIHNjYW4sCiAgICB0cnVuY2F0ZTogICAgICAgdHJ1bmNhdGUsCiAgICBzdHJpcDogICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS50cmltIHx8IHN0cmlwLAogICAgc3RyaXBUYWdzOiAgICAgIHN0cmlwVGFncywKICAgIHN0cmlwU2NyaXB0czogICBzdHJpcFNjcmlwdHMsCiAgICBleHRyYWN0U2NyaXB0czogZXh0cmFjdFNjcmlwdHMsCiAgICBldmFsU2NyaXB0czogICAgZXZhbFNjcmlwdHMsCiAgICBlc2NhcGVIVE1MOiAgICAgZXNjYXBlSFRNTCwKICAgIHVuZXNjYXBlSFRNTDogICB1bmVzY2FwZUhUTUwsCiAgICB0b1F1ZXJ5UGFyYW1zOiAgdG9RdWVyeVBhcmFtcywKICAgIHBhcnNlUXVlcnk6ICAgICB0b1F1ZXJ5UGFyYW1zLAogICAgdG9BcnJheTogICAgICAgIHRvQXJyYXksCiAgICBzdWNjOiAgICAgICAgICAgc3VjYywKICAgIHRpbWVzOiAgICAgICAgICB0aW1lcywKICAgIGNhbWVsaXplOiAgICAgICBjYW1lbGl6ZSwKICAgIGNhcGl0YWxpemU6ICAgICBjYXBpdGFsaXplLAogICAgdW5kZXJzY29yZTogICAgIHVuZGVyc2NvcmUsCiAgICBkYXNoZXJpemU6ICAgICAgZGFzaGVyaXplLAogICAgaW5zcGVjdDogICAgICAgIGluc3BlY3QsCiAgICB1bmZpbHRlckpTT046ICAgdW5maWx0ZXJKU09OLAogICAgaXNKU09OOiAgICAgICAgIGlzSlNPTiwKICAgIGV2YWxKU09OOiAgICAgICBOQVRJVkVfSlNPTl9QQVJTRV9TVVBQT1JUID8gcGFyc2VKU09OIDogZXZhbEpTT04sCiAgICBpbmNsdWRlOiAgICAgICAgaW5jbHVkZSwKICAgIHN0YXJ0c1dpdGg6ICAgICBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggfHwgc3RhcnRzV2l0aCwKICAgIGVuZHNXaXRoOiAgICAgICBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoIHx8IGVuZHNXaXRoLAogICAgZW1wdHk6ICAgICAgICAgIGVtcHR5LAogICAgYmxhbms6ICAgICAgICAgIGJsYW5rLAogICAgaW50ZXJwb2xhdGU6ICAgIGludGVycG9sYXRlCiAgfTsKfSkoKSk7Cgp2YXIgVGVtcGxhdGUgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKHRlbXBsYXRlLCBwYXR0ZXJuKSB7CiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGUudG9TdHJpbmcoKTsKICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm4gfHwgVGVtcGxhdGUuUGF0dGVybjsKICB9LAoKICBldmFsdWF0ZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICBpZiAob2JqZWN0ICYmIE9iamVjdC5pc0Z1bmN0aW9uKG9iamVjdC50b1RlbXBsYXRlUmVwbGFjZW1lbnRzKSkKICAgICAgb2JqZWN0ID0gb2JqZWN0LnRvVGVtcGxhdGVSZXBsYWNlbWVudHMoKTsKCiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZS5nc3ViKHRoaXMucGF0dGVybiwgZnVuY3Rpb24obWF0Y2gpIHsKICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gKG1hdGNoWzFdICsgJycpOwoKICAgICAgdmFyIGJlZm9yZSA9IG1hdGNoWzFdIHx8ICcnOwogICAgICBpZiAoYmVmb3JlID09ICdcXCcpIHJldHVybiBtYXRjaFsyXTsKCiAgICAgIHZhciBjdHggPSBvYmplY3QsIGV4cHIgPSBtYXRjaFszXSwKICAgICAgICAgIHBhdHRlcm4gPSAvXihbXi5bXSt8XFsoKD86Lio/W15cXF0pPylcXSkoXC58XFt8JCkvOwoKICAgICAgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoZXhwcik7CiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSByZXR1cm4gYmVmb3JlOwoKICAgICAgd2hpbGUgKG1hdGNoICE9IG51bGwpIHsKICAgICAgICB2YXIgY29tcCA9IG1hdGNoWzFdLnN0YXJ0c1dpdGgoJ1snKSA/IG1hdGNoWzJdLnJlcGxhY2UoL1xcXFxdL2csICddJykgOiBtYXRjaFsxXTsKICAgICAgICBjdHggPSBjdHhbY29tcF07CiAgICAgICAgaWYgKG51bGwgPT0gY3R4IHx8ICcnID09IG1hdGNoWzNdKSBicmVhazsKICAgICAgICBleHByID0gZXhwci5zdWJzdHJpbmcoJ1snID09IG1hdGNoWzNdID8gbWF0Y2hbMV0ubGVuZ3RoIDogbWF0Y2hbMF0ubGVuZ3RoKTsKICAgICAgICBtYXRjaCA9IHBhdHRlcm4uZXhlYyhleHByKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGJlZm9yZSArIFN0cmluZy5pbnRlcnByZXQoY3R4KTsKICAgIH0pOwogIH0KfSk7ClRlbXBsYXRlLlBhdHRlcm4gPSAvKF58LnxccnxcbikoI1x7KC4qPylcfSkvOwoKdmFyICRicmVhayA9IHsgfTsKCnZhciBFbnVtZXJhYmxlID0gKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIGVhY2goaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMuX2VhY2goaXRlcmF0b3IsIGNvbnRleHQpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAoZSAhPSAkYnJlYWspIHRocm93IGU7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9CgogIGZ1bmN0aW9uIGVhY2hTbGljZShudW1iZXIsIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgaW5kZXggPSAtbnVtYmVyLCBzbGljZXMgPSBbXSwgYXJyYXkgPSB0aGlzLnRvQXJyYXkoKTsKICAgIGlmIChudW1iZXIgPCAxKSByZXR1cm4gYXJyYXk7CiAgICB3aGlsZSAoKGluZGV4ICs9IG51bWJlcikgPCBhcnJheS5sZW5ndGgpCiAgICAgIHNsaWNlcy5wdXNoKGFycmF5LnNsaWNlKGluZGV4LCBpbmRleCtudW1iZXIpKTsKICAgIHJldHVybiBzbGljZXMuY29sbGVjdChpdGVyYXRvciwgY29udGV4dCk7CiAgfQoKICBmdW5jdGlvbiBhbGwoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmICEhaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIHRoaXMpOwogICAgICBpZiAoIXJlc3VsdCkgdGhyb3cgJGJyZWFrOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gYW55KGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAocmVzdWx0ID0gISFpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykpCiAgICAgICAgdGhyb3cgJGJyZWFrOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gY29sbGVjdChpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHJlc3VsdHMucHVzaChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIGRldGVjdChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdDsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKSkgewogICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgICAgIHRocm93ICRicmVhazsKICAgICAgfQogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gZmluZEFsbChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKSkKICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIGdyZXAoZmlsdGVyLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHRzID0gW107CgogICAgaWYgKE9iamVjdC5pc1N0cmluZyhmaWx0ZXIpKQogICAgICBmaWx0ZXIgPSBuZXcgUmVnRXhwKFJlZ0V4cC5lc2NhcGUoZmlsdGVyKSk7CgogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAoZmlsdGVyLm1hdGNoKHZhbHVlKSkKICAgICAgICByZXN1bHRzLnB1c2goaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIHRoaXMpKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBpbmNsdWRlKG9iamVjdCkgewogICAgaWYgKE9iamVjdC5pc0Z1bmN0aW9uKHRoaXMuaW5kZXhPZikgJiYgdGhpcy5pbmRleE9mKG9iamVjdCkgIT0gLTEpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSBvYmplY3QpIHsKICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgdGhyb3cgJGJyZWFrOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBmb3VuZDsKICB9CgogIGZ1bmN0aW9uIGluR3JvdXBzT2YobnVtYmVyLCBmaWxsV2l0aCkgewogICAgZmlsbFdpdGggPSBPYmplY3QuaXNVbmRlZmluZWQoZmlsbFdpdGgpID8gbnVsbCA6IGZpbGxXaXRoOwogICAgcmV0dXJuIHRoaXMuZWFjaFNsaWNlKG51bWJlciwgZnVuY3Rpb24oc2xpY2UpIHsKICAgICAgd2hpbGUoc2xpY2UubGVuZ3RoIDwgbnVtYmVyKSBzbGljZS5wdXNoKGZpbGxXaXRoKTsKICAgICAgcmV0dXJuIHNsaWNlOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpbmplY3QobWVtbywgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgdmFsdWUsIGluZGV4LCB0aGlzKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIG1lbW87CiAgfQoKICBmdW5jdGlvbiBpbnZva2UobWV0aG9kKSB7CiAgICB2YXIgYXJncyA9ICRBKGFyZ3VtZW50cykuc2xpY2UoMSk7CiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlW21ldGhvZF0uYXBwbHkodmFsdWUsIGFyZ3MpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBtYXgoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgcmVzdWx0OwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKTsKICAgICAgaWYgKHJlc3VsdCA9PSBudWxsIHx8IHZhbHVlID49IHJlc3VsdCkKICAgICAgICByZXN1bHQgPSB2YWx1ZTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG1pbihpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHQ7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHZhbHVlID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIHRoaXMpOwogICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgdmFsdWUgPCByZXN1bHQpCiAgICAgICAgcmVzdWx0ID0gdmFsdWU7CiAgICB9LCB0aGlzKTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBwYXJ0aXRpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgdHJ1ZXMgPSBbXSwgZmFsc2VzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykgPwogICAgICAgIHRydWVzIDogZmFsc2VzKS5wdXNoKHZhbHVlKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIFt0cnVlcywgZmFsc2VzXTsKICB9CgogIGZ1bmN0aW9uIHBsdWNrKHByb3BlcnR5KSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZVtwcm9wZXJ0eV0pOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIHJlamVjdChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKCFpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykpCiAgICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBzb3J0QnkoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKQogICAgICB9OwogICAgfSwgdGhpcykuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkgewogICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWEsIGIgPSByaWdodC5jcml0ZXJpYTsKICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwOwogICAgfSkucGx1Y2soJ3ZhbHVlJyk7CiAgfQoKICBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgcmV0dXJuIHRoaXMubWFwKCk7CiAgfQoKICBmdW5jdGlvbiB6aXAoKSB7CiAgICB2YXIgaXRlcmF0b3IgPSBQcm90b3R5cGUuSywgYXJncyA9ICRBKGFyZ3VtZW50cyk7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24oYXJncy5sYXN0KCkpKQogICAgICBpdGVyYXRvciA9IGFyZ3MucG9wKCk7CgogICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcmdzKS5tYXAoJEEpOwogICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXR1cm4gaXRlcmF0b3IoY29sbGVjdGlvbnMucGx1Y2soaW5kZXgpKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gc2l6ZSgpIHsKICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KCkgewogICAgcmV0dXJuICcjPEVudW1lcmFibGU6JyArIHRoaXMudG9BcnJheSgpLmluc3BlY3QoKSArICc+JzsKICB9CgoKCgoKCgoKCiAgcmV0dXJuIHsKICAgIGVhY2g6ICAgICAgIGVhY2gsCiAgICBlYWNoU2xpY2U6ICBlYWNoU2xpY2UsCiAgICBhbGw6ICAgICAgICBhbGwsCiAgICBldmVyeTogICAgICBhbGwsCiAgICBhbnk6ICAgICAgICBhbnksCiAgICBzb21lOiAgICAgICBhbnksCiAgICBjb2xsZWN0OiAgICBjb2xsZWN0LAogICAgbWFwOiAgICAgICAgY29sbGVjdCwKICAgIGRldGVjdDogICAgIGRldGVjdCwKICAgIGZpbmRBbGw6ICAgIGZpbmRBbGwsCiAgICBzZWxlY3Q6ICAgICBmaW5kQWxsLAogICAgZmlsdGVyOiAgICAgZmluZEFsbCwKICAgIGdyZXA6ICAgICAgIGdyZXAsCiAgICBpbmNsdWRlOiAgICBpbmNsdWRlLAogICAgbWVtYmVyOiAgICAgaW5jbHVkZSwKICAgIGluR3JvdXBzT2Y6IGluR3JvdXBzT2YsCiAgICBpbmplY3Q6ICAgICBpbmplY3QsCiAgICBpbnZva2U6ICAgICBpbnZva2UsCiAgICBtYXg6ICAgICAgICBtYXgsCiAgICBtaW46ICAgICAgICBtaW4sCiAgICBwYXJ0aXRpb246ICBwYXJ0aXRpb24sCiAgICBwbHVjazogICAgICBwbHVjaywKICAgIHJlamVjdDogICAgIHJlamVjdCwKICAgIHNvcnRCeTogICAgIHNvcnRCeSwKICAgIHRvQXJyYXk6ICAgIHRvQXJyYXksCiAgICBlbnRyaWVzOiAgICB0b0FycmF5LAogICAgemlwOiAgICAgICAgemlwLAogICAgc2l6ZTogICAgICAgc2l6ZSwKICAgIGluc3BlY3Q6ICAgIGluc3BlY3QsCiAgICBmaW5kOiAgICAgICBkZXRlY3QKICB9Owp9KSgpOwoKZnVuY3Rpb24gJEEoaXRlcmFibGUpIHsKICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gW107CiAgaWYgKCd0b0FycmF5JyBpbiBPYmplY3QoaXRlcmFibGUpKSByZXR1cm4gaXRlcmFibGUudG9BcnJheSgpOwogIHZhciBsZW5ndGggPSBpdGVyYWJsZS5sZW5ndGggfHwgMCwgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpOwogIHdoaWxlIChsZW5ndGgtLSkgcmVzdWx0c1tsZW5ndGhdID0gaXRlcmFibGVbbGVuZ3RoXTsKICByZXR1cm4gcmVzdWx0czsKfQoKCmZ1bmN0aW9uICR3KHN0cmluZykgewogIGlmICghT2JqZWN0LmlzU3RyaW5nKHN0cmluZykpIHJldHVybiBbXTsKICBzdHJpbmcgPSBzdHJpbmcuc3RyaXAoKTsKICByZXR1cm4gc3RyaW5nID8gc3RyaW5nLnNwbGl0KC9ccysvKSA6IFtdOwp9CgpBcnJheS5mcm9tID0gJEE7CgoKKGZ1bmN0aW9uKCkgewogIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLAogICAgICBzbGljZSA9IGFycmF5UHJvdG8uc2xpY2UsCiAgICAgIF9lYWNoID0gYXJyYXlQcm90by5mb3JFYWNoOyAvLyB1c2UgbmF0aXZlIGJyb3dzZXIgSlMgMS42IGltcGxlbWVudGF0aW9uIGlmIGF2YWlsYWJsZQoKICBmdW5jdGlvbiBlYWNoKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5sZW5ndGggPj4+IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoaSBpbiB0aGlzKSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHRoaXNbaV0sIGksIHRoaXMpOwogICAgfQogIH0KICBpZiAoIV9lYWNoKSBfZWFjaCA9IGVhY2g7CgogIGZ1bmN0aW9uIGNsZWFyKCkgewogICAgdGhpcy5sZW5ndGggPSAwOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBmaXJzdCgpIHsKICAgIHJldHVybiB0aGlzWzBdOwogIH0KCiAgZnVuY3Rpb24gbGFzdCgpIHsKICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07CiAgfQoKICBmdW5jdGlvbiBjb21wYWN0KCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBmbGF0dGVuKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtdLCBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHsKICAgICAgaWYgKE9iamVjdC5pc0FycmF5KHZhbHVlKSkKICAgICAgICByZXR1cm4gYXJyYXkuY29uY2F0KHZhbHVlLmZsYXR0ZW4oKSk7CiAgICAgIGFycmF5LnB1c2godmFsdWUpOwogICAgICByZXR1cm4gYXJyYXk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHdpdGhvdXQoKSB7CiAgICB2YXIgdmFsdWVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiAhdmFsdWVzLmluY2x1ZGUodmFsdWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiByZXZlcnNlKGlubGluZSkgewogICAgcmV0dXJuIChpbmxpbmUgPT09IGZhbHNlID8gdGhpcy50b0FycmF5KCkgOiB0aGlzKS5fcmV2ZXJzZSgpOwogIH0KCiAgZnVuY3Rpb24gdW5pcShzb3J0ZWQpIHsKICAgIHJldHVybiB0aGlzLmluamVjdChbXSwgZnVuY3Rpb24oYXJyYXksIHZhbHVlLCBpbmRleCkgewogICAgICBpZiAoMCA9PSBpbmRleCB8fCAoc29ydGVkID8gYXJyYXkubGFzdCgpICE9IHZhbHVlIDogIWFycmF5LmluY2x1ZGUodmFsdWUpKSkKICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpbnRlcnNlY3QoYXJyYXkpIHsKICAgIHJldHVybiB0aGlzLnVuaXEoKS5maW5kQWxsKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xOwogICAgfSk7CiAgfQoKCiAgZnVuY3Rpb24gY2xvbmUoKSB7CiAgICByZXR1cm4gc2xpY2UuY2FsbCh0aGlzLCAwKTsKICB9CgogIGZ1bmN0aW9uIHNpemUoKSB7CiAgICByZXR1cm4gdGhpcy5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KCkgewogICAgcmV0dXJuICdbJyArIHRoaXMubWFwKE9iamVjdC5pbnNwZWN0KS5qb2luKCcsICcpICsgJ10nOwogIH0KCiAgZnVuY3Rpb24gaW5kZXhPZihpdGVtLCBpKSB7CiAgICBpZiAodGhpcyA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CgogICAgdmFyIGFycmF5ID0gT2JqZWN0KHRoaXMpLCBsZW5ndGggPSBhcnJheS5sZW5ndGggPj4+IDA7CiAgICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gLTE7CgogICAgaSA9IE51bWJlcihpKTsKICAgIGlmIChpc05hTihpKSkgewogICAgICBpID0gMDsKICAgIH0gZWxzZSBpZiAoaSAhPT0gMCAmJiBpc0Zpbml0ZShpKSkgewogICAgICBpID0gKGkgPiAwID8gMSA6IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMoaSkpOwogICAgfQoKICAgIGlmIChpID4gbGVuZ3RoKSByZXR1cm4gLTE7CgogICAgdmFyIGsgPSBpID49IDAgPyBpIDogTWF0aC5tYXgobGVuZ3RoIC0gTWF0aC5hYnMoaSksIDApOwogICAgZm9yICg7IGsgPCBsZW5ndGg7IGsrKykKICAgICAgaWYgKGsgaW4gYXJyYXkgJiYgYXJyYXlba10gPT09IGl0ZW0pIHJldHVybiBrOwogICAgcmV0dXJuIC0xOwogIH0KCgogIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGl0ZW0sIGkpIHsKICAgIGlmICh0aGlzID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKCiAgICB2YXIgYXJyYXkgPSBPYmplY3QodGhpcyksIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA+Pj4gMDsKICAgIGlmIChsZW5ndGggPT09IDApIHJldHVybiAtMTsKCiAgICBpZiAoIU9iamVjdC5pc1VuZGVmaW5lZChpKSkgewogICAgICBpID0gTnVtYmVyKGkpOwogICAgICBpZiAoaXNOYU4oaSkpIHsKICAgICAgICBpID0gMDsKICAgICAgfSBlbHNlIGlmIChpICE9PSAwICYmIGlzRmluaXRlKGkpKSB7CiAgICAgICAgaSA9IChpID4gMCA/IDEgOiAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKGkpKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaSA9IGxlbmd0aDsKICAgIH0KCiAgICB2YXIgayA9IGkgPj0gMCA/IE1hdGgubWluKGksIGxlbmd0aCAtIDEpIDoKICAgICBsZW5ndGggLSBNYXRoLmFicyhpKTsKCiAgICBmb3IgKDsgayA+PSAwOyBrLS0pCiAgICAgIGlmIChrIGluIGFycmF5ICYmIGFycmF5W2tdID09PSBpdGVtKSByZXR1cm4gazsKICAgIHJldHVybiAtMTsKICB9CgogIGZ1bmN0aW9uIGNvbmNhdChfKSB7CiAgICB2YXIgYXJyYXkgPSBbXSwgaXRlbXMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCksIGl0ZW0sIG4gPSAwOwogICAgaXRlbXMudW5zaGlmdCh0aGlzKTsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpdGVtID0gaXRlbXNbaV07CiAgICAgIGlmIChPYmplY3QuaXNBcnJheShpdGVtKSAmJiAhKCdjYWxsZWUnIGluIGl0ZW0pKSB7CiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGFycmF5TGVuZ3RoID0gaXRlbS5sZW5ndGg7IGogPCBhcnJheUxlbmd0aDsgaisrKSB7CiAgICAgICAgICBpZiAoaiBpbiBpdGVtKSBhcnJheVtuXSA9IGl0ZW1bal07CiAgICAgICAgICBuKys7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGFycmF5W24rK10gPSBpdGVtOwogICAgICB9CiAgICB9CiAgICBhcnJheS5sZW5ndGggPSBuOwogICAgcmV0dXJuIGFycmF5OwogIH0KCgogIGZ1bmN0aW9uIHdyYXBOYXRpdmUobWV0aG9kKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMsIFByb3RvdHlwZS5LKTsKICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgICAgIGFyZ3MudW5zaGlmdChQcm90b3R5cGUuSyk7CiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgIH07CiAgfQoKCiAgZnVuY3Rpb24gbWFwKGl0ZXJhdG9yKSB7CiAgICBpZiAodGhpcyA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwoKICAgIHZhciBvYmplY3QgPSBPYmplY3QodGhpcyk7CiAgICB2YXIgcmVzdWx0cyA9IFtdLCBjb250ZXh0ID0gYXJndW1lbnRzWzFdLCBuID0gMDsKCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aCA+Pj4gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChpIGluIG9iamVjdCkgewogICAgICAgIHJlc3VsdHNbbl0gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9iamVjdFtpXSwgaSwgb2JqZWN0KTsKICAgICAgfQogICAgICBuKys7CiAgICB9CiAgICByZXN1bHRzLmxlbmd0aCA9IG47CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGlmIChhcnJheVByb3RvLm1hcCkgewogICAgbWFwID0gd3JhcE5hdGl2ZShBcnJheS5wcm90b3R5cGUubWFwKTsKICB9CgogIGZ1bmN0aW9uIGZpbHRlcihpdGVyYXRvcikgewogICAgaWYgKHRoaXMgPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnVuY3Rpb24oaXRlcmF0b3IpKQogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CgogICAgdmFyIG9iamVjdCA9IE9iamVjdCh0aGlzKTsKICAgIHZhciByZXN1bHRzID0gW10sIGNvbnRleHQgPSBhcmd1bWVudHNbMV0sIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoID4+PiAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGkgaW4gb2JqZWN0KSB7CiAgICAgICAgdmFsdWUgPSBvYmplY3RbaV07CiAgICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGksIG9iamVjdCkpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGlmIChhcnJheVByb3RvLmZpbHRlcikgewogICAgZmlsdGVyID0gQXJyYXkucHJvdG90eXBlLmZpbHRlcjsKICB9CgogIGZ1bmN0aW9uIHNvbWUoaXRlcmF0b3IpIHsKICAgIGlmICh0aGlzID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50c1sxXTsKCiAgICB2YXIgb2JqZWN0ID0gT2JqZWN0KHRoaXMpOwogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGggPj4+IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoaSBpbiBvYmplY3QgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmplY3RbaV0sIGksIG9iamVjdCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGlmIChhcnJheVByb3RvLnNvbWUpIHsKICAgIHZhciBzb21lID0gd3JhcE5hdGl2ZShBcnJheS5wcm90b3R5cGUuc29tZSk7CiAgfQoKCiAgZnVuY3Rpb24gZXZlcnkoaXRlcmF0b3IpIHsKICAgIGlmICh0aGlzID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50c1sxXTsKCiAgICB2YXIgb2JqZWN0ID0gT2JqZWN0KHRoaXMpOwogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGggPj4+IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoaSBpbiBvYmplY3QgJiYgIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqZWN0W2ldLCBpLCBvYmplY3QpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBpZiAoYXJyYXlQcm90by5ldmVyeSkgewogICAgdmFyIGV2ZXJ5ID0gd3JhcE5hdGl2ZShBcnJheS5wcm90b3R5cGUuZXZlcnkpOwogIH0KCiAgdmFyIF9yZWR1Y2UgPSBhcnJheVByb3RvLnJlZHVjZTsKICBmdW5jdGlvbiBpbmplY3QobWVtbywgaXRlcmF0b3IpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50c1syXTsKICAgIHJldHVybiBfcmVkdWNlLmNhbGwodGhpcywgaXRlcmF0b3IuYmluZChjb250ZXh0KSwgbWVtbyk7CiAgfQoKICBpZiAoIWFycmF5UHJvdG8ucmVkdWNlKSB7CiAgICB2YXIgaW5qZWN0ID0gRW51bWVyYWJsZS5pbmplY3Q7CiAgfQoKICBPYmplY3QuZXh0ZW5kKGFycmF5UHJvdG8sIEVudW1lcmFibGUpOwoKICBpZiAoIWFycmF5UHJvdG8uX3JldmVyc2UpCiAgICBhcnJheVByb3RvLl9yZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlOwoKICBPYmplY3QuZXh0ZW5kKGFycmF5UHJvdG8sIHsKICAgIF9lYWNoOiAgICAgX2VhY2gsCgogICAgbWFwOiAgICAgICBtYXAsCiAgICBjb2xsZWN0OiAgIG1hcCwKICAgIHNlbGVjdDogICAgZmlsdGVyLAogICAgZmlsdGVyOiAgICBmaWx0ZXIsCiAgICBmaW5kQWxsOiAgIGZpbHRlciwKICAgIHNvbWU6ICAgICAgc29tZSwKICAgIGFueTogICAgICAgc29tZSwKICAgIGV2ZXJ5OiAgICAgZXZlcnksCiAgICBhbGw6ICAgICAgIGV2ZXJ5LAogICAgaW5qZWN0OiAgICBpbmplY3QsCgogICAgY2xlYXI6ICAgICBjbGVhciwKICAgIGZpcnN0OiAgICAgZmlyc3QsCiAgICBsYXN0OiAgICAgIGxhc3QsCiAgICBjb21wYWN0OiAgIGNvbXBhY3QsCiAgICBmbGF0dGVuOiAgIGZsYXR0ZW4sCiAgICB3aXRob3V0OiAgIHdpdGhvdXQsCiAgICByZXZlcnNlOiAgIHJldmVyc2UsCiAgICB1bmlxOiAgICAgIHVuaXEsCiAgICBpbnRlcnNlY3Q6IGludGVyc2VjdCwKICAgIGNsb25lOiAgICAgY2xvbmUsCiAgICB0b0FycmF5OiAgIGNsb25lLAogICAgc2l6ZTogICAgICBzaXplLAogICAgaW5zcGVjdDogICBpbnNwZWN0CiAgfSk7CgogIHZhciBDT05DQVRfQVJHVU1FTlRTX0JVR0dZID0gKGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIFtdLmNvbmNhdChhcmd1bWVudHMpWzBdWzBdICE9PSAxOwogIH0pKDEsMik7CgogIGlmIChDT05DQVRfQVJHVU1FTlRTX0JVR0dZKSBhcnJheVByb3RvLmNvbmNhdCA9IGNvbmNhdDsKCiAgaWYgKCFhcnJheVByb3RvLmluZGV4T2YpIGFycmF5UHJvdG8uaW5kZXhPZiA9IGluZGV4T2Y7CiAgaWYgKCFhcnJheVByb3RvLmxhc3RJbmRleE9mKSBhcnJheVByb3RvLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7Cn0pKCk7CmZ1bmN0aW9uICRIKG9iamVjdCkgewogIHJldHVybiBuZXcgSGFzaChvYmplY3QpOwp9OwoKdmFyIEhhc2ggPSBDbGFzcy5jcmVhdGUoRW51bWVyYWJsZSwgKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIGluaXRpYWxpemUob2JqZWN0KSB7CiAgICB0aGlzLl9vYmplY3QgPSBPYmplY3QuaXNIYXNoKG9iamVjdCkgPyBvYmplY3QudG9PYmplY3QoKSA6IE9iamVjdC5jbG9uZShvYmplY3QpOwogIH0KCgogIGZ1bmN0aW9uIF9lYWNoKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgaSA9IDA7CiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5fb2JqZWN0KSB7CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX29iamVjdFtrZXldLCBwYWlyID0gW2tleSwgdmFsdWVdOwogICAgICBwYWlyLmtleSA9IGtleTsKICAgICAgcGFpci52YWx1ZSA9IHZhbHVlOwogICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHBhaXIsIGkpOwogICAgICBpKys7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkgewogICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldID0gdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBnZXQoa2V5KSB7CiAgICBpZiAodGhpcy5fb2JqZWN0W2tleV0gIT09IE9iamVjdC5wcm90b3R5cGVba2V5XSkKICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldOwogIH0KCiAgZnVuY3Rpb24gdW5zZXQoa2V5KSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzLl9vYmplY3Rba2V5XTsKICAgIGRlbGV0ZSB0aGlzLl9vYmplY3Rba2V5XTsKICAgIHJldHVybiB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHRvT2JqZWN0KCkgewogICAgcmV0dXJuIE9iamVjdC5jbG9uZSh0aGlzLl9vYmplY3QpOwogIH0KCgoKICBmdW5jdGlvbiBrZXlzKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ2tleScpOwogIH0KCiAgZnVuY3Rpb24gdmFsdWVzKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ3ZhbHVlJyk7CiAgfQoKICBmdW5jdGlvbiBpbmRleCh2YWx1ZSkgewogICAgdmFyIG1hdGNoID0gdGhpcy5kZXRlY3QoZnVuY3Rpb24ocGFpcikgewogICAgICByZXR1cm4gcGFpci52YWx1ZSA9PT0gdmFsdWU7CiAgICB9KTsKICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaC5rZXk7CiAgfQoKICBmdW5jdGlvbiBtZXJnZShvYmplY3QpIHsKICAgIHJldHVybiB0aGlzLmNsb25lKCkudXBkYXRlKG9iamVjdCk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0KSB7CiAgICByZXR1cm4gbmV3IEhhc2gob2JqZWN0KS5pbmplY3QodGhpcywgZnVuY3Rpb24ocmVzdWx0LCBwYWlyKSB7CiAgICAgIHJlc3VsdC5zZXQocGFpci5rZXksIHBhaXIudmFsdWUpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0b1F1ZXJ5UGFpcihrZXksIHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGtleTsKCiAgICB2YWx1ZSA9IFN0cmluZy5pbnRlcnByZXQodmFsdWUpOwoKICAgIHZhbHVlID0gdmFsdWUuZ3N1YigvKFxyKT9cbi8sICdcclxuJyk7CiAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICB2YWx1ZSA9IHZhbHVlLmdzdWIoLyUyMC8sICcrJyk7CiAgICByZXR1cm4ga2V5ICsgJz0nICsgdmFsdWU7CiAgfQoKICBmdW5jdGlvbiB0b1F1ZXJ5U3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtdLCBmdW5jdGlvbihyZXN1bHRzLCBwYWlyKSB7CiAgICAgIHZhciBrZXkgPSBlbmNvZGVVUklDb21wb25lbnQocGFpci5rZXkpLCB2YWx1ZXMgPSBwYWlyLnZhbHVlOwoKICAgICAgaWYgKHZhbHVlcyAmJiB0eXBlb2YgdmFsdWVzID09ICdvYmplY3QnKSB7CiAgICAgICAgaWYgKE9iamVjdC5pc0FycmF5KHZhbHVlcykpIHsKICAgICAgICAgIHZhciBxdWVyeVZhbHVlcyA9IFtdOwogICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGgsIHZhbHVlOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaV07CiAgICAgICAgICAgIHF1ZXJ5VmFsdWVzLnB1c2godG9RdWVyeVBhaXIoa2V5LCB2YWx1ZSkpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdHMuY29uY2F0KHF1ZXJ5VmFsdWVzKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSByZXN1bHRzLnB1c2godG9RdWVyeVBhaXIoa2V5LCB2YWx1ZXMpKTsKICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9KS5qb2luKCcmJyk7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KCkgewogICAgcmV0dXJuICcjPEhhc2g6eycgKyB0aGlzLm1hcChmdW5jdGlvbihwYWlyKSB7CiAgICAgIHJldHVybiBwYWlyLm1hcChPYmplY3QuaW5zcGVjdCkuam9pbignOiAnKTsKICAgIH0pLmpvaW4oJywgJykgKyAnfT4nOwogIH0KCiAgZnVuY3Rpb24gY2xvbmUoKSB7CiAgICByZXR1cm4gbmV3IEhhc2godGhpcyk7CiAgfQoKICByZXR1cm4gewogICAgaW5pdGlhbGl6ZTogICAgICAgICAgICAgaW5pdGlhbGl6ZSwKICAgIF9lYWNoOiAgICAgICAgICAgICAgICAgIF9lYWNoLAogICAgc2V0OiAgICAgICAgICAgICAgICAgICAgc2V0LAogICAgZ2V0OiAgICAgICAgICAgICAgICAgICAgZ2V0LAogICAgdW5zZXQ6ICAgICAgICAgICAgICAgICAgdW5zZXQsCiAgICB0b09iamVjdDogICAgICAgICAgICAgICB0b09iamVjdCwKICAgIHRvVGVtcGxhdGVSZXBsYWNlbWVudHM6IHRvT2JqZWN0LAogICAga2V5czogICAgICAgICAgICAgICAgICAga2V5cywKICAgIHZhbHVlczogICAgICAgICAgICAgICAgIHZhbHVlcywKICAgIGluZGV4OiAgICAgICAgICAgICAgICAgIGluZGV4LAogICAgbWVyZ2U6ICAgICAgICAgICAgICAgICAgbWVyZ2UsCiAgICB1cGRhdGU6ICAgICAgICAgICAgICAgICB1cGRhdGUsCiAgICB0b1F1ZXJ5U3RyaW5nOiAgICAgICAgICB0b1F1ZXJ5U3RyaW5nLAogICAgaW5zcGVjdDogICAgICAgICAgICAgICAgaW5zcGVjdCwKICAgIHRvSlNPTjogICAgICAgICAgICAgICAgIHRvT2JqZWN0LAogICAgY2xvbmU6ICAgICAgICAgICAgICAgICAgY2xvbmUKICB9Owp9KSgpKTsKCkhhc2guZnJvbSA9ICRIOwpPYmplY3QuZXh0ZW5kKE51bWJlci5wcm90b3R5cGUsIChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiB0b0NvbG9yUGFydCgpIHsKICAgIHJldHVybiB0aGlzLnRvUGFkZGVkU3RyaW5nKDIsIDE2KTsKICB9CgogIGZ1bmN0aW9uIHN1Y2MoKSB7CiAgICByZXR1cm4gdGhpcyArIDE7CiAgfQoKICBmdW5jdGlvbiB0aW1lcyhpdGVyYXRvciwgY29udGV4dCkgewogICAgJFIoMCwgdGhpcywgdHJ1ZSkuZWFjaChpdGVyYXRvciwgY29udGV4dCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIGZ1bmN0aW9uIHRvUGFkZGVkU3RyaW5nKGxlbmd0aCwgcmFkaXgpIHsKICAgIHZhciBzdHJpbmcgPSB0aGlzLnRvU3RyaW5nKHJhZGl4IHx8IDEwKTsKICAgIHJldHVybiAnMCcudGltZXMobGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7CiAgfQoKICBmdW5jdGlvbiBhYnMoKSB7CiAgICByZXR1cm4gTWF0aC5hYnModGhpcyk7CiAgfQoKICBmdW5jdGlvbiByb3VuZCgpIHsKICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gY2VpbCgpIHsKICAgIHJldHVybiBNYXRoLmNlaWwodGhpcyk7CiAgfQoKICBmdW5jdGlvbiBmbG9vcigpIHsKICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMpOwogIH0KCiAgcmV0dXJuIHsKICAgIHRvQ29sb3JQYXJ0OiAgICB0b0NvbG9yUGFydCwKICAgIHN1Y2M6ICAgICAgICAgICBzdWNjLAogICAgdGltZXM6ICAgICAgICAgIHRpbWVzLAogICAgdG9QYWRkZWRTdHJpbmc6IHRvUGFkZGVkU3RyaW5nLAogICAgYWJzOiAgICAgICAgICAgIGFicywKICAgIHJvdW5kOiAgICAgICAgICByb3VuZCwKICAgIGNlaWw6ICAgICAgICAgICBjZWlsLAogICAgZmxvb3I6ICAgICAgICAgIGZsb29yCiAgfTsKfSkoKSk7CgpmdW5jdGlvbiAkUihzdGFydCwgZW5kLCBleGNsdXNpdmUpIHsKICByZXR1cm4gbmV3IE9iamVjdFJhbmdlKHN0YXJ0LCBlbmQsIGV4Y2x1c2l2ZSk7Cn0KCnZhciBPYmplY3RSYW5nZSA9IENsYXNzLmNyZWF0ZShFbnVtZXJhYmxlLCAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gaW5pdGlhbGl6ZShzdGFydCwgZW5kLCBleGNsdXNpdmUpIHsKICAgIHRoaXMuc3RhcnQgPSBzdGFydDsKICAgIHRoaXMuZW5kID0gZW5kOwogICAgdGhpcy5leGNsdXNpdmUgPSBleGNsdXNpdmU7CiAgfQoKICBmdW5jdGlvbiBfZWFjaChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHZhbHVlID0gdGhpcy5zdGFydCwgaTsKICAgIGZvciAoaSA9IDA7IHRoaXMuaW5jbHVkZSh2YWx1ZSk7IGkrKykgewogICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpKTsKICAgICAgdmFsdWUgPSB2YWx1ZS5zdWNjKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbmNsdWRlKHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPCB0aGlzLnN0YXJ0KQogICAgICByZXR1cm4gZmFsc2U7CiAgICBpZiAodGhpcy5leGNsdXNpdmUpCiAgICAgIHJldHVybiB2YWx1ZSA8IHRoaXMuZW5kOwogICAgcmV0dXJuIHZhbHVlIDw9IHRoaXMuZW5kOwogIH0KCiAgcmV0dXJuIHsKICAgIGluaXRpYWxpemU6IGluaXRpYWxpemUsCiAgICBfZWFjaDogICAgICBfZWFjaCwKICAgIGluY2x1ZGU6ICAgIGluY2x1ZGUKICB9Owp9KSgpKTsKCgoKdmFyIEFic3RyYWN0ID0geyB9OwoKCnZhciBUcnkgPSB7CiAgdGhlc2U6IGZ1bmN0aW9uKCkgewogICAgdmFyIHJldHVyblZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGxhbWJkYSA9IGFyZ3VtZW50c1tpXTsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm5WYWx1ZSA9IGxhbWJkYSgpOwogICAgICAgIGJyZWFrOwogICAgICB9IGNhdGNoIChlKSB7IH0KICAgIH0KCiAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgfQp9OwoKdmFyIEFqYXggPSB7CiAgZ2V0VHJhbnNwb3J0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBUcnkudGhlc2UoCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKX0sCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKX0sCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKX0KICAgICkgfHwgZmFsc2U7CiAgfSwKCiAgYWN0aXZlUmVxdWVzdENvdW50OiAwCn07CgpBamF4LlJlc3BvbmRlcnMgPSB7CiAgcmVzcG9uZGVyczogW10sCgogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvciwgY29udGV4dCkgewogICAgdGhpcy5yZXNwb25kZXJzLl9lYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTsKICB9LAoKICByZWdpc3RlcjogZnVuY3Rpb24ocmVzcG9uZGVyKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShyZXNwb25kZXIpKQogICAgICB0aGlzLnJlc3BvbmRlcnMucHVzaChyZXNwb25kZXIpOwogIH0sCgogIHVucmVnaXN0ZXI6IGZ1bmN0aW9uKHJlc3BvbmRlcikgewogICAgdGhpcy5yZXNwb25kZXJzID0gdGhpcy5yZXNwb25kZXJzLndpdGhvdXQocmVzcG9uZGVyKTsKICB9LAoKICBkaXNwYXRjaDogZnVuY3Rpb24oY2FsbGJhY2ssIHJlcXVlc3QsIHRyYW5zcG9ydCwganNvbikgewogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHJlc3BvbmRlcikgewogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ocmVzcG9uZGVyW2NhbGxiYWNrXSkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmVzcG9uZGVyW2NhbGxiYWNrXS5hcHBseShyZXNwb25kZXIsIFtyZXF1ZXN0LCB0cmFuc3BvcnQsIGpzb25dKTsKICAgICAgICB9IGNhdGNoIChlKSB7IH0KICAgICAgfQogICAgfSk7CiAgfQp9OwoKT2JqZWN0LmV4dGVuZChBamF4LlJlc3BvbmRlcnMsIEVudW1lcmFibGUpOwoKQWpheC5SZXNwb25kZXJzLnJlZ2lzdGVyKHsKICBvbkNyZWF0ZTogICBmdW5jdGlvbigpIHsgQWpheC5hY3RpdmVSZXF1ZXN0Q291bnQrKyB9LAogIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkgeyBBamF4LmFjdGl2ZVJlcXVlc3RDb3VudC0tIH0KfSk7CkFqYXguQmFzZSA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gewogICAgICBtZXRob2Q6ICAgICAgICdwb3N0JywKICAgICAgYXN5bmNocm9ub3VzOiB0cnVlLAogICAgICBjb250ZW50VHlwZTogICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICBlbmNvZGluZzogICAgICdVVEYtOCcsCiAgICAgIHBhcmFtZXRlcnM6ICAgJycsCiAgICAgIGV2YWxKU09OOiAgICAgdHJ1ZSwKICAgICAgZXZhbEpTOiAgICAgICB0cnVlCiAgICB9OwogICAgT2JqZWN0LmV4dGVuZCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwgeyB9KTsKCiAgICB0aGlzLm9wdGlvbnMubWV0aG9kID0gdGhpcy5vcHRpb25zLm1ldGhvZC50b0xvd2VyQ2FzZSgpOwoKICAgIGlmIChPYmplY3QuaXNIYXNoKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzKSkKICAgICAgdGhpcy5vcHRpb25zLnBhcmFtZXRlcnMgPSB0aGlzLm9wdGlvbnMucGFyYW1ldGVycy50b09iamVjdCgpOwogIH0KfSk7CkFqYXguUmVxdWVzdCA9IENsYXNzLmNyZWF0ZShBamF4LkJhc2UsIHsKICBfY29tcGxldGU6IGZhbHNlLAoKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIHVybCwgb3B0aW9ucykgewogICAgJHN1cGVyKG9wdGlvbnMpOwogICAgdGhpcy50cmFuc3BvcnQgPSBBamF4LmdldFRyYW5zcG9ydCgpOwogICAgdGhpcy5yZXF1ZXN0KHVybCk7CiAgfSwKCiAgcmVxdWVzdDogZnVuY3Rpb24odXJsKSB7CiAgICB0aGlzLnVybCA9IHVybDsKICAgIHRoaXMubWV0aG9kID0gdGhpcy5vcHRpb25zLm1ldGhvZDsKICAgIHZhciBwYXJhbXMgPSBPYmplY3QuaXNTdHJpbmcodGhpcy5vcHRpb25zLnBhcmFtZXRlcnMpID8KICAgICAgICAgIHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzIDoKICAgICAgICAgIE9iamVjdC50b1F1ZXJ5U3RyaW5nKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzKTsKCiAgICBpZiAoIVsnZ2V0JywgJ3Bvc3QnXS5pbmNsdWRlKHRoaXMubWV0aG9kKSkgewogICAgICBwYXJhbXMgKz0gKHBhcmFtcyA/ICcmJyA6ICcnKSArICJfbWV0aG9kPSIgKyB0aGlzLm1ldGhvZDsKICAgICAgdGhpcy5tZXRob2QgPSAncG9zdCc7CiAgICB9CgogICAgaWYgKHBhcmFtcyAmJiB0aGlzLm1ldGhvZCA9PT0gJ2dldCcpIHsKICAgICAgdGhpcy51cmwgKz0gKHRoaXMudXJsLmluY2x1ZGUoJz8nKSA/ICcmJyA6ICc/JykgKyBwYXJhbXM7CiAgICB9CgogICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1zLnRvUXVlcnlQYXJhbXMoKTsKCiAgICB0cnkgewogICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgQWpheC5SZXNwb25zZSh0aGlzKTsKICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbkNyZWF0ZSkgdGhpcy5vcHRpb25zLm9uQ3JlYXRlKHJlc3BvbnNlKTsKICAgICAgQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCdvbkNyZWF0ZScsIHRoaXMsIHJlc3BvbnNlKTsKCiAgICAgIHRoaXMudHJhbnNwb3J0Lm9wZW4odGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSwgdGhpcy51cmwsCiAgICAgICAgdGhpcy5vcHRpb25zLmFzeW5jaHJvbm91cyk7CgogICAgICBpZiAodGhpcy5vcHRpb25zLmFzeW5jaHJvbm91cykgdGhpcy5yZXNwb25kVG9SZWFkeVN0YXRlLmJpbmQodGhpcykuZGVmZXIoMSk7CgogICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLm9uU3RhdGVDaGFuZ2UuYmluZCh0aGlzKTsKICAgICAgdGhpcy5zZXRSZXF1ZXN0SGVhZGVycygpOwoKICAgICAgdGhpcy5ib2R5ID0gdGhpcy5tZXRob2QgPT0gJ3Bvc3QnID8gKHRoaXMub3B0aW9ucy5wb3N0Qm9keSB8fCBwYXJhbXMpIDogbnVsbDsKICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLmJvZHkpOwoKICAgICAgLyogRm9yY2UgRmlyZWZveCB0byBoYW5kbGUgcmVhZHkgc3RhdGUgNCBmb3Igc3luY2hyb25vdXMgcmVxdWVzdHMgKi8KICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYXN5bmNocm9ub3VzICYmIHRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUpCiAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKCk7CgogICAgfQogICAgY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgIH0KICB9LAoKICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbigpIHsKICAgIHZhciByZWFkeVN0YXRlID0gdGhpcy50cmFuc3BvcnQucmVhZHlTdGF0ZTsKICAgIGlmIChyZWFkeVN0YXRlID4gMSAmJiAhKChyZWFkeVN0YXRlID09IDQpICYmIHRoaXMuX2NvbXBsZXRlKSkKICAgICAgdGhpcy5yZXNwb25kVG9SZWFkeVN0YXRlKHRoaXMudHJhbnNwb3J0LnJlYWR5U3RhdGUpOwogIH0sCgogIHNldFJlcXVlc3RIZWFkZXJzOiBmdW5jdGlvbigpIHsKICAgIHZhciBoZWFkZXJzID0gewogICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsCiAgICAgICdYLVByb3RvdHlwZS1WZXJzaW9uJzogUHJvdG90eXBlLlZlcnNpb24sCiAgICAgICdBY2NlcHQnOiAndGV4dC9qYXZhc2NyaXB0LCB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwsICovKicKICAgIH07CgogICAgaWYgKHRoaXMubWV0aG9kID09ICdwb3N0JykgewogICAgICBoZWFkZXJzWydDb250ZW50LXR5cGUnXSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZSArCiAgICAgICAgKHRoaXMub3B0aW9ucy5lbmNvZGluZyA/ICc7IGNoYXJzZXQ9JyArIHRoaXMub3B0aW9ucy5lbmNvZGluZyA6ICcnKTsKCiAgICAgIC8qIEZvcmNlICJDb25uZWN0aW9uOiBjbG9zZSIgZm9yIG9sZGVyIE1vemlsbGEgYnJvd3NlcnMgdG8gd29yawogICAgICAgKiBhcm91bmQgYSBidWcgd2hlcmUgWE1MSHR0cFJlcXVlc3Qgc2VuZHMgYW4gaW5jb3JyZWN0CiAgICAgICAqIENvbnRlbnQtbGVuZ3RoIGhlYWRlci4gU2VlIE1vemlsbGEgQnVnemlsbGEgIzI0NjY1MS4KICAgICAgICovCiAgICAgIGlmICh0aGlzLnRyYW5zcG9ydC5vdmVycmlkZU1pbWVUeXBlICYmCiAgICAgICAgICAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvR2Vja29cLyhcZHs0fSkvKSB8fCBbMCwyMDA1XSlbMV0gPCAyMDA1KQogICAgICAgICAgICBoZWFkZXJzWydDb25uZWN0aW9uJ10gPSAnY2xvc2UnOwogICAgfQoKICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnJlcXVlc3RIZWFkZXJzID09ICdvYmplY3QnKSB7CiAgICAgIHZhciBleHRyYXMgPSB0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnM7CgogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24oZXh0cmFzLnB1c2gpKQogICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBleHRyYXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDIpCiAgICAgICAgICBoZWFkZXJzW2V4dHJhc1tpXV0gPSBleHRyYXNbaSsxXTsKICAgICAgZWxzZQogICAgICAgICRIKGV4dHJhcykuZWFjaChmdW5jdGlvbihwYWlyKSB7IGhlYWRlcnNbcGFpci5rZXldID0gcGFpci52YWx1ZSB9KTsKICAgIH0KCiAgICBmb3IgKHZhciBuYW1lIGluIGhlYWRlcnMpCiAgICAgIGlmIChoZWFkZXJzW25hbWVdICE9IG51bGwpCiAgICAgICAgdGhpcy50cmFuc3BvcnQuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCBoZWFkZXJzW25hbWVdKTsKICB9LAoKICBzdWNjZXNzOiBmdW5jdGlvbigpIHsKICAgIHZhciBzdGF0dXMgPSB0aGlzLmdldFN0YXR1cygpOwogICAgcmV0dXJuICFzdGF0dXMgfHwgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB8fCBzdGF0dXMgPT0gMzA0OwogIH0sCgogIGdldFN0YXR1czogZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICBpZiAodGhpcy50cmFuc3BvcnQuc3RhdHVzID09PSAxMjIzKSByZXR1cm4gMjA0OwogICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuc3RhdHVzIHx8IDA7CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiAwIH0KICB9LAoKICByZXNwb25kVG9SZWFkeVN0YXRlOiBmdW5jdGlvbihyZWFkeVN0YXRlKSB7CiAgICB2YXIgc3RhdGUgPSBBamF4LlJlcXVlc3QuRXZlbnRzW3JlYWR5U3RhdGVdLCByZXNwb25zZSA9IG5ldyBBamF4LlJlc3BvbnNlKHRoaXMpOwoKICAgIGlmIChzdGF0ZSA9PSAnQ29tcGxldGUnKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5fY29tcGxldGUgPSB0cnVlOwogICAgICAgICh0aGlzLm9wdGlvbnNbJ29uJyArIHJlc3BvbnNlLnN0YXR1c10KICAgICAgICAgfHwgdGhpcy5vcHRpb25zWydvbicgKyAodGhpcy5zdWNjZXNzKCkgPyAnU3VjY2VzcycgOiAnRmFpbHVyZScpXQogICAgICAgICB8fCBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbikocmVzcG9uc2UsIHJlc3BvbnNlLmhlYWRlckpTT04pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgICAgfQoKICAgICAgdmFyIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuZ2V0SGVhZGVyKCdDb250ZW50LXR5cGUnKTsKICAgICAgaWYgKHRoaXMub3B0aW9ucy5ldmFsSlMgPT0gJ2ZvcmNlJwogICAgICAgICAgfHwgKHRoaXMub3B0aW9ucy5ldmFsSlMgJiYgdGhpcy5pc1NhbWVPcmlnaW4oKSAmJiBjb250ZW50VHlwZQogICAgICAgICAgJiYgY29udGVudFR5cGUubWF0Y2goL15ccyoodGV4dHxhcHBsaWNhdGlvbilcLyh4LSk/KGphdmF8ZWNtYSlzY3JpcHQoOy4qKT9ccyokL2kpKSkKICAgICAgICB0aGlzLmV2YWxSZXNwb25zZSgpOwogICAgfQoKICAgIHRyeSB7CiAgICAgICh0aGlzLm9wdGlvbnNbJ29uJyArIHN0YXRlXSB8fCBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbikocmVzcG9uc2UsIHJlc3BvbnNlLmhlYWRlckpTT04pOwogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uJyArIHN0YXRlLCB0aGlzLCByZXNwb25zZSwgcmVzcG9uc2UuaGVhZGVySlNPTik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuZGlzcGF0Y2hFeGNlcHRpb24oZSk7CiAgICB9CgogICAgaWYgKHN0YXRlID09ICdDb21wbGV0ZScpIHsKICAgICAgdGhpcy50cmFuc3BvcnQub25yZWFkeXN0YXRlY2hhbmdlID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgICB9CiAgfSwKCiAgaXNTYW1lT3JpZ2luOiBmdW5jdGlvbigpIHsKICAgIHZhciBtID0gdGhpcy51cmwubWF0Y2goL15ccypodHRwcz86XC9cL1teXC9dKi8pOwogICAgcmV0dXJuICFtIHx8IChtWzBdID09ICcje3Byb3RvY29sfS8vI3tkb21haW59I3twb3J0fScuaW50ZXJwb2xhdGUoewogICAgICBwcm90b2NvbDogbG9jYXRpb24ucHJvdG9jb2wsCiAgICAgIGRvbWFpbjogZG9jdW1lbnQuZG9tYWluLAogICAgICBwb3J0OiBsb2NhdGlvbi5wb3J0ID8gJzonICsgbG9jYXRpb24ucG9ydCA6ICcnCiAgICB9KSk7CiAgfSwKCiAgZ2V0SGVhZGVyOiBmdW5jdGlvbihuYW1lKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSkgfHwgbnVsbDsKICAgIH0gY2F0Y2ggKGUpIHsgcmV0dXJuIG51bGw7IH0KICB9LAoKICBldmFsUmVzcG9uc2U6IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIGV2YWwoKHRoaXMudHJhbnNwb3J0LnJlc3BvbnNlVGV4dCB8fCAnJykudW5maWx0ZXJKU09OKCkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQogIH0sCgogIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHsKICAgICh0aGlzLm9wdGlvbnMub25FeGNlcHRpb24gfHwgUHJvdG90eXBlLmVtcHR5RnVuY3Rpb24pKHRoaXMsIGV4Y2VwdGlvbik7CiAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uRXhjZXB0aW9uJywgdGhpcywgZXhjZXB0aW9uKTsKICB9Cn0pOwoKQWpheC5SZXF1ZXN0LkV2ZW50cyA9CiAgWydVbmluaXRpYWxpemVkJywgJ0xvYWRpbmcnLCAnTG9hZGVkJywgJ0ludGVyYWN0aXZlJywgJ0NvbXBsZXRlJ107CgoKCgoKCgoKQWpheC5SZXNwb25zZSA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ocmVxdWVzdCl7CiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0OwogICAgdmFyIHRyYW5zcG9ydCAgPSB0aGlzLnRyYW5zcG9ydCAgPSByZXF1ZXN0LnRyYW5zcG9ydCwKICAgICAgICByZWFkeVN0YXRlID0gdGhpcy5yZWFkeVN0YXRlID0gdHJhbnNwb3J0LnJlYWR5U3RhdGU7CgogICAgaWYgKChyZWFkeVN0YXRlID4gMiAmJiAhUHJvdG90eXBlLkJyb3dzZXIuSUUpIHx8IHJlYWR5U3RhdGUgPT0gNCkgewogICAgICB0aGlzLnN0YXR1cyAgICAgICA9IHRoaXMuZ2V0U3RhdHVzKCk7CiAgICAgIHRoaXMuc3RhdHVzVGV4dCAgID0gdGhpcy5nZXRTdGF0dXNUZXh0KCk7CiAgICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gU3RyaW5nLmludGVycHJldCh0cmFuc3BvcnQucmVzcG9uc2VUZXh0KTsKICAgICAgdGhpcy5oZWFkZXJKU09OICAgPSB0aGlzLl9nZXRIZWFkZXJKU09OKCk7CiAgICB9CgogICAgaWYgKHJlYWR5U3RhdGUgPT0gNCkgewogICAgICB2YXIgeG1sID0gdHJhbnNwb3J0LnJlc3BvbnNlWE1MOwogICAgICB0aGlzLnJlc3BvbnNlWE1MICA9IE9iamVjdC5pc1VuZGVmaW5lZCh4bWwpID8gbnVsbCA6IHhtbDsKICAgICAgdGhpcy5yZXNwb25zZUpTT04gPSB0aGlzLl9nZXRSZXNwb25zZUpTT04oKTsKICAgIH0KICB9LAoKICBzdGF0dXM6ICAgICAgMCwKCiAgc3RhdHVzVGV4dDogJycsCgogIGdldFN0YXR1czogQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5nZXRTdGF0dXMsCgogIGdldFN0YXR1c1RleHQ6IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LnN0YXR1c1RleHQgfHwgJyc7CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiAnJyB9CiAgfSwKCiAgZ2V0SGVhZGVyOiBBamF4LlJlcXVlc3QucHJvdG90eXBlLmdldEhlYWRlciwKCiAgZ2V0QWxsSGVhZGVyczogZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gdGhpcy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTsKICAgIH0gY2F0Y2ggKGUpIHsgcmV0dXJuIG51bGwgfQogIH0sCgogIGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbihuYW1lKSB7CiAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSk7CiAgfSwKCiAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTsKICB9LAoKICBfZ2V0SGVhZGVySlNPTjogZnVuY3Rpb24oKSB7CiAgICB2YXIganNvbiA9IHRoaXMuZ2V0SGVhZGVyKCdYLUpTT04nKTsKICAgIGlmICghanNvbikgcmV0dXJuIG51bGw7CgogICAgdHJ5IHsKICAgICAganNvbiA9IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoanNvbikpOwogICAgfSBjYXRjaChlKSB7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIGpzb24uZXZhbEpTT04odGhpcy5yZXF1ZXN0Lm9wdGlvbnMuc2FuaXRpemVKU09OIHx8CiAgICAgICAgIXRoaXMucmVxdWVzdC5pc1NhbWVPcmlnaW4oKSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMucmVxdWVzdC5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgIH0KICB9LAoKICBfZ2V0UmVzcG9uc2VKU09OOiBmdW5jdGlvbigpIHsKICAgIHZhciBvcHRpb25zID0gdGhpcy5yZXF1ZXN0Lm9wdGlvbnM7CiAgICBpZiAoIW9wdGlvbnMuZXZhbEpTT04gfHwgKG9wdGlvbnMuZXZhbEpTT04gIT0gJ2ZvcmNlJyAmJgogICAgICAhKHRoaXMuZ2V0SGVhZGVyKCdDb250ZW50LXR5cGUnKSB8fCAnJykuaW5jbHVkZSgnYXBwbGljYXRpb24vanNvbicpKSB8fAogICAgICAgIHRoaXMucmVzcG9uc2VUZXh0LmJsYW5rKCkpCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlVGV4dC5ldmFsSlNPTihvcHRpb25zLnNhbml0aXplSlNPTiB8fAogICAgICAgICF0aGlzLnJlcXVlc3QuaXNTYW1lT3JpZ2luKCkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLnJlcXVlc3QuZGlzcGF0Y2hFeGNlcHRpb24oZSk7CiAgICB9CiAgfQp9KTsKCkFqYXguVXBkYXRlciA9IENsYXNzLmNyZWF0ZShBamF4LlJlcXVlc3QsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGNvbnRhaW5lciwgdXJsLCBvcHRpb25zKSB7CiAgICB0aGlzLmNvbnRhaW5lciA9IHsKICAgICAgc3VjY2VzczogKGNvbnRhaW5lci5zdWNjZXNzIHx8IGNvbnRhaW5lciksCiAgICAgIGZhaWx1cmU6IChjb250YWluZXIuZmFpbHVyZSB8fCAoY29udGFpbmVyLnN1Y2Nlc3MgPyBudWxsIDogY29udGFpbmVyKSkKICAgIH07CgogICAgb3B0aW9ucyA9IE9iamVjdC5jbG9uZShvcHRpb25zKTsKICAgIHZhciBvbkNvbXBsZXRlID0gb3B0aW9ucy5vbkNvbXBsZXRlOwogICAgb3B0aW9ucy5vbkNvbXBsZXRlID0gKGZ1bmN0aW9uKHJlc3BvbnNlLCBqc29uKSB7CiAgICAgIHRoaXMudXBkYXRlQ29udGVudChyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ob25Db21wbGV0ZSkpIG9uQ29tcGxldGUocmVzcG9uc2UsIGpzb24pOwogICAgfSkuYmluZCh0aGlzKTsKCiAgICAkc3VwZXIodXJsLCBvcHRpb25zKTsKICB9LAoKICB1cGRhdGVDb250ZW50OiBmdW5jdGlvbihyZXNwb25zZVRleHQpIHsKICAgIHZhciByZWNlaXZlciA9IHRoaXMuY29udGFpbmVyW3RoaXMuc3VjY2VzcygpID8gJ3N1Y2Nlc3MnIDogJ2ZhaWx1cmUnXSwKICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOwoKICAgIGlmICghb3B0aW9ucy5ldmFsU2NyaXB0cykgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VUZXh0LnN0cmlwU2NyaXB0cygpOwoKICAgIGlmIChyZWNlaXZlciA9ICQocmVjZWl2ZXIpKSB7CiAgICAgIGlmIChvcHRpb25zLmluc2VydGlvbikgewogICAgICAgIGlmIChPYmplY3QuaXNTdHJpbmcob3B0aW9ucy5pbnNlcnRpb24pKSB7CiAgICAgICAgICB2YXIgaW5zZXJ0aW9uID0geyB9OyBpbnNlcnRpb25bb3B0aW9ucy5pbnNlcnRpb25dID0gcmVzcG9uc2VUZXh0OwogICAgICAgICAgcmVjZWl2ZXIuaW5zZXJ0KGluc2VydGlvbik7CiAgICAgICAgfQogICAgICAgIGVsc2Ugb3B0aW9ucy5pbnNlcnRpb24ocmVjZWl2ZXIsIHJlc3BvbnNlVGV4dCk7CiAgICAgIH0KICAgICAgZWxzZSByZWNlaXZlci51cGRhdGUocmVzcG9uc2VUZXh0KTsKICAgIH0KICB9Cn0pOwoKQWpheC5QZXJpb2RpY2FsVXBkYXRlciA9IENsYXNzLmNyZWF0ZShBamF4LkJhc2UsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGNvbnRhaW5lciwgdXJsLCBvcHRpb25zKSB7CiAgICAkc3VwZXIob3B0aW9ucyk7CiAgICB0aGlzLm9uQ29tcGxldGUgPSB0aGlzLm9wdGlvbnMub25Db21wbGV0ZTsKCiAgICB0aGlzLmZyZXF1ZW5jeSA9ICh0aGlzLm9wdGlvbnMuZnJlcXVlbmN5IHx8IDIpOwogICAgdGhpcy5kZWNheSA9ICh0aGlzLm9wdGlvbnMuZGVjYXkgfHwgMSk7CgogICAgdGhpcy51cGRhdGVyID0geyB9OwogICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7CiAgICB0aGlzLnVybCA9IHVybDsKCiAgICB0aGlzLnN0YXJ0KCk7CiAgfSwKCiAgc3RhcnQ6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5vcHRpb25zLm9uQ29tcGxldGUgPSB0aGlzLnVwZGF0ZUNvbXBsZXRlLmJpbmQodGhpcyk7CiAgICB0aGlzLm9uVGltZXJFdmVudCgpOwogIH0sCgogIHN0b3A6IGZ1bmN0aW9uKCkgewogICAgdGhpcy51cGRhdGVyLm9wdGlvbnMub25Db21wbGV0ZSA9IHVuZGVmaW5lZDsKICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICh0aGlzLm9uQ29tcGxldGUgfHwgUHJvdG90eXBlLmVtcHR5RnVuY3Rpb24pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfSwKCiAgdXBkYXRlQ29tcGxldGU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLmRlY2F5KSB7CiAgICAgIHRoaXMuZGVjYXkgPSAocmVzcG9uc2UucmVzcG9uc2VUZXh0ID09IHRoaXMubGFzdFRleHQgPwogICAgICAgIHRoaXMuZGVjYXkgKiB0aGlzLm9wdGlvbnMuZGVjYXkgOiAxKTsKCiAgICAgIHRoaXMubGFzdFRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7CiAgICB9CiAgICB0aGlzLnRpbWVyID0gdGhpcy5vblRpbWVyRXZlbnQuYmluZCh0aGlzKS5kZWxheSh0aGlzLmRlY2F5ICogdGhpcy5mcmVxdWVuY3kpOwogIH0sCgogIG9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnVwZGF0ZXIgPSBuZXcgQWpheC5VcGRhdGVyKHRoaXMuY29udGFpbmVyLCB0aGlzLnVybCwgdGhpcy5vcHRpb25zKTsKICB9Cn0pOwoKKGZ1bmN0aW9uKEdMT0JBTCkgewoKICB2YXIgVU5ERUZJTkVEOwogIHZhciBTTElDRSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTsKCiAgdmFyIERJViA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKCiAgZnVuY3Rpb24gJChlbGVtZW50KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGVsZW1lbnRzID0gW10sIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAgICBlbGVtZW50cy5wdXNoKCQoYXJndW1lbnRzW2ldKSk7CiAgICAgIHJldHVybiBlbGVtZW50czsKICAgIH0KCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKGVsZW1lbnQpKQogICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCk7CiAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgfQoKICBHTE9CQUwuJCA9ICQ7CgoKICBpZiAoIUdMT0JBTC5Ob2RlKSBHTE9CQUwuTm9kZSA9IHt9OwoKICBpZiAoIUdMT0JBTC5Ob2RlLkVMRU1FTlRfTk9ERSkgewogICAgT2JqZWN0LmV4dGVuZChHTE9CQUwuTm9kZSwgewogICAgICBFTEVNRU5UX05PREU6ICAgICAgICAgICAgICAgIDEsCiAgICAgIEFUVFJJQlVURV9OT0RFOiAgICAgICAgICAgICAgMiwKICAgICAgVEVYVF9OT0RFOiAgICAgICAgICAgICAgICAgICAzLAogICAgICBDREFUQV9TRUNUSU9OX05PREU6ICAgICAgICAgIDQsCiAgICAgIEVOVElUWV9SRUZFUkVOQ0VfTk9ERTogICAgICAgNSwKICAgICAgRU5USVRZX05PREU6ICAgICAgICAgICAgICAgICA2LAogICAgICBQUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREU6IDcsCiAgICAgIENPTU1FTlRfTk9ERTogICAgICAgICAgICAgICAgOCwKICAgICAgRE9DVU1FTlRfTk9ERTogICAgICAgICAgICAgICA5LAogICAgICBET0NVTUVOVF9UWVBFX05PREU6ICAgICAgICAgMTAsCiAgICAgIERPQ1VNRU5UX0ZSQUdNRU5UX05PREU6ICAgICAxMSwKICAgICAgTk9UQVRJT05fTk9ERTogICAgICAgICAgICAgIDEyCiAgICB9KTsKICB9CgogIHZhciBFTEVNRU5UX0NBQ0hFID0ge307CgogIGZ1bmN0aW9uIHNob3VsZFVzZUNyZWF0aW9uQ2FjaGUodGFnTmFtZSwgYXR0cmlidXRlcykgewogICAgaWYgKHRhZ05hbWUgPT09ICdzZWxlY3QnKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoJ3R5cGUnIGluIGF0dHJpYnV0ZXMpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgdmFyIEhBU19FWFRFTkRFRF9DUkVBVEVfRUxFTUVOVF9TWU5UQVggPSAoZnVuY3Rpb24oKXsKICAgIHRyeSB7CiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzxpbnB1dCBuYW1lPSJ4Ij4nKTsKICAgICAgcmV0dXJuIGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiBlbC5uYW1lID09PSAneCc7CiAgICB9CiAgICBjYXRjaChlcnIpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0pKCk7CgoKICB2YXIgb2xkRWxlbWVudCA9IEdMT0JBTC5FbGVtZW50OwogIGZ1bmN0aW9uIEVsZW1lbnQodGFnTmFtZSwgYXR0cmlidXRlcykgewogICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMgfHwge307CiAgICB0YWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpOwoKICAgIGlmIChIQVNfRVhURU5ERURfQ1JFQVRFX0VMRU1FTlRfU1lOVEFYICYmIGF0dHJpYnV0ZXMubmFtZSkgewogICAgICB0YWdOYW1lID0gJzwnICsgdGFnTmFtZSArICcgbmFtZT0iJyArIGF0dHJpYnV0ZXMubmFtZSArICciPic7CiAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLm5hbWU7CiAgICAgIHJldHVybiBFbGVtZW50LndyaXRlQXR0cmlidXRlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSksIGF0dHJpYnV0ZXMpOwogICAgfQoKICAgIGlmICghRUxFTUVOVF9DQUNIRVt0YWdOYW1lXSkKICAgICAgRUxFTUVOVF9DQUNIRVt0YWdOYW1lXSA9IEVsZW1lbnQuZXh0ZW5kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSkpOwoKICAgIHZhciBub2RlID0gc2hvdWxkVXNlQ3JlYXRpb25DYWNoZSh0YWdOYW1lLCBhdHRyaWJ1dGVzKSA/CiAgICAgRUxFTUVOVF9DQUNIRVt0YWdOYW1lXS5jbG9uZU5vZGUoZmFsc2UpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTsKCiAgICByZXR1cm4gRWxlbWVudC53cml0ZUF0dHJpYnV0ZShub2RlLCBhdHRyaWJ1dGVzKTsKICB9CgogIEdMT0JBTC5FbGVtZW50ID0gRWxlbWVudDsKCiAgT2JqZWN0LmV4dGVuZChHTE9CQUwuRWxlbWVudCwgb2xkRWxlbWVudCB8fCB7fSk7CiAgaWYgKG9sZEVsZW1lbnQpIEdMT0JBTC5FbGVtZW50LnByb3RvdHlwZSA9IG9sZEVsZW1lbnQucHJvdG90eXBlOwoKICBFbGVtZW50Lk1ldGhvZHMgPSB7IEJ5VGFnOiB7fSwgU2ltdWxhdGVkOiB7fSB9OwoKICB2YXIgbWV0aG9kcyA9IHt9OwoKICB2YXIgSU5TUEVDVF9BVFRSSUJVVEVTID0geyBpZDogJ2lkJywgY2xhc3NOYW1lOiAnY2xhc3MnIH07CiAgZnVuY3Rpb24gaW5zcGVjdChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciByZXN1bHQgPSAnPCcgKyBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKCiAgICB2YXIgYXR0cmlidXRlLCB2YWx1ZTsKICAgIGZvciAodmFyIHByb3BlcnR5IGluIElOU1BFQ1RfQVRUUklCVVRFUykgewogICAgICBhdHRyaWJ1dGUgPSBJTlNQRUNUX0FUVFJJQlVURVNbcHJvcGVydHldOwogICAgICB2YWx1ZSA9IChlbGVtZW50W3Byb3BlcnR5XSB8fCAnJykudG9TdHJpbmcoKTsKICAgICAgaWYgKHZhbHVlKSByZXN1bHQgKz0gJyAnICsgYXR0cmlidXRlICsgJz0nICsgdmFsdWUuaW5zcGVjdCh0cnVlKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0ICsgJz4nOwogIH0KCiAgbWV0aG9kcy5pbnNwZWN0ID0gaW5zcGVjdDsKCgogIGZ1bmN0aW9uIHZpc2libGUoZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnOwogIH0KCiAgZnVuY3Rpb24gdG9nZ2xlKGVsZW1lbnQsIGJvb2wpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZChib29sKSkKICAgICAgYm9vbCA9ICFFbGVtZW50LnZpc2libGUoZWxlbWVudCk7CiAgICBFbGVtZW50W2Jvb2wgPyAnc2hvdycgOiAnaGlkZSddKGVsZW1lbnQpOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gaGlkZShlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gc2hvdyhlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKCiAgT2JqZWN0LmV4dGVuZChtZXRob2RzLCB7CiAgICB2aXNpYmxlOiB2aXNpYmxlLAogICAgdG9nZ2xlOiAgdG9nZ2xlLAogICAgaGlkZTogICAgaGlkZSwKICAgIHNob3c6ICAgIHNob3cKICB9KTsKCgogIGZ1bmN0aW9uIHJlbW92ZShlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgdmFyIFNFTEVDVF9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSA9IChmdW5jdGlvbigpewogICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksCiAgICAgICAgaXNCdWdneSA9IHRydWU7CiAgICBlbC5pbm5lckhUTUwgPSAiPG9wdGlvbiB2YWx1ZT1cInRlc3RcIj50ZXN0PC9vcHRpb24+IjsKICAgIGlmIChlbC5vcHRpb25zICYmIGVsLm9wdGlvbnNbMF0pIHsKICAgICAgaXNCdWdneSA9IGVsLm9wdGlvbnNbMF0ubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPT0gIk9QVElPTiI7CiAgICB9CiAgICBlbCA9IG51bGw7CiAgICByZXR1cm4gaXNCdWdneTsKICB9KSgpOwoKICB2YXIgVEFCTEVfRUxFTUVOVF9JTk5FUkhUTUxfQlVHR1kgPSAoZnVuY3Rpb24oKXsKICAgIHRyeSB7CiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgIGlmIChlbCAmJiBlbC50Qm9kaWVzKSB7CiAgICAgICAgZWwuaW5uZXJIVE1MID0gIjx0Ym9keT48dHI+PHRkPnRlc3Q8L3RkPjwvdHI+PC90Ym9keT4iOwogICAgICAgIHZhciBpc0J1Z2d5ID0gdHlwZW9mIGVsLnRCb2RpZXNbMF0gPT0gInVuZGVmaW5lZCI7CiAgICAgICAgZWwgPSBudWxsOwogICAgICAgIHJldHVybiBpc0J1Z2d5OwogICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0pKCk7CgogIHZhciBMSU5LX0VMRU1FTlRfSU5ORVJIVE1MX0JVR0dZID0gKGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGVsLmlubmVySFRNTCA9ICI8bGluayAvPiI7CiAgICAgIHZhciBpc0J1Z2d5ID0gKGVsLmNoaWxkTm9kZXMubGVuZ3RoID09PSAwKTsKICAgICAgZWwgPSBudWxsOwogICAgICByZXR1cm4gaXNCdWdneTsKICAgIH0gY2F0Y2goZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9KSgpOwoKICB2YXIgQU5ZX0lOTkVSSFRNTF9CVUdHWSA9IFNFTEVDVF9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSB8fAogICBUQUJMRV9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSB8fCBMSU5LX0VMRU1FTlRfSU5ORVJIVE1MX0JVR0dZOwoKICB2YXIgU0NSSVBUX0VMRU1FTlRfUkVKRUNUU19URVhUTk9ERV9BUFBFTkRJTkcgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSwKICAgICAgICBpc0J1Z2d5ID0gZmFsc2U7CiAgICB0cnkgewogICAgICBzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSk7CiAgICAgIGlzQnVnZ3kgPSAhcy5maXJzdENoaWxkIHx8CiAgICAgICAgcy5maXJzdENoaWxkICYmIHMuZmlyc3RDaGlsZC5ub2RlVHlwZSAhPT0gMzsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaXNCdWdneSA9IHRydWU7CiAgICB9CiAgICBzID0gbnVsbDsKICAgIHJldHVybiBpc0J1Z2d5OwogIH0pKCk7CgogIGZ1bmN0aW9uIHVwZGF0ZShlbGVtZW50LCBjb250ZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgZGVzY2VuZGFudHMgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyksCiAgICAgaSA9IGRlc2NlbmRhbnRzLmxlbmd0aDsKICAgIHdoaWxlIChpLS0pIHB1cmdlRWxlbWVudChkZXNjZW5kYW50c1tpXSk7CgogICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpCiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwoKICAgIGlmIChPYmplY3QuaXNFbGVtZW50KGNvbnRlbnQpKQogICAgICByZXR1cm4gZWxlbWVudC51cGRhdGUoKS5pbnNlcnQoY29udGVudCk7CgoKICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRlbnQpOwogICAgdmFyIHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTsKCiAgICBpZiAodGFnTmFtZSA9PT0gJ1NDUklQVCcgJiYgU0NSSVBUX0VMRU1FTlRfUkVKRUNUU19URVhUTk9ERV9BUFBFTkRJTkcpIHsKICAgICAgZWxlbWVudC50ZXh0ID0gY29udGVudDsKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9CgogICAgaWYgKEFOWV9JTk5FUkhUTUxfQlVHR1kpIHsKICAgICAgaWYgKHRhZ05hbWUgaW4gSU5TRVJUSU9OX1RSQU5TTEFUSU9OUy50YWdzKSB7CiAgICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTsKCiAgICAgICAgdmFyIG5vZGVzID0gZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCkpOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSk7CgogICAgICB9IGVsc2UgaWYgKExJTktfRUxFTUVOVF9JTk5FUkhUTUxfQlVHR1kgJiYgT2JqZWN0LmlzU3RyaW5nKGNvbnRlbnQpICYmIGNvbnRlbnQuaW5kZXhPZignPGxpbmsnKSA+IC0xKSB7CiAgICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTsKCiAgICAgICAgdmFyIG5vZGVzID0gZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsCiAgICAgICAgIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCksIHRydWUpOwoKICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG5vZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudC5zdHJpcFNjcmlwdHMoKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygpOwogICAgfQoKICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICBmdW5jdGlvbiByZXBsYWNlKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQudG9FbGVtZW50KSB7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwogICAgfSBlbHNlIGlmICghT2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgewogICAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgICAgdmFyIHJhbmdlID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZWxlbWVudCk7CiAgICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgICBjb250ZW50ID0gcmFuZ2UuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGNvbnRlbnQuc3RyaXBTY3JpcHRzKCkpOwogICAgfQoKICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY29udGVudCwgZWxlbWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIHZhciBJTlNFUlRJT05fVFJBTlNMQVRJT05TID0gewogICAgYmVmb3JlOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7CiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgZWxlbWVudCk7CiAgICB9LAogICAgdG9wOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7CiAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW1lbnQuZmlyc3RDaGlsZCk7CiAgICB9LAogICAgYm90dG9tOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7CiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICB9LAogICAgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbGVtZW50Lm5leHRTaWJsaW5nKTsKICAgIH0sCgogICAgdGFnczogewogICAgICBUQUJMRTogIFsnPHRhYmxlPicsICAgICAgICAgICAgICAgICc8L3RhYmxlPicsICAgICAgICAgICAgICAgICAgIDFdLAogICAgICBUQk9EWTogIFsnPHRhYmxlPjx0Ym9keT4nLCAgICAgICAgICc8L3Rib2R5PjwvdGFibGU+JywgICAgICAgICAgIDJdLAogICAgICBUUjogICAgIFsnPHRhYmxlPjx0Ym9keT48dHI+JywgICAgICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nLCAgICAgIDNdLAogICAgICBURDogICAgIFsnPHRhYmxlPjx0Ym9keT48dHI+PHRkPicsICc8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPicsIDRdLAogICAgICBTRUxFQ1Q6IFsnPHNlbGVjdD4nLCAgICAgICAgICAgICAgICc8L3NlbGVjdD4nLCAgICAgICAgICAgICAgICAgIDFdCiAgICB9CiAgfTsKCiAgdmFyIHRhZ3MgPSBJTlNFUlRJT05fVFJBTlNMQVRJT05TLnRhZ3M7CgogIE9iamVjdC5leHRlbmQodGFncywgewogICAgVEhFQUQ6IHRhZ3MuVEJPRFksCiAgICBURk9PVDogdGFncy5UQk9EWSwKICAgIFRIOiAgICB0YWdzLlRECiAgfSk7CgogIGZ1bmN0aW9uIHJlcGxhY2VfSUUoZWxlbWVudCwgY29udGVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoY29udGVudCAmJiBjb250ZW50LnRvRWxlbWVudCkKICAgICAgY29udGVudCA9IGNvbnRlbnQudG9FbGVtZW50KCk7CiAgICBpZiAoT2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgewogICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGNvbnRlbnQsIGVsZW1lbnQpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUsIHRhZ05hbWUgPSBwYXJlbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAgIGlmICh0YWdOYW1lIGluIElOU0VSVElPTl9UUkFOU0xBVElPTlMudGFncykgewogICAgICB2YXIgbmV4dFNpYmxpbmcgPSBFbGVtZW50Lm5leHQoZWxlbWVudCk7CiAgICAgIHZhciBmcmFnbWVudHMgPSBnZXRDb250ZW50RnJvbUFub255bW91c0VsZW1lbnQoCiAgICAgICB0YWdOYW1lLCBjb250ZW50LnN0cmlwU2NyaXB0cygpKTsKCiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTsKCiAgICAgIHZhciBpdGVyYXRvcjsKICAgICAgaWYgKG5leHRTaWJsaW5nKQogICAgICAgIGl0ZXJhdG9yID0gZnVuY3Rpb24obm9kZSkgeyBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIG5leHRTaWJsaW5nKSB9OwogICAgICBlbHNlCiAgICAgICAgaXRlcmF0b3IgPSBmdW5jdGlvbihub2RlKSB7IHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTsgfQoKICAgICAgZnJhZ21lbnRzLmVhY2goaXRlcmF0b3IpOwogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygpOwogICAgfQoKICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICBpZiAoJ291dGVySFRNTCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KQogICAgcmVwbGFjZSA9IHJlcGxhY2VfSUU7CgogIGZ1bmN0aW9uIGlzQ29udGVudChjb250ZW50KSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGNvbnRlbnQpIHx8IGNvbnRlbnQgPT09IG51bGwpIHJldHVybiBmYWxzZTsKCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKGNvbnRlbnQpIHx8IE9iamVjdC5pc051bWJlcihjb250ZW50KSkgcmV0dXJuIHRydWU7CiAgICBpZiAoT2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgcmV0dXJuIHRydWU7CiAgICBpZiAoY29udGVudC50b0VsZW1lbnQgfHwgY29udGVudC50b0hUTUwpIHJldHVybiB0cnVlOwoKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGluc2VydENvbnRlbnRBdChlbGVtZW50LCBjb250ZW50LCBwb3NpdGlvbikgewogICAgcG9zaXRpb24gICA9IHBvc2l0aW9uLnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgbWV0aG9kID0gSU5TRVJUSU9OX1RSQU5TTEFUSU9OU1twb3NpdGlvbl07CgogICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpIGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwogICAgaWYgKE9iamVjdC5pc0VsZW1lbnQoY29udGVudCkpIHsKICAgICAgbWV0aG9kKGVsZW1lbnQsIGNvbnRlbnQpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgIHZhciB0YWdOYW1lID0gKChwb3NpdGlvbiA9PT0gJ2JlZm9yZScgfHwgcG9zaXRpb24gPT09ICdhZnRlcicpID8KICAgICBlbGVtZW50LnBhcmVudE5vZGUgOiBlbGVtZW50KS50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CgogICAgdmFyIGNoaWxkTm9kZXMgPSBnZXRDb250ZW50RnJvbUFub255bW91c0VsZW1lbnQodGFnTmFtZSwgY29udGVudC5zdHJpcFNjcmlwdHMoKSk7CgogICAgaWYgKHBvc2l0aW9uID09PSAndG9wJyB8fCBwb3NpdGlvbiA9PT0gJ2FmdGVyJykgY2hpbGROb2Rlcy5yZXZlcnNlKCk7CgogICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5vZGUgPSBjaGlsZE5vZGVzW2ldOyBpKyspCiAgICAgIG1ldGhvZChlbGVtZW50LCBub2RlKTsKCiAgICBjb250ZW50LmV2YWxTY3JpcHRzLmJpbmQoY29udGVudCkuZGVmZXIoKTsKICB9CgogIGZ1bmN0aW9uIGluc2VydChlbGVtZW50LCBpbnNlcnRpb25zKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICBpZiAoaXNDb250ZW50KGluc2VydGlvbnMpKQogICAgICBpbnNlcnRpb25zID0geyBib3R0b206IGluc2VydGlvbnMgfTsKCiAgICBmb3IgKHZhciBwb3NpdGlvbiBpbiBpbnNlcnRpb25zKQogICAgICBpbnNlcnRDb250ZW50QXQoZWxlbWVudCwgaW5zZXJ0aW9uc1twb3NpdGlvbl0sIHBvc2l0aW9uKTsKCiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIGZ1bmN0aW9uIHdyYXAoZWxlbWVudCwgd3JhcHBlciwgYXR0cmlidXRlcykgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAgaWYgKE9iamVjdC5pc0VsZW1lbnQod3JhcHBlcikpIHsKICAgICAgJCh3cmFwcGVyKS53cml0ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzIHx8IHt9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmlzU3RyaW5nKHdyYXBwZXIpKSB7CiAgICAgIHdyYXBwZXIgPSBuZXcgRWxlbWVudCh3cmFwcGVyLCBhdHRyaWJ1dGVzKTsKICAgIH0gZWxzZSB7CiAgICAgIHdyYXBwZXIgPSBuZXcgRWxlbWVudCgnZGl2Jywgd3JhcHBlcik7CiAgICB9CgogICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkKICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbGVtZW50KTsKCiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpOwoKICAgIHJldHVybiB3cmFwcGVyOwogIH0KCiAgZnVuY3Rpb24gY2xlYW5XaGl0ZXNwYWNlKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG5vZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKG5vZGUpIHsKICAgICAgdmFyIG5leHROb2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmICEvXFMvLnRlc3Qobm9kZS5ub2RlVmFsdWUpKQogICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSk7CiAgICAgIG5vZGUgPSBuZXh0Tm9kZTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gZW1wdHkoZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuaW5uZXJIVE1MLmJsYW5rKCk7CiAgfQoKICBmdW5jdGlvbiBnZXRDb250ZW50RnJvbUFub255bW91c0VsZW1lbnQodGFnTmFtZSwgaHRtbCwgZm9yY2UpIHsKICAgIHZhciB0ID0gSU5TRVJUSU9OX1RSQU5TTEFUSU9OUy50YWdzW3RhZ05hbWVdLCBkaXYgPSBESVY7CgogICAgdmFyIHdvcmthcm91bmQgPSAhIXQ7CiAgICBpZiAoIXdvcmthcm91bmQgJiYgZm9yY2UpIHsKICAgICAgd29ya2Fyb3VuZCA9IHRydWU7CiAgICAgIHQgPSBbJycsICcnLCAwXTsKICAgIH0KCiAgICBpZiAod29ya2Fyb3VuZCkgewogICAgICBkaXYuaW5uZXJIVE1MID0gJyYjMTYwOycgKyB0WzBdICsgaHRtbCArIHRbMV07CiAgICAgIGRpdi5yZW1vdmVDaGlsZChkaXYuZmlyc3RDaGlsZCk7CiAgICAgIGZvciAodmFyIGkgPSB0WzJdOyBpLS07ICkKICAgICAgICBkaXYgPSBkaXYuZmlyc3RDaGlsZDsKICAgIH0gZWxzZSB7CiAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sOwogICAgfQoKICAgIHJldHVybiAkQShkaXYuY2hpbGROb2Rlcyk7CiAgfQoKICBmdW5jdGlvbiBjbG9uZShlbGVtZW50LCBkZWVwKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKICAgIHZhciBjbG9uZSA9IGVsZW1lbnQuY2xvbmVOb2RlKGRlZXApOwogICAgaWYgKCFIQVNfVU5JUVVFX0lEX1BST1BFUlRZKSB7CiAgICAgIGNsb25lLl9wcm90b3R5cGVVSUQgPSBVTkRFRklORUQ7CiAgICAgIGlmIChkZWVwKSB7CiAgICAgICAgdmFyIGRlc2NlbmRhbnRzID0gRWxlbWVudC5zZWxlY3QoY2xvbmUsICcqJyksCiAgICAgICAgIGkgPSBkZXNjZW5kYW50cy5sZW5ndGg7CiAgICAgICAgd2hpbGUgKGktLSkKICAgICAgICAgIGRlc2NlbmRhbnRzW2ldLl9wcm90b3R5cGVVSUQgPSBVTkRFRklORUQ7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBFbGVtZW50LmV4dGVuZChjbG9uZSk7CiAgfQoKICBmdW5jdGlvbiBwdXJnZUVsZW1lbnQoZWxlbWVudCkgewogICAgdmFyIHVpZCA9IGdldFVuaXF1ZUVsZW1lbnRJRChlbGVtZW50KTsKICAgIGlmICh1aWQpIHsKICAgICAgRWxlbWVudC5zdG9wT2JzZXJ2aW5nKGVsZW1lbnQpOwogICAgICBpZiAoIUhBU19VTklRVUVfSURfUFJPUEVSVFkpCiAgICAgICAgZWxlbWVudC5fcHJvdG90eXBlVUlEID0gVU5ERUZJTkVEOwogICAgICBkZWxldGUgRWxlbWVudC5TdG9yYWdlW3VpZF07CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwdXJnZUNvbGxlY3Rpb24oZWxlbWVudHMpIHsKICAgIHZhciBpID0gZWxlbWVudHMubGVuZ3RoOwogICAgd2hpbGUgKGktLSkKICAgICAgcHVyZ2VFbGVtZW50KGVsZW1lbnRzW2ldKTsKICB9CgogIGZ1bmN0aW9uIHB1cmdlQ29sbGVjdGlvbl9JRShlbGVtZW50cykgewogICAgdmFyIGkgPSBlbGVtZW50cy5sZW5ndGgsIGVsZW1lbnQsIHVpZDsKICAgIHdoaWxlIChpLS0pIHsKICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldOwogICAgICB1aWQgPSBnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCk7CiAgICAgIGRlbGV0ZSBFbGVtZW50LlN0b3JhZ2VbdWlkXTsKICAgICAgZGVsZXRlIEV2ZW50LmNhY2hlW3VpZF07CiAgICB9CiAgfQoKICBpZiAoSEFTX1VOSVFVRV9JRF9QUk9QRVJUWSkgewogICAgcHVyZ2VDb2xsZWN0aW9uID0gcHVyZ2VDb2xsZWN0aW9uX0lFOwogIH0KCgogIGZ1bmN0aW9uIHB1cmdlKGVsZW1lbnQpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgcHVyZ2VFbGVtZW50KGVsZW1lbnQpOwoKICAgIHZhciBkZXNjZW5kYW50cyA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSwKICAgICBpID0gZGVzY2VuZGFudHMubGVuZ3RoOwoKICAgIHdoaWxlIChpLS0pIHB1cmdlRWxlbWVudChkZXNjZW5kYW50c1tpXSk7CgogICAgcmV0dXJuIG51bGw7CiAgfQoKICBPYmplY3QuZXh0ZW5kKG1ldGhvZHMsIHsKICAgIHJlbW92ZTogIHJlbW92ZSwKICAgIHVwZGF0ZTogIHVwZGF0ZSwKICAgIHJlcGxhY2U6IHJlcGxhY2UsCiAgICBpbnNlcnQ6ICBpbnNlcnQsCiAgICB3cmFwOiAgICB3cmFwLAogICAgY2xlYW5XaGl0ZXNwYWNlOiBjbGVhbldoaXRlc3BhY2UsCiAgICBlbXB0eTogICBlbXB0eSwKICAgIGNsb25lOiAgIGNsb25lLAogICAgcHVyZ2U6ICAgcHVyZ2UKICB9KTsKCgoKICBmdW5jdGlvbiByZWN1cnNpdmVseUNvbGxlY3QoZWxlbWVudCwgcHJvcGVydHksIG1heGltdW1MZW5ndGgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgbWF4aW11bUxlbmd0aCA9IG1heGltdW1MZW5ndGggfHwgLTE7CiAgICB2YXIgZWxlbWVudHMgPSBbXTsKCiAgICB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnRbcHJvcGVydHldKSB7CiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkKICAgICAgICBlbGVtZW50cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpKTsKCiAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IG1heGltdW1MZW5ndGgpIGJyZWFrOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50czsKICB9CgoKICBmdW5jdGlvbiBhbmNlc3RvcnMoZWxlbWVudCkgewogICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Q29sbGVjdChlbGVtZW50LCAncGFyZW50Tm9kZScpOwogIH0KCiAgZnVuY3Rpb24gZGVzY2VuZGFudHMoZWxlbWVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuc2VsZWN0KGVsZW1lbnQsICcqJyk7CiAgfQoKICBmdW5jdGlvbiBmaXJzdERlc2NlbmRhbnQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCkuZmlyc3RDaGlsZDsKICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKQogICAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0U2libGluZzsKCiAgICByZXR1cm4gJChlbGVtZW50KTsKICB9CgogIGZ1bmN0aW9uIGltbWVkaWF0ZURlc2NlbmRhbnRzKGVsZW1lbnQpIHsKICAgIHZhciByZXN1bHRzID0gW10sIGNoaWxkID0gJChlbGVtZW50KS5maXJzdENoaWxkOwoKICAgIHdoaWxlIChjaGlsZCkgewogICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKQogICAgICAgIHJlc3VsdHMucHVzaChFbGVtZW50LmV4dGVuZChjaGlsZCkpOwoKICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIHByZXZpb3VzU2libGluZ3MoZWxlbWVudCkgewogICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Q29sbGVjdChlbGVtZW50LCAncHJldmlvdXNTaWJsaW5nJyk7CiAgfQoKICBmdW5jdGlvbiBuZXh0U2libGluZ3MoZWxlbWVudCkgewogICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Q29sbGVjdChlbGVtZW50LCAnbmV4dFNpYmxpbmcnKTsKICB9CgogIGZ1bmN0aW9uIHNpYmxpbmdzKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHByZXZpb3VzID0gcHJldmlvdXNTaWJsaW5ncyhlbGVtZW50KSwKICAgICBuZXh0ID0gbmV4dFNpYmxpbmdzKGVsZW1lbnQpOwogICAgcmV0dXJuIHByZXZpb3VzLnJldmVyc2UoKS5jb25jYXQobmV4dCk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaChlbGVtZW50LCBzZWxlY3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAgaWYgKE9iamVjdC5pc1N0cmluZyhzZWxlY3RvcikpCiAgICAgIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3IubWF0Y2goZWxlbWVudCwgc2VsZWN0b3IpOwoKICAgIHJldHVybiBzZWxlY3Rvci5tYXRjaChlbGVtZW50KTsKICB9CgoKICBmdW5jdGlvbiBfcmVjdXJzaXZlbHlGaW5kKGVsZW1lbnQsIHByb3BlcnR5LCBleHByZXNzaW9uLCBpbmRleCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCksIGV4cHJlc3Npb24gPSBleHByZXNzaW9uIHx8IDAsIGluZGV4ID0gaW5kZXggfHwgMDsKICAgIGlmIChPYmplY3QuaXNOdW1iZXIoZXhwcmVzc2lvbikpIHsKICAgICAgaW5kZXggPSBleHByZXNzaW9uLCBleHByZXNzaW9uID0gbnVsbDsKICAgIH0KCiAgICB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnRbcHJvcGVydHldKSB7CiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSBjb250aW51ZTsKICAgICAgaWYgKGV4cHJlc3Npb24gJiYgIVByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaChlbGVtZW50LCBleHByZXNzaW9uKSkKICAgICAgICBjb250aW51ZTsKICAgICAgaWYgKC0taW5kZXggPj0gMCkgY29udGludWU7CgogICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgICB9CiAgfQoKCiAgZnVuY3Rpb24gdXAoZWxlbWVudCwgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSByZXR1cm4gJChlbGVtZW50LnBhcmVudE5vZGUpOwogICAgcmV0dXJuIF9yZWN1cnNpdmVseUZpbmQoZWxlbWVudCwgJ3BhcmVudE5vZGUnLCBleHByZXNzaW9uLCBpbmRleCk7CiAgfQoKICBmdW5jdGlvbiBkb3duKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGZpcnN0RGVzY2VuZGFudChlbGVtZW50KTsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpLCBleHByZXNzaW9uID0gZXhwcmVzc2lvbiB8fCAwLCBpbmRleCA9IGluZGV4IHx8IDA7CgogICAgaWYgKE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSkKICAgICAgaW5kZXggPSBleHByZXNzaW9uLCBleHByZXNzaW9uID0gJyonOwoKICAgIHZhciBub2RlID0gUHJvdG90eXBlLlNlbGVjdG9yLnNlbGVjdChleHByZXNzaW9uLCBlbGVtZW50KVtpbmRleF07CiAgICByZXR1cm4gRWxlbWVudC5leHRlbmQobm9kZSk7CiAgfQoKICBmdW5jdGlvbiBwcmV2aW91cyhlbGVtZW50LCBleHByZXNzaW9uLCBpbmRleCkgewogICAgcmV0dXJuIF9yZWN1cnNpdmVseUZpbmQoZWxlbWVudCwgJ3ByZXZpb3VzU2libGluZycsIGV4cHJlc3Npb24sIGluZGV4KTsKICB9CgogIGZ1bmN0aW9uIG5leHQoZWxlbWVudCwgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIHJldHVybiBfcmVjdXJzaXZlbHlGaW5kKGVsZW1lbnQsICduZXh0U2libGluZycsIGV4cHJlc3Npb24sIGluZGV4KTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBleHByZXNzaW9ucyA9IFNMSUNFLmNhbGwoYXJndW1lbnRzLCAxKS5qb2luKCcsICcpOwogICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3QoZXhwcmVzc2lvbnMsIGVsZW1lbnQpOwogIH0KCiAgZnVuY3Rpb24gYWRqYWNlbnQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZXhwcmVzc2lvbnMgPSBTTElDRS5jYWxsKGFyZ3VtZW50cywgMSkuam9pbignLCAnKTsKICAgIHZhciBzaWJsaW5ncyA9IEVsZW1lbnQuc2libGluZ3MoZWxlbWVudCksIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBzaWJsaW5nOyBzaWJsaW5nID0gc2libGluZ3NbaV07IGkrKykgewogICAgICBpZiAoUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoKHNpYmxpbmcsIGV4cHJlc3Npb25zKSkKICAgICAgICByZXN1bHRzLnB1c2goc2libGluZyk7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBkZXNjZW5kYW50T2ZfRE9NKGVsZW1lbnQsIGFuY2VzdG9yKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KSwgYW5jZXN0b3IgPSAkKGFuY2VzdG9yKTsKICAgIHdoaWxlIChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKQogICAgICBpZiAoZWxlbWVudCA9PT0gYW5jZXN0b3IpIHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gZGVzY2VuZGFudE9mX2NvbnRhaW5zKGVsZW1lbnQsIGFuY2VzdG9yKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KSwgYW5jZXN0b3IgPSAkKGFuY2VzdG9yKTsKICAgIGlmICghYW5jZXN0b3IuY29udGFpbnMpIHJldHVybiBkZXNjZW5kYW50T2ZfRE9NKGVsZW1lbnQsIGFuY2VzdG9yKTsKICAgIHJldHVybiBhbmNlc3Rvci5jb250YWlucyhlbGVtZW50KSAmJiBhbmNlc3RvciAhPT0gZWxlbWVudDsKICB9CgogIGZ1bmN0aW9uIGRlc2NlbmRhbnRPZl9jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlbGVtZW50LCBhbmNlc3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCksIGFuY2VzdG9yID0gJChhbmNlc3Rvcik7CiAgICByZXR1cm4gKGVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYW5jZXN0b3IpICYgOCkgPT09IDg7CiAgfQoKICB2YXIgZGVzY2VuZGFudE9mOwogIGlmIChESVYuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHsKICAgIGRlc2NlbmRhbnRPZiA9IGRlc2NlbmRhbnRPZl9jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjsKICB9IGVsc2UgaWYgKERJVi5jb250YWlucykgewogICAgZGVzY2VuZGFudE9mID0gZGVzY2VuZGFudE9mX2NvbnRhaW5zOwogIH0gZWxzZSB7CiAgICBkZXNjZW5kYW50T2YgPSBkZXNjZW5kYW50T2ZfRE9NOwogIH0KCgogIE9iamVjdC5leHRlbmQobWV0aG9kcywgewogICAgcmVjdXJzaXZlbHlDb2xsZWN0OiAgIHJlY3Vyc2l2ZWx5Q29sbGVjdCwKICAgIGFuY2VzdG9yczogICAgICAgICAgICBhbmNlc3RvcnMsCiAgICBkZXNjZW5kYW50czogICAgICAgICAgZGVzY2VuZGFudHMsCiAgICBmaXJzdERlc2NlbmRhbnQ6ICAgICAgZmlyc3REZXNjZW5kYW50LAogICAgaW1tZWRpYXRlRGVzY2VuZGFudHM6IGltbWVkaWF0ZURlc2NlbmRhbnRzLAogICAgcHJldmlvdXNTaWJsaW5nczogICAgIHByZXZpb3VzU2libGluZ3MsCiAgICBuZXh0U2libGluZ3M6ICAgICAgICAgbmV4dFNpYmxpbmdzLAogICAgc2libGluZ3M6ICAgICAgICAgICAgIHNpYmxpbmdzLAogICAgbWF0Y2g6ICAgICAgICAgICAgICAgIG1hdGNoLAogICAgdXA6ICAgICAgICAgICAgICAgICAgIHVwLAogICAgZG93bjogICAgICAgICAgICAgICAgIGRvd24sCiAgICBwcmV2aW91czogICAgICAgICAgICAgcHJldmlvdXMsCiAgICBuZXh0OiAgICAgICAgICAgICAgICAgbmV4dCwKICAgIHNlbGVjdDogICAgICAgICAgICAgICBzZWxlY3QsCiAgICBhZGphY2VudDogICAgICAgICAgICAgYWRqYWNlbnQsCiAgICBkZXNjZW5kYW50T2Y6ICAgICAgICAgZGVzY2VuZGFudE9mLAoKICAgIGdldEVsZW1lbnRzQnlTZWxlY3Rvcjogc2VsZWN0LAoKICAgIGNoaWxkRWxlbWVudHM6ICAgICAgICAgaW1tZWRpYXRlRGVzY2VuZGFudHMKICB9KTsKCgogIHZhciBpZENvdW50ZXIgPSAxOwogIGZ1bmN0aW9uIGlkZW50aWZ5KGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGlkID0gRWxlbWVudC5yZWFkQXR0cmlidXRlKGVsZW1lbnQsICdpZCcpOwogICAgaWYgKGlkKSByZXR1cm4gaWQ7CgogICAgZG8geyBpZCA9ICdhbm9ueW1vdXNfZWxlbWVudF8nICsgaWRDb3VudGVyKysgfSB3aGlsZSAoJChpZCkpOwoKICAgIEVsZW1lbnQud3JpdGVBdHRyaWJ1dGUoZWxlbWVudCwgJ2lkJywgaWQpOwogICAgcmV0dXJuIGlkOwogIH0KCgogIGZ1bmN0aW9uIHJlYWRBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSkgewogICAgcmV0dXJuICQoZWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpOwogIH0KCiAgZnVuY3Rpb24gcmVhZEF0dHJpYnV0ZV9JRShlbGVtZW50LCBuYW1lKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgdGFibGUgPSBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLnJlYWQ7CiAgICBpZiAodGFibGUudmFsdWVzW25hbWVdKQogICAgICByZXR1cm4gdGFibGUudmFsdWVzW25hbWVdKGVsZW1lbnQsIG5hbWUpOwoKICAgIGlmICh0YWJsZS5uYW1lc1tuYW1lXSkgbmFtZSA9IHRhYmxlLm5hbWVzW25hbWVdOwoKICAgIGlmIChuYW1lLmluY2x1ZGUoJzonKSkgewogICAgICBpZiAoIWVsZW1lbnQuYXR0cmlidXRlcyB8fCAhZWxlbWVudC5hdHRyaWJ1dGVzW25hbWVdKSByZXR1cm4gbnVsbDsKICAgICAgcmV0dXJuIGVsZW1lbnQuYXR0cmlidXRlc1tuYW1lXS52YWx1ZTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgfQoKICBmdW5jdGlvbiByZWFkQXR0cmlidXRlX09wZXJhKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChuYW1lID09PSAndGl0bGUnKSByZXR1cm4gZWxlbWVudC50aXRsZTsKICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTsKICB9CgogIHZhciBQUk9CTEVNQVRJQ19BVFRSSUJVVEVfUkVBRElORyA9IChmdW5jdGlvbigpIHsKICAgIERJVi5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCBbXSk7CiAgICB2YXIgdmFsdWUgPSBESVYuZ2V0QXR0cmlidXRlKCdvbmNsaWNrJyk7CiAgICB2YXIgaXNGdW5jdGlvbiA9IE9iamVjdC5pc0FycmF5KHZhbHVlKTsKICAgIERJVi5yZW1vdmVBdHRyaWJ1dGUoJ29uY2xpY2snKTsKICAgIHJldHVybiBpc0Z1bmN0aW9uOwogIH0pKCk7CgogIGlmIChQUk9CTEVNQVRJQ19BVFRSSUJVVEVfUkVBRElORykgewogICAgcmVhZEF0dHJpYnV0ZSA9IHJlYWRBdHRyaWJ1dGVfSUU7CiAgfSBlbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5PcGVyYSkgewogICAgcmVhZEF0dHJpYnV0ZSA9IHJlYWRBdHRyaWJ1dGVfT3BlcmE7CiAgfQoKCiAgZnVuY3Rpb24gd3JpdGVBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGF0dHJpYnV0ZXMgPSB7fSwgdGFibGUgPSBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLndyaXRlOwoKICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgYXR0cmlidXRlcyA9IG5hbWU7CiAgICB9IGVsc2UgewogICAgICBhdHRyaWJ1dGVzW25hbWVdID0gT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSA/IHRydWUgOiB2YWx1ZTsKICAgIH0KCiAgICBmb3IgKHZhciBhdHRyIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgbmFtZSA9IHRhYmxlLm5hbWVzW2F0dHJdIHx8IGF0dHI7CiAgICAgIHZhbHVlID0gYXR0cmlidXRlc1thdHRyXTsKICAgICAgaWYgKHRhYmxlLnZhbHVlc1thdHRyXSkKICAgICAgICBuYW1lID0gdGFibGUudmFsdWVzW2F0dHJdKGVsZW1lbnQsIHZhbHVlKSB8fCBuYW1lOwogICAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsKQogICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkKICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBuYW1lKTsKICAgICAgZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9CgogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICB2YXIgUFJPQkxFTUFUSUNfSEFTX0FUVFJJQlVURV9XSVRIX0NIRUNLQk9YRVMgPSAoZnVuY3Rpb24gKCkgewogICAgaWYgKCFIQVNfRVhURU5ERURfQ1JFQVRFX0VMRU1FTlRfU1lOVEFYKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzxpbnB1dCB0eXBlPSJjaGVja2JveCI+Jyk7CiAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTsKICAgIHZhciBub2RlID0gY2hlY2tib3guZ2V0QXR0cmlidXRlTm9kZSgnY2hlY2tlZCcpOwogICAgcmV0dXJuICFub2RlIHx8ICFub2RlLnNwZWNpZmllZDsKICB9KSgpOwoKICBmdW5jdGlvbiBoYXNBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICBhdHRyaWJ1dGUgPSBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLmhhc1thdHRyaWJ1dGVdIHx8IGF0dHJpYnV0ZTsKICAgIHZhciBub2RlID0gJChlbGVtZW50KS5nZXRBdHRyaWJ1dGVOb2RlKGF0dHJpYnV0ZSk7CiAgICByZXR1cm4gISEobm9kZSAmJiBub2RlLnNwZWNpZmllZCk7CiAgfQoKICBmdW5jdGlvbiBoYXNBdHRyaWJ1dGVfSUUoZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICBpZiAoYXR0cmlidXRlID09PSAnY2hlY2tlZCcpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQuY2hlY2tlZDsKICAgIH0KICAgIHJldHVybiBoYXNBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTsKICB9CgogIEdMT0JBTC5FbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkLmhhc0F0dHJpYnV0ZSA9CiAgIFBST0JMRU1BVElDX0hBU19BVFRSSUJVVEVfV0lUSF9DSEVDS0JPWEVTID8KICAgaGFzQXR0cmlidXRlX0lFIDogaGFzQXR0cmlidXRlOwoKICBmdW5jdGlvbiBjbGFzc05hbWVzKGVsZW1lbnQpIHsKICAgIHJldHVybiBuZXcgRWxlbWVudC5DbGFzc05hbWVzKGVsZW1lbnQpOwogIH0KCiAgdmFyIHJlZ0V4cENhY2hlID0ge307CiAgZnVuY3Rpb24gZ2V0UmVnRXhwRm9yQ2xhc3NOYW1lKGNsYXNzTmFtZSkgewogICAgaWYgKHJlZ0V4cENhY2hlW2NsYXNzTmFtZV0pIHJldHVybiByZWdFeHBDYWNoZVtjbGFzc05hbWVdOwoKICAgIHZhciByZSA9IG5ldyBSZWdFeHAoIihefFxccyspIiArIGNsYXNzTmFtZSArICIoXFxzK3wkKSIpOwogICAgcmVnRXhwQ2FjaGVbY2xhc3NOYW1lXSA9IHJlOwogICAgcmV0dXJuIHJlOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgdmFyIGVsZW1lbnRDbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTsKCiAgICBpZiAoZWxlbWVudENsYXNzTmFtZS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTsKICAgIGlmIChlbGVtZW50Q2xhc3NOYW1lID09PSBjbGFzc05hbWUpIHJldHVybiB0cnVlOwoKICAgIHJldHVybiBnZXRSZWdFeHBGb3JDbGFzc05hbWUoY2xhc3NOYW1lKS50ZXN0KGVsZW1lbnRDbGFzc05hbWUpOwogIH0KCiAgZnVuY3Rpb24gYWRkQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgaWYgKCFoYXNDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lKSkKICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gKGVsZW1lbnQuY2xhc3NOYW1lID8gJyAnIDogJycpICsgY2xhc3NOYW1lOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKAogICAgIGdldFJlZ0V4cEZvckNsYXNzTmFtZShjbGFzc05hbWUpLCAnICcpLnN0cmlwKCk7CgogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICBmdW5jdGlvbiB0b2dnbGVDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lLCBib29sKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKCiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGJvb2wpKQogICAgICBib29sID0gIWhhc0NsYXNzTmFtZShlbGVtZW50LCBjbGFzc05hbWUpOwoKICAgIHZhciBtZXRob2QgPSBFbGVtZW50W2Jvb2wgPyAnYWRkQ2xhc3NOYW1lJyA6ICdyZW1vdmVDbGFzc05hbWUnXTsKICAgIHJldHVybiBtZXRob2QoZWxlbWVudCwgY2xhc3NOYW1lKTsKICB9CgogIHZhciBBVFRSSUJVVEVfVFJBTlNMQVRJT05TID0ge307CgogIHZhciBjbGFzc1Byb3AgPSAnY2xhc3NOYW1lJywgZm9yUHJvcCA9ICdmb3InOwoKICBESVYuc2V0QXR0cmlidXRlKGNsYXNzUHJvcCwgJ3gnKTsKICBpZiAoRElWLmNsYXNzTmFtZSAhPT0gJ3gnKSB7CiAgICBESVYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd4Jyk7CiAgICBpZiAoRElWLmNsYXNzTmFtZSA9PT0gJ3gnKQogICAgICBjbGFzc1Byb3AgPSAnY2xhc3MnOwogIH0KCiAgdmFyIExBQkVMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsKICBMQUJFTC5zZXRBdHRyaWJ1dGUoZm9yUHJvcCwgJ3gnKTsKICBpZiAoTEFCRUwuaHRtbEZvciAhPT0gJ3gnKSB7CiAgICBMQUJFTC5zZXRBdHRyaWJ1dGUoJ2h0bWxGb3InLCAneCcpOwogICAgaWYgKExBQkVMLmh0bWxGb3IgPT09ICd4JykKICAgICAgZm9yUHJvcCA9ICdodG1sRm9yJzsKICB9CiAgTEFCRUwgPSBudWxsOwoKICBmdW5jdGlvbiBfZ2V0QXR0cihlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpOwogIH0KCiAgZnVuY3Rpb24gX2dldEF0dHIyKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgMik7CiAgfQoKICBmdW5jdGlvbiBfZ2V0QXR0ck5vZGUoZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICB2YXIgbm9kZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTm9kZShhdHRyaWJ1dGUpOwogICAgcmV0dXJuIG5vZGUgPyBub2RlLnZhbHVlIDogJyc7CiAgfQoKICBmdW5jdGlvbiBfZ2V0RmxhZyhlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgIHJldHVybiAkKGVsZW1lbnQpLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpID8gYXR0cmlidXRlIDogbnVsbDsKICB9CgogIERJVi5vbmNsaWNrID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgdmFyIG9uY2xpY2tWYWx1ZSA9IERJVi5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKTsKCiAgdmFyIF9nZXRFdjsKCiAgaWYgKFN0cmluZyhvbmNsaWNrVmFsdWUpLmluZGV4T2YoJ3snKSA+IC0xKSB7CiAgICBfZ2V0RXYgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTsKICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGw7CiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTsKICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgneycpWzFdOwogICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCd9JylbMF07CiAgICAgIHJldHVybiB2YWx1ZS5zdHJpcCgpOwogICAgfTsKICB9CiAgZWxzZSBpZiAob25jbGlja1ZhbHVlID09PSAnJykgewogICAgX2dldEV2ID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gdmFsdWUuc3RyaXAoKTsKICAgIH07CiAgfQoKICBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLnJlYWQgPSB7CiAgICBuYW1lczogewogICAgICAnY2xhc3MnOiAgICAgY2xhc3NQcm9wLAogICAgICAnY2xhc3NOYW1lJzogY2xhc3NQcm9wLAogICAgICAnZm9yJzogICAgICAgZm9yUHJvcCwKICAgICAgJ2h0bWxGb3InOiAgIGZvclByb3AKICAgIH0sCgogICAgdmFsdWVzOiB7CiAgICAgIHN0eWxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpOwogICAgICB9LAogICAgICB0aXRsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBlbGVtZW50LnRpdGxlOwogICAgICB9CiAgICB9CiAgfTsKCiAgQVRUUklCVVRFX1RSQU5TTEFUSU9OUy53cml0ZSA9IHsKICAgIG5hbWVzOiB7CiAgICAgIGNsYXNzTmFtZTogICAnY2xhc3MnLAogICAgICBodG1sRm9yOiAgICAgJ2ZvcicsCiAgICAgIGNlbGxwYWRkaW5nOiAnY2VsbFBhZGRpbmcnLAogICAgICBjZWxsc3BhY2luZzogJ2NlbGxTcGFjaW5nJwogICAgfSwKCiAgICB2YWx1ZXM6IHsKICAgICAgY2hlY2tlZDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSAhIXZhbHVlOwogICAgICB9LAoKICAgICAgc3R5bGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgPyB2YWx1ZSA6ICcnOwogICAgICB9CiAgICB9CiAgfTsKCiAgQVRUUklCVVRFX1RSQU5TTEFUSU9OUy5oYXMgPSB7IG5hbWVzOiB7fSB9OwoKICBPYmplY3QuZXh0ZW5kKEFUVFJJQlVURV9UUkFOU0xBVElPTlMud3JpdGUubmFtZXMsCiAgIEFUVFJJQlVURV9UUkFOU0xBVElPTlMucmVhZC5uYW1lcyk7CgogIHZhciBDQU1FTF9DQVNFRF9BVFRSSUJVVEVfTkFNRVMgPSAkdygnY29sU3BhbiByb3dTcGFuIHZBbGlnbiBkYXRlVGltZSAnICsKICAgJ2FjY2Vzc0tleSB0YWJJbmRleCBlbmNUeXBlIG1heExlbmd0aCByZWFkT25seSBsb25nRGVzYyBmcmFtZUJvcmRlcicpOwoKICBmb3IgKHZhciBpID0gMCwgYXR0cjsgYXR0ciA9IENBTUVMX0NBU0VEX0FUVFJJQlVURV9OQU1FU1tpXTsgaSsrKSB7CiAgICBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLndyaXRlLm5hbWVzW2F0dHIudG9Mb3dlckNhc2UoKV0gPSBhdHRyOwogICAgQVRUUklCVVRFX1RSQU5TTEFUSU9OUy5oYXMubmFtZXNbYXR0ci50b0xvd2VyQ2FzZSgpXSAgID0gYXR0cjsKICB9CgogIE9iamVjdC5leHRlbmQoQVRUUklCVVRFX1RSQU5TTEFUSU9OUy5yZWFkLnZhbHVlcywgewogICAgaHJlZjogICAgICAgIF9nZXRBdHRyMiwKICAgIHNyYzogICAgICAgICBfZ2V0QXR0cjIsCiAgICB0eXBlOiAgICAgICAgX2dldEF0dHIsCiAgICBhY3Rpb246ICAgICAgX2dldEF0dHJOb2RlLAogICAgZGlzYWJsZWQ6ICAgIF9nZXRGbGFnLAogICAgY2hlY2tlZDogICAgIF9nZXRGbGFnLAogICAgcmVhZG9ubHk6ICAgIF9nZXRGbGFnLAogICAgbXVsdGlwbGU6ICAgIF9nZXRGbGFnLAogICAgb25sb2FkOiAgICAgIF9nZXRFdiwKICAgIG9udW5sb2FkOiAgICBfZ2V0RXYsCiAgICBvbmNsaWNrOiAgICAgX2dldEV2LAogICAgb25kYmxjbGljazogIF9nZXRFdiwKICAgIG9ubW91c2Vkb3duOiBfZ2V0RXYsCiAgICBvbm1vdXNldXA6ICAgX2dldEV2LAogICAgb25tb3VzZW92ZXI6IF9nZXRFdiwKICAgIG9ubW91c2Vtb3ZlOiBfZ2V0RXYsCiAgICBvbm1vdXNlb3V0OiAgX2dldEV2LAogICAgb25mb2N1czogICAgIF9nZXRFdiwKICAgIG9uYmx1cjogICAgICBfZ2V0RXYsCiAgICBvbmtleXByZXNzOiAgX2dldEV2LAogICAgb25rZXlkb3duOiAgIF9nZXRFdiwKICAgIG9ua2V5dXA6ICAgICBfZ2V0RXYsCiAgICBvbnN1Ym1pdDogICAgX2dldEV2LAogICAgb25yZXNldDogICAgIF9nZXRFdiwKICAgIG9uc2VsZWN0OiAgICBfZ2V0RXYsCiAgICBvbmNoYW5nZTogICAgX2dldEV2CiAgfSk7CgoKICBPYmplY3QuZXh0ZW5kKG1ldGhvZHMsIHsKICAgIGlkZW50aWZ5OiAgICAgICAgaWRlbnRpZnksCiAgICByZWFkQXR0cmlidXRlOiAgIHJlYWRBdHRyaWJ1dGUsCiAgICB3cml0ZUF0dHJpYnV0ZTogIHdyaXRlQXR0cmlidXRlLAogICAgY2xhc3NOYW1lczogICAgICBjbGFzc05hbWVzLAogICAgaGFzQ2xhc3NOYW1lOiAgICBoYXNDbGFzc05hbWUsCiAgICBhZGRDbGFzc05hbWU6ICAgIGFkZENsYXNzTmFtZSwKICAgIHJlbW92ZUNsYXNzTmFtZTogcmVtb3ZlQ2xhc3NOYW1lLAogICAgdG9nZ2xlQ2xhc3NOYW1lOiB0b2dnbGVDbGFzc05hbWUKICB9KTsKCgogIGZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlTmFtZShzdHlsZSkgewogICAgaWYgKHN0eWxlID09PSAnZmxvYXQnIHx8IHN0eWxlID09PSAnc3R5bGVGbG9hdCcpCiAgICAgIHJldHVybiAnY3NzRmxvYXQnOwogICAgcmV0dXJuIHN0eWxlLmNhbWVsaXplKCk7CiAgfQoKICBmdW5jdGlvbiBub3JtYWxpemVTdHlsZU5hbWVfSUUoc3R5bGUpIHsKICAgIGlmIChzdHlsZSA9PT0gJ2Zsb2F0JyB8fCBzdHlsZSA9PT0gJ2Nzc0Zsb2F0JykKICAgICAgcmV0dXJuICdzdHlsZUZsb2F0JzsKICAgIHJldHVybiBzdHlsZS5jYW1lbGl6ZSgpOwogIH0KCiAgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBlbGVtZW50U3R5bGUgPSBlbGVtZW50LnN0eWxlLCBtYXRjaDsKCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHN0eWxlcykpIHsKICAgICAgZWxlbWVudFN0eWxlLmNzc1RleHQgKz0gJzsnICsgc3R5bGVzOwogICAgICBpZiAoc3R5bGVzLmluY2x1ZGUoJ29wYWNpdHknKSkgewogICAgICAgIHZhciBvcGFjaXR5ID0gc3R5bGVzLm1hdGNoKC9vcGFjaXR5OlxzKihcZD9cLj9cZCopLylbMV07CiAgICAgICAgRWxlbWVudC5zZXRPcGFjaXR5KGVsZW1lbnQsIG9wYWNpdHkpOwogICAgICB9CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIGZvciAodmFyIHByb3BlcnR5IGluIHN0eWxlcykgewogICAgICBpZiAocHJvcGVydHkgPT09ICdvcGFjaXR5JykgewogICAgICAgIEVsZW1lbnQuc2V0T3BhY2l0eShlbGVtZW50LCBzdHlsZXNbcHJvcGVydHldKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNbcHJvcGVydHldOwogICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2Zsb2F0JyB8fCBwcm9wZXJ0eSA9PT0gJ2Nzc0Zsb2F0JykgewogICAgICAgICAgcHJvcGVydHkgPSBPYmplY3QuaXNVbmRlZmluZWQoZWxlbWVudFN0eWxlLnN0eWxlRmxvYXQpID8KICAgICAgICAgICAnY3NzRmxvYXQnIDogJ3N0eWxlRmxvYXQnOwogICAgICAgIH0KICAgICAgICBlbGVtZW50U3R5bGVbcHJvcGVydHldID0gdmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZWxlbWVudDsKICB9CgoKICBmdW5jdGlvbiBnZXRTdHlsZShlbGVtZW50LCBzdHlsZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlTmFtZShzdHlsZSk7CgogICAgdmFyIHZhbHVlID0gZWxlbWVudC5zdHlsZVtzdHlsZV07CiAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSAnYXV0bycpIHsKICAgICAgdmFyIGNzcyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7CiAgICAgIHZhbHVlID0gY3NzID8gY3NzW3N0eWxlXSA6IG51bGw7CiAgICB9CgogICAgaWYgKHN0eWxlID09PSAnb3BhY2l0eScpIHJldHVybiB2YWx1ZSA/IHBhcnNlRmxvYXQodmFsdWUpIDogMS4wOwogICAgcmV0dXJuIHZhbHVlID09PSAnYXV0bycgPyBudWxsIDogdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBnZXRTdHlsZV9PcGVyYShlbGVtZW50LCBzdHlsZSkgewogICAgc3dpdGNoIChzdHlsZSkgewogICAgICBjYXNlICdoZWlnaHQnOiBjYXNlICd3aWR0aCc6CiAgICAgICAgaWYgKCFFbGVtZW50LnZpc2libGUoZWxlbWVudCkpIHJldHVybiBudWxsOwoKICAgICAgICB2YXIgZGltID0gcGFyc2VJbnQoZ2V0U3R5bGUoZWxlbWVudCwgc3R5bGUpLCAxMCk7CgogICAgICAgIGlmIChkaW0gIT09IGVsZW1lbnRbJ29mZnNldCcgKyBzdHlsZS5jYXBpdGFsaXplKCldKQogICAgICAgICAgcmV0dXJuIGRpbSArICdweCc7CgogICAgICAgIHJldHVybiBFbGVtZW50Lm1lYXN1cmUoZWxlbWVudCwgc3R5bGUpOwoKICAgICAgZGVmYXVsdDogcmV0dXJuIGdldFN0eWxlKGVsZW1lbnQsIHN0eWxlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdldFN0eWxlX0lFKGVsZW1lbnQsIHN0eWxlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHN0eWxlID0gbm9ybWFsaXplU3R5bGVOYW1lX0lFKHN0eWxlKTsKCiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGUpIHsKICAgICAgdmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVtzdHlsZV07CiAgICB9CgogICAgaWYgKHN0eWxlID09PSAnb3BhY2l0eScgJiYgIVNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCkKICAgICAgcmV0dXJuIGdldE9wYWNpdHlfSUUoZWxlbWVudCk7CgogICAgaWYgKHZhbHVlID09PSAnYXV0bycpIHsKICAgICAgaWYgKChzdHlsZSA9PT0gJ3dpZHRoJyB8fCBzdHlsZSA9PT0gJ2hlaWdodCcpICYmIEVsZW1lbnQudmlzaWJsZShlbGVtZW50KSkKICAgICAgICByZXR1cm4gRWxlbWVudC5tZWFzdXJlKGVsZW1lbnQsIHN0eWxlKSArICdweCc7CiAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHJldHVybiB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHN0cmlwQWxwaGFGcm9tRmlsdGVyX0lFKGZpbHRlcikgewogICAgcmV0dXJuIChmaWx0ZXIgfHwgJycpLnJlcGxhY2UoL2FscGhhXChbXlwpXSpcKS9naSwgJycpOwogIH0KCiAgZnVuY3Rpb24gaGFzTGF5b3V0X0lFKGVsZW1lbnQpIHsKICAgIGlmICghZWxlbWVudC5jdXJyZW50U3R5bGUgfHwgIWVsZW1lbnQuY3VycmVudFN0eWxlLmhhc0xheW91dCkKICAgICAgZWxlbWVudC5zdHlsZS56b29tID0gMTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgdmFyIFNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCA9IChmdW5jdGlvbigpIHsKICAgIERJVi5zdHlsZS5jc3NUZXh0ID0gIm9wYWNpdHk6LjU1IjsKICAgIHJldHVybiAvXjAuNTUvLnRlc3QoRElWLnN0eWxlLm9wYWNpdHkpOwogIH0pKCk7CgogIGZ1bmN0aW9uIHNldE9wYWNpdHkoZWxlbWVudCwgdmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKHZhbHVlID09IDEgfHwgdmFsdWUgPT09ICcnKSB2YWx1ZSA9ICcnOwogICAgZWxzZSBpZiAodmFsdWUgPCAwLjAwMDAxKSB2YWx1ZSA9IDA7CiAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSB2YWx1ZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gc2V0T3BhY2l0eV9JRShlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKFNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCkKICAgICAgcmV0dXJuIHNldE9wYWNpdHkoZWxlbWVudCwgdmFsdWUpOwoKICAgIGVsZW1lbnQgPSBoYXNMYXlvdXRfSUUoJChlbGVtZW50KSk7CiAgICB2YXIgZmlsdGVyID0gRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAnZmlsdGVyJyksCiAgICAgc3R5bGUgPSBlbGVtZW50LnN0eWxlOwoKICAgIGlmICh2YWx1ZSA9PSAxIHx8IHZhbHVlID09PSAnJykgewogICAgICBmaWx0ZXIgPSBzdHJpcEFscGhhRnJvbUZpbHRlcl9JRShmaWx0ZXIpOwogICAgICBpZiAoZmlsdGVyKSBzdHlsZS5maWx0ZXIgPSBmaWx0ZXI7CiAgICAgIGVsc2Ugc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdmaWx0ZXInKTsKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9CgogICAgaWYgKHZhbHVlIDwgMC4wMDAwMSkgdmFsdWUgPSAwOwoKICAgIHN0eWxlLmZpbHRlciA9IHN0cmlwQWxwaGFGcm9tRmlsdGVyX0lFKGZpbHRlcikgKwogICAgICdhbHBoYShvcGFjaXR5PScgKyAodmFsdWUgKiAxMDApICsgJyknOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCgogIGZ1bmN0aW9uIGdldE9wYWNpdHkoZWxlbWVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ29wYWNpdHknKTsKICB9CgogIGZ1bmN0aW9uIGdldE9wYWNpdHlfSUUoZWxlbWVudCkgewogICAgaWYgKFNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCkKICAgICAgcmV0dXJuIGdldE9wYWNpdHkoZWxlbWVudCk7CgogICAgdmFyIGZpbHRlciA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ2ZpbHRlcicpOwogICAgaWYgKGZpbHRlci5sZW5ndGggPT09IDApIHJldHVybiAxLjA7CiAgICB2YXIgbWF0Y2ggPSAoZmlsdGVyIHx8ICcnKS5tYXRjaCgvYWxwaGFcKG9wYWNpdHk9KC4qKVwpLyk7CiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzFdKSAvIDEwMDsKICAgIHJldHVybiAxLjA7CiAgfQoKCiAgT2JqZWN0LmV4dGVuZChtZXRob2RzLCB7CiAgICBzZXRTdHlsZTogICBzZXRTdHlsZSwKICAgIGdldFN0eWxlOiAgIGdldFN0eWxlLAogICAgc2V0T3BhY2l0eTogc2V0T3BhY2l0eSwKICAgIGdldE9wYWNpdHk6IGdldE9wYWNpdHkKICB9KTsKCiAgaWYgKCdzdHlsZUZsb2F0JyBpbiBESVYuc3R5bGUpIHsKICAgIG1ldGhvZHMuZ2V0U3R5bGUgPSBnZXRTdHlsZV9JRTsKICAgIG1ldGhvZHMuc2V0T3BhY2l0eSA9IHNldE9wYWNpdHlfSUU7CiAgICBtZXRob2RzLmdldE9wYWNpdHkgPSBnZXRPcGFjaXR5X0lFOwogIH0KCiAgdmFyIFVJRCA9IDA7CgogIEdMT0JBTC5FbGVtZW50LlN0b3JhZ2UgPSB7IFVJRDogMSB9OwoKICBmdW5jdGlvbiBnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQgPT09IHdpbmRvdykgcmV0dXJuIDA7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50Ll9wcm90b3R5cGVVSUQgPT09ICd1bmRlZmluZWQnKQogICAgICBlbGVtZW50Ll9wcm90b3R5cGVVSUQgPSBFbGVtZW50LlN0b3JhZ2UuVUlEKys7CiAgICByZXR1cm4gZWxlbWVudC5fcHJvdG90eXBlVUlEOwogIH0KCiAgZnVuY3Rpb24gZ2V0VW5pcXVlRWxlbWVudElEX0lFKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50ID09PSB3aW5kb3cpIHJldHVybiAwOwogICAgaWYgKGVsZW1lbnQgPT0gZG9jdW1lbnQpIHJldHVybiAxOwogICAgcmV0dXJuIGVsZW1lbnQudW5pcXVlSUQ7CiAgfQoKICB2YXIgSEFTX1VOSVFVRV9JRF9QUk9QRVJUWSA9ICgndW5pcXVlSUQnIGluIERJVik7CiAgaWYgKEhBU19VTklRVUVfSURfUFJPUEVSVFkpCiAgICBnZXRVbmlxdWVFbGVtZW50SUQgPSBnZXRVbmlxdWVFbGVtZW50SURfSUU7CgogIGZ1bmN0aW9uIGdldFN0b3JhZ2UoZWxlbWVudCkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgdmFyIHVpZCA9IGdldFVuaXF1ZUVsZW1lbnRJRChlbGVtZW50KTsKCiAgICBpZiAoIUVsZW1lbnQuU3RvcmFnZVt1aWRdKQogICAgICBFbGVtZW50LlN0b3JhZ2VbdWlkXSA9ICRIKCk7CgogICAgcmV0dXJuIEVsZW1lbnQuU3RvcmFnZVt1aWRdOwogIH0KCiAgZnVuY3Rpb24gc3RvcmUoZWxlbWVudCwga2V5LCB2YWx1ZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CiAgICB2YXIgc3RvcmFnZSA9IGdldFN0b3JhZ2UoZWxlbWVudCk7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewogICAgICBzdG9yYWdlLnVwZGF0ZShrZXkpOwogICAgfSBlbHNlIHsKICAgICAgc3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIGZ1bmN0aW9uIHJldHJpZXZlKGVsZW1lbnQsIGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKICAgIHZhciBzdG9yYWdlID0gZ2V0U3RvcmFnZShlbGVtZW50KSwgdmFsdWUgPSBzdG9yYWdlLmdldChrZXkpOwoKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgIHN0b3JhZ2Uuc2V0KGtleSwgZGVmYXVsdFZhbHVlKTsKICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7CiAgICB9CgogICAgcmV0dXJuIHZhbHVlOwogIH0KCgogIE9iamVjdC5leHRlbmQobWV0aG9kcywgewogICAgZ2V0U3RvcmFnZTogZ2V0U3RvcmFnZSwKICAgIHN0b3JlOiAgICAgIHN0b3JlLAogICAgcmV0cmlldmU6ICAgcmV0cmlldmUKICB9KTsKCgogIHZhciBNZXRob2RzID0ge30sIEJ5VGFnID0gRWxlbWVudC5NZXRob2RzLkJ5VGFnLAogICBGID0gUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlczsKCiAgaWYgKCFGLkVsZW1lbnRFeHRlbnNpb25zICYmICgnX19wcm90b19fJyBpbiBESVYpKSB7CiAgICBHTE9CQUwuSFRNTEVsZW1lbnQgPSB7fTsKICAgIEdMT0JBTC5IVE1MRWxlbWVudC5wcm90b3R5cGUgPSBESVZbJ19fcHJvdG9fXyddOwogICAgRi5FbGVtZW50RXh0ZW5zaW9ucyA9IHRydWU7CiAgfQoKICBmdW5jdGlvbiBjaGVja0VsZW1lbnRQcm90b3R5cGVEZWZpY2llbmN5KHRhZ05hbWUpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93LkVsZW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoIUhBU19FWFRFTkRFRF9DUkVBVEVfRUxFTUVOVF9TWU5UQVgpIHJldHVybiBmYWxzZTsKICAgIHZhciBwcm90byA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZTsKICAgIGlmIChwcm90bykgewogICAgICB2YXIgaWQgPSAnXycgKyAoTWF0aC5yYW5kb20oKSArICcnKS5zbGljZSgyKSwKICAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTsKICAgICAgcHJvdG9baWRdID0gJ3gnOwogICAgICB2YXIgaXNCdWdneSA9IChlbFtpZF0gIT09ICd4Jyk7CiAgICAgIGRlbGV0ZSBwcm90b1tpZF07CiAgICAgIGVsID0gbnVsbDsKICAgICAgcmV0dXJuIGlzQnVnZ3k7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIEhUTUxPQkpFQ1RFTEVNRU5UX1BST1RPVFlQRV9CVUdHWSA9CiAgIGNoZWNrRWxlbWVudFByb3RvdHlwZURlZmljaWVuY3koJ29iamVjdCcpOwoKICBmdW5jdGlvbiBleHRlbmRFbGVtZW50V2l0aChlbGVtZW50LCBtZXRob2RzKSB7CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBtZXRob2RzKSB7CiAgICAgIHZhciB2YWx1ZSA9IG1ldGhvZHNbcHJvcGVydHldOwogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24odmFsdWUpICYmICEocHJvcGVydHkgaW4gZWxlbWVudCkpCiAgICAgICAgZWxlbWVudFtwcm9wZXJ0eV0gPSB2YWx1ZS5tZXRob2RpemUoKTsKICAgIH0KICB9CgogIHZhciBFWFRFTkRFRCA9IHt9OwogIGZ1bmN0aW9uIGVsZW1lbnRJc0V4dGVuZGVkKGVsZW1lbnQpIHsKICAgIHZhciB1aWQgPSBnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCk7CiAgICByZXR1cm4gKHVpZCBpbiBFWFRFTkRFRCk7CiAgfQoKICBmdW5jdGlvbiBleHRlbmQoZWxlbWVudCkgewogICAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnRJc0V4dGVuZGVkKGVsZW1lbnQpKSByZXR1cm4gZWxlbWVudDsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSB8fCBlbGVtZW50ID09IHdpbmRvdykKICAgICAgcmV0dXJuIGVsZW1lbnQ7CgogICAgdmFyIG1ldGhvZHMgPSBPYmplY3QuY2xvbmUoTWV0aG9kcyksCiAgICAgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAgIGlmIChCeVRhZ1t0YWdOYW1lXSkgT2JqZWN0LmV4dGVuZChtZXRob2RzLCBCeVRhZ1t0YWdOYW1lXSk7CgogICAgZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgbWV0aG9kcyk7CiAgICBFWFRFTkRFRFtnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCldID0gdHJ1ZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kX0lFOChlbGVtZW50KSB7CiAgICBpZiAoIWVsZW1lbnQgfHwgZWxlbWVudElzRXh0ZW5kZWQoZWxlbWVudCkpIHJldHVybiBlbGVtZW50OwoKICAgIHZhciB0ID0gZWxlbWVudC50YWdOYW1lOwogICAgaWYgKHQgJiYgKC9eKD86b2JqZWN0fGFwcGxldHxlbWJlZCkkL2kudGVzdCh0KSkpIHsKICAgICAgZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgRWxlbWVudC5NZXRob2RzKTsKICAgICAgZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgRWxlbWVudC5NZXRob2RzLlNpbXVsYXRlZCk7CiAgICAgIGV4dGVuZEVsZW1lbnRXaXRoKGVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcy5CeVRhZ1t0LnRvVXBwZXJDYXNlKCldKTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIGlmIChGLlNwZWNpZmljRWxlbWVudEV4dGVuc2lvbnMpIHsKICAgIGV4dGVuZCA9IEhUTUxPQkpFQ1RFTEVNRU5UX1BST1RPVFlQRV9CVUdHWSA/IGV4dGVuZF9JRTggOiBQcm90b3R5cGUuSzsKICB9CgogIGZ1bmN0aW9uIGFkZE1ldGhvZHNUb1RhZ05hbWUodGFnTmFtZSwgbWV0aG9kcykgewogICAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIGlmICghQnlUYWdbdGFnTmFtZV0pIEJ5VGFnW3RhZ05hbWVdID0ge307CiAgICBPYmplY3QuZXh0ZW5kKEJ5VGFnW3RhZ05hbWVdLCBtZXRob2RzKTsKICB9CgogIGZ1bmN0aW9uIG1lcmdlTWV0aG9kcyhkZXN0aW5hdGlvbiwgbWV0aG9kcywgb25seUlmQWJzZW50KSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKG9ubHlJZkFic2VudCkpIG9ubHlJZkFic2VudCA9IGZhbHNlOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gbWV0aG9kcykgewogICAgICB2YXIgdmFsdWUgPSBtZXRob2RzW3Byb3BlcnR5XTsKICAgICAgaWYgKCFPYmplY3QuaXNGdW5jdGlvbih2YWx1ZSkpIGNvbnRpbnVlOwogICAgICBpZiAoIW9ubHlJZkFic2VudCB8fCAhKHByb3BlcnR5IGluIGRlc3RpbmF0aW9uKSkKICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSB2YWx1ZS5tZXRob2RpemUoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGZpbmRET01DbGFzcyh0YWdOYW1lKSB7CiAgICB2YXIga2xhc3M7CiAgICB2YXIgdHJhbnMgPSB7CiAgICAgICJPUFRHUk9VUCI6ICJPcHRHcm91cCIsICJURVhUQVJFQSI6ICJUZXh0QXJlYSIsICJQIjogIlBhcmFncmFwaCIsCiAgICAgICJGSUVMRFNFVCI6ICJGaWVsZFNldCIsICJVTCI6ICJVTGlzdCIsICJPTCI6ICJPTGlzdCIsICJETCI6ICJETGlzdCIsCiAgICAgICJESVIiOiAiRGlyZWN0b3J5IiwgIkgxIjogIkhlYWRpbmciLCAiSDIiOiAiSGVhZGluZyIsICJIMyI6ICJIZWFkaW5nIiwKICAgICAgIkg0IjogIkhlYWRpbmciLCAiSDUiOiAiSGVhZGluZyIsICJINiI6ICJIZWFkaW5nIiwgIlEiOiAiUXVvdGUiLAogICAgICAiSU5TIjogIk1vZCIsICJERUwiOiAiTW9kIiwgIkEiOiAiQW5jaG9yIiwgIklNRyI6ICJJbWFnZSIsICJDQVBUSU9OIjoKICAgICAgIlRhYmxlQ2FwdGlvbiIsICJDT0wiOiAiVGFibGVDb2wiLCAiQ09MR1JPVVAiOiAiVGFibGVDb2wiLCAiVEhFQUQiOgogICAgICAiVGFibGVTZWN0aW9uIiwgIlRGT09UIjogIlRhYmxlU2VjdGlvbiIsICJUQk9EWSI6ICJUYWJsZVNlY3Rpb24iLCAiVFIiOgogICAgICAiVGFibGVSb3ciLCAiVEgiOiAiVGFibGVDZWxsIiwgIlREIjogIlRhYmxlQ2VsbCIsICJGUkFNRVNFVCI6CiAgICAgICJGcmFtZVNldCIsICJJRlJBTUUiOiAiSUZyYW1lIgogICAgfTsKICAgIGlmICh0cmFuc1t0YWdOYW1lXSkga2xhc3MgPSAnSFRNTCcgKyB0cmFuc1t0YWdOYW1lXSArICdFbGVtZW50JzsKICAgIGlmICh3aW5kb3dba2xhc3NdKSByZXR1cm4gd2luZG93W2tsYXNzXTsKICAgIGtsYXNzID0gJ0hUTUwnICsgdGFnTmFtZSArICdFbGVtZW50JzsKICAgIGlmICh3aW5kb3dba2xhc3NdKSByZXR1cm4gd2luZG93W2tsYXNzXTsKICAgIGtsYXNzID0gJ0hUTUwnICsgdGFnTmFtZS5jYXBpdGFsaXplKCkgKyAnRWxlbWVudCc7CiAgICBpZiAod2luZG93W2tsYXNzXSkgcmV0dXJuIHdpbmRvd1trbGFzc107CgogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpLAogICAgIHByb3RvID0gZWxlbWVudFsnX19wcm90b19fJ10gfHwgZWxlbWVudC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7CgogICAgZWxlbWVudCA9IG51bGw7CiAgICByZXR1cm4gcHJvdG87CiAgfQoKICBmdW5jdGlvbiBhZGRNZXRob2RzKG1ldGhvZHMpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSBhZGRGb3JtTWV0aG9kcygpOwoKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7CiAgICAgIHZhciB0YWdOYW1lID0gbWV0aG9kczsKICAgICAgbWV0aG9kcyA9IGFyZ3VtZW50c1sxXTsKICAgIH0KCiAgICBpZiAoIXRhZ05hbWUpIHsKICAgICAgT2JqZWN0LmV4dGVuZChFbGVtZW50Lk1ldGhvZHMsIG1ldGhvZHMgfHwge30pOwogICAgfSBlbHNlIHsKICAgICAgaWYgKE9iamVjdC5pc0FycmF5KHRhZ05hbWUpKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHRhZzsgdGFnID0gdGFnTmFtZVtpXTsgaSsrKQogICAgICAgICAgYWRkTWV0aG9kc1RvVGFnTmFtZSh0YWcsIG1ldGhvZHMpOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZE1ldGhvZHNUb1RhZ05hbWUodGFnTmFtZSwgbWV0aG9kcyk7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgRUxFTUVOVF9QUk9UT1RZUEUgPSB3aW5kb3cuSFRNTEVsZW1lbnQgPyBIVE1MRWxlbWVudC5wcm90b3R5cGUgOgogICAgIEVsZW1lbnQucHJvdG90eXBlOwoKICAgIGlmIChGLkVsZW1lbnRFeHRlbnNpb25zKSB7CiAgICAgIG1lcmdlTWV0aG9kcyhFTEVNRU5UX1BST1RPVFlQRSwgRWxlbWVudC5NZXRob2RzKTsKICAgICAgbWVyZ2VNZXRob2RzKEVMRU1FTlRfUFJPVE9UWVBFLCBFbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkLCB0cnVlKTsKICAgIH0KCiAgICBpZiAoRi5TcGVjaWZpY0VsZW1lbnRFeHRlbnNpb25zKSB7CiAgICAgIGZvciAodmFyIHRhZyBpbiBFbGVtZW50Lk1ldGhvZHMuQnlUYWcpIHsKICAgICAgICB2YXIga2xhc3MgPSBmaW5kRE9NQ2xhc3ModGFnKTsKICAgICAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGtsYXNzKSkgY29udGludWU7CiAgICAgICAgbWVyZ2VNZXRob2RzKGtsYXNzLnByb3RvdHlwZSwgQnlUYWdbdGFnXSk7CiAgICAgIH0KICAgIH0KCiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcyk7CiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcy5TaW11bGF0ZWQpOwogICAgZGVsZXRlIEVsZW1lbnQuQnlUYWc7CiAgICBkZWxldGUgRWxlbWVudC5TaW11bGF0ZWQ7CgogICAgRWxlbWVudC5leHRlbmQucmVmcmVzaCgpOwoKICAgIEVMRU1FTlRfQ0FDSEUgPSB7fTsKICB9CgogIE9iamVjdC5leHRlbmQoR0xPQkFMLkVsZW1lbnQsIHsKICAgIGV4dGVuZDogICAgIGV4dGVuZCwKICAgIGFkZE1ldGhvZHM6IGFkZE1ldGhvZHMKICB9KTsKCiAgaWYgKGV4dGVuZCA9PT0gUHJvdG90eXBlLkspIHsKICAgIEdMT0JBTC5FbGVtZW50LmV4dGVuZC5yZWZyZXNoID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgfSBlbHNlIHsKICAgIEdMT0JBTC5FbGVtZW50LmV4dGVuZC5yZWZyZXNoID0gZnVuY3Rpb24oKSB7CiAgICAgIGlmIChQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLkVsZW1lbnRFeHRlbnNpb25zKSByZXR1cm47CiAgICAgIE9iamVjdC5leHRlbmQoTWV0aG9kcywgRWxlbWVudC5NZXRob2RzKTsKICAgICAgT2JqZWN0LmV4dGVuZChNZXRob2RzLCBFbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkKTsKCiAgICAgIEVYVEVOREVEID0ge307CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYWRkRm9ybU1ldGhvZHMoKSB7CiAgICBPYmplY3QuZXh0ZW5kKEZvcm0sIEZvcm0uTWV0aG9kcyk7CiAgICBPYmplY3QuZXh0ZW5kKEZvcm0uRWxlbWVudCwgRm9ybS5FbGVtZW50Lk1ldGhvZHMpOwogICAgT2JqZWN0LmV4dGVuZChFbGVtZW50Lk1ldGhvZHMuQnlUYWcsIHsKICAgICAgIkZPUk0iOiAgICAgT2JqZWN0LmNsb25lKEZvcm0uTWV0aG9kcyksCiAgICAgICJJTlBVVCI6ICAgIE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcyksCiAgICAgICJTRUxFQ1QiOiAgIE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcyksCiAgICAgICJURVhUQVJFQSI6IE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcyksCiAgICAgICJCVVRUT04iOiAgIE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcykKICAgIH0pOwogIH0KCiAgRWxlbWVudC5hZGRNZXRob2RzKG1ldGhvZHMpOwoKICBmdW5jdGlvbiBkZXN0cm95Q2FjaGVfSUUoKSB7CiAgICBESVYgPSBudWxsOwogICAgRUxFTUVOVF9DQUNIRSA9IG51bGw7CiAgfQoKICBpZiAod2luZG93LmF0dGFjaEV2ZW50KQogICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbnVubG9hZCcsIGRlc3Ryb3lDYWNoZV9JRSk7Cgp9KSh0aGlzKTsKKGZ1bmN0aW9uKCkgewoKICBmdW5jdGlvbiB0b0RlY2ltYWwocGN0U3RyaW5nKSB7CiAgICB2YXIgbWF0Y2ggPSBwY3RTdHJpbmcubWF0Y2goL14oXGQrKSU/JC9pKTsKICAgIGlmICghbWF0Y2gpIHJldHVybiBudWxsOwogICAgcmV0dXJuIChOdW1iZXIobWF0Y2hbMV0pIC8gMTAwKTsKICB9CgogIGZ1bmN0aW9uIGdldFJhd1N0eWxlKGVsZW1lbnQsIHN0eWxlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICdhdXRvJykgewogICAgICB2YXIgY3NzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTsKICAgICAgdmFsdWUgPSBjc3MgPyBjc3Nbc3R5bGVdIDogbnVsbDsKICAgIH0KCiAgICBpZiAoc3R5bGUgPT09ICdvcGFjaXR5JykgcmV0dXJuIHZhbHVlID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiAxLjA7CiAgICByZXR1cm4gdmFsdWUgPT09ICdhdXRvJyA/IG51bGwgOiB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIGdldFJhd1N0eWxlX0lFKGVsZW1lbnQsIHN0eWxlKSB7CiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGUpIHsKICAgICAgdmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVtzdHlsZV07CiAgICB9CiAgICByZXR1cm4gdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBnZXRDb250ZW50V2lkdGgoZWxlbWVudCwgY29udGV4dCkgewogICAgdmFyIGJveFdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDsKCiAgICB2YXIgYmwgPSBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdib3JkZXJMZWZ0V2lkdGgnLCAgY29udGV4dCkgfHwgMDsKICAgIHZhciBiciA9IGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ2JvcmRlclJpZ2h0V2lkdGgnLCBjb250ZXh0KSB8fCAwOwogICAgdmFyIHBsID0gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAncGFkZGluZ0xlZnQnLCAgICAgIGNvbnRleHQpIHx8IDA7CiAgICB2YXIgcHIgPSBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdwYWRkaW5nUmlnaHQnLCAgICAgY29udGV4dCkgfHwgMDsKCiAgICByZXR1cm4gYm94V2lkdGggLSBibCAtIGJyIC0gcGwgLSBwcjsKICB9CgogIGlmICgnY3VycmVudFN0eWxlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHsKICAgIGdldFJhd1N0eWxlID0gZ2V0UmF3U3R5bGVfSUU7CiAgfQoKCiAgZnVuY3Rpb24gZ2V0UGl4ZWxWYWx1ZSh2YWx1ZSwgcHJvcGVydHksIGNvbnRleHQpIHsKICAgIHZhciBlbGVtZW50ID0gbnVsbDsKICAgIGlmIChPYmplY3QuaXNFbGVtZW50KHZhbHVlKSkgewogICAgICBlbGVtZW50ID0gdmFsdWU7CiAgICAgIHZhbHVlID0gZ2V0UmF3U3R5bGUoZWxlbWVudCwgcHJvcGVydHkpOwogICAgfQoKICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIGlmICgoL14oPzotKT9cZCsoXC5cZCspPyhweCk/JC9pKS50ZXN0KHZhbHVlKSkgewogICAgICByZXR1cm4gd2luZG93LnBhcnNlRmxvYXQodmFsdWUpOwogICAgfQoKICAgIHZhciBpc1BlcmNlbnRhZ2UgPSB2YWx1ZS5pbmNsdWRlKCclJyksIGlzVmlld3BvcnQgPSAoY29udGV4dCA9PT0gZG9jdW1lbnQudmlld3BvcnQpOwoKICAgIGlmICgvXGQvLnRlc3QodmFsdWUpICYmIGVsZW1lbnQgJiYgZWxlbWVudC5ydW50aW1lU3R5bGUgJiYgIShpc1BlcmNlbnRhZ2UgJiYgaXNWaWV3cG9ydCkpIHsKICAgICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZS5sZWZ0LCByU3R5bGUgPSBlbGVtZW50LnJ1bnRpbWVTdHlsZS5sZWZ0OwogICAgICBlbGVtZW50LnJ1bnRpbWVTdHlsZS5sZWZ0ID0gZWxlbWVudC5jdXJyZW50U3R5bGUubGVmdDsKICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gdmFsdWUgfHwgMDsKICAgICAgdmFsdWUgPSBlbGVtZW50LnN0eWxlLnBpeGVsTGVmdDsKICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gc3R5bGU7CiAgICAgIGVsZW1lbnQucnVudGltZVN0eWxlLmxlZnQgPSByU3R5bGU7CgogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgaWYgKGVsZW1lbnQgJiYgaXNQZXJjZW50YWdlKSB7CiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgICAgdmFyIGRlY2ltYWwgPSB0b0RlY2ltYWwodmFsdWUpLCB3aG9sZSA9IG51bGw7CgogICAgICB2YXIgaXNIb3Jpem9udGFsID0gcHJvcGVydHkuaW5jbHVkZSgnbGVmdCcpIHx8IHByb3BlcnR5LmluY2x1ZGUoJ3JpZ2h0JykgfHwKICAgICAgIHByb3BlcnR5LmluY2x1ZGUoJ3dpZHRoJyk7CgogICAgICB2YXIgaXNWZXJ0aWNhbCAgID0gcHJvcGVydHkuaW5jbHVkZSgndG9wJykgfHwgcHJvcGVydHkuaW5jbHVkZSgnYm90dG9tJykgfHwKICAgICAgICBwcm9wZXJ0eS5pbmNsdWRlKCdoZWlnaHQnKTsKCiAgICAgIGlmIChjb250ZXh0ID09PSBkb2N1bWVudC52aWV3cG9ydCkgewogICAgICAgIGlmIChpc0hvcml6b250YWwpIHsKICAgICAgICAgIHdob2xlID0gZG9jdW1lbnQudmlld3BvcnQuZ2V0V2lkdGgoKTsKICAgICAgICB9IGVsc2UgaWYgKGlzVmVydGljYWwpIHsKICAgICAgICAgIHdob2xlID0gZG9jdW1lbnQudmlld3BvcnQuZ2V0SGVpZ2h0KCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpc0hvcml6b250YWwpIHsKICAgICAgICAgIHdob2xlID0gJChjb250ZXh0KS5tZWFzdXJlKCd3aWR0aCcpOwogICAgICAgIH0gZWxzZSBpZiAoaXNWZXJ0aWNhbCkgewogICAgICAgICAgd2hvbGUgPSAkKGNvbnRleHQpLm1lYXN1cmUoJ2hlaWdodCcpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICh3aG9sZSA9PT0gbnVsbCkgPyAwIDogd2hvbGUgKiBkZWNpbWFsOwogICAgfQoKICAgIHJldHVybiAwOwogIH0KCiAgZnVuY3Rpb24gdG9DU1NQaXhlbHMobnVtYmVyKSB7CiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKG51bWJlcikgJiYgbnVtYmVyLmVuZHNXaXRoKCdweCcpKQogICAgICByZXR1cm4gbnVtYmVyOwogICAgcmV0dXJuIG51bWJlciArICdweCc7CiAgfQoKICBmdW5jdGlvbiBpc0Rpc3BsYXllZChlbGVtZW50KSB7CiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50LnBhcmVudE5vZGUpIHsKICAgICAgdmFyIGRpc3BsYXkgPSBlbGVtZW50LmdldFN0eWxlKCdkaXNwbGF5Jyk7CiAgICAgIGlmIChkaXNwbGF5ID09PSAnbm9uZScpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgZWxlbWVudCA9ICQoZWxlbWVudC5wYXJlbnROb2RlKTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KCiAgdmFyIGhhc0xheW91dCA9IFByb3RvdHlwZS5LOwogIGlmICgnY3VycmVudFN0eWxlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHsKICAgIGhhc0xheW91dCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgaWYgKCFlbGVtZW50LmN1cnJlbnRTdHlsZS5oYXNMYXlvdXQpIHsKICAgICAgICBlbGVtZW50LnN0eWxlLnpvb20gPSAxOwogICAgICB9CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGNzc05hbWVGb3Ioa2V5KSB7CiAgICBpZiAoa2V5LmluY2x1ZGUoJ2JvcmRlcicpKSBrZXkgPSBrZXkgKyAnLXdpZHRoJzsKICAgIHJldHVybiBrZXkuY2FtZWxpemUoKTsKICB9CgogIEVsZW1lbnQuTGF5b3V0ID0gQ2xhc3MuY3JlYXRlKEhhc2gsIHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCRzdXBlciwgZWxlbWVudCwgcHJlQ29tcHV0ZSkgewogICAgICAkc3VwZXIoKTsKICAgICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICAgIEVsZW1lbnQuTGF5b3V0LlBST1BFUlRJRVMuZWFjaCggZnVuY3Rpb24ocHJvcGVydHkpIHsKICAgICAgICB0aGlzLl9zZXQocHJvcGVydHksIG51bGwpOwogICAgICB9LCB0aGlzKTsKCiAgICAgIGlmIChwcmVDb21wdXRlKSB7CiAgICAgICAgdGhpcy5fcHJlQ29tcHV0aW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLl9iZWdpbigpOwogICAgICAgIEVsZW1lbnQuTGF5b3V0LlBST1BFUlRJRVMuZWFjaCggdGhpcy5fY29tcHV0ZSwgdGhpcyApOwogICAgICAgIHRoaXMuX2VuZCgpOwogICAgICAgIHRoaXMuX3ByZUNvbXB1dGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIF9zZXQ6IGZ1bmN0aW9uKHByb3BlcnR5LCB2YWx1ZSkgewogICAgICByZXR1cm4gSGFzaC5wcm90b3R5cGUuc2V0LmNhbGwodGhpcywgcHJvcGVydHksIHZhbHVlKTsKICAgIH0sCgogICAgc2V0OiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpIHsKICAgICAgdGhyb3cgIlByb3BlcnRpZXMgb2YgRWxlbWVudC5MYXlvdXQgYXJlIHJlYWQtb25seS4iOwogICAgfSwKCiAgICBnZXQ6IGZ1bmN0aW9uKCRzdXBlciwgcHJvcGVydHkpIHsKICAgICAgdmFyIHZhbHVlID0gJHN1cGVyKHByb3BlcnR5KTsKICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gdGhpcy5fY29tcHV0ZShwcm9wZXJ0eSkgOiB2YWx1ZTsKICAgIH0sCgogICAgX2JlZ2luOiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuX2lzUHJlcGFyZWQoKSkgcmV0dXJuOwoKICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7CiAgICAgIGlmIChpc0Rpc3BsYXllZChlbGVtZW50KSkgewogICAgICAgIHRoaXMuX3NldFByZXBhcmVkKHRydWUpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKCiAgICAgIHZhciBvcmlnaW5hbFN0eWxlcyA9IHsKICAgICAgICBwb3NpdGlvbjogICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uICAgfHwgJycsCiAgICAgICAgd2lkdGg6ICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCAgICAgIHx8ICcnLAogICAgICAgIHZpc2liaWxpdHk6IGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSB8fCAnJywKICAgICAgICBkaXNwbGF5OiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgICAgfHwgJycKICAgICAgfTsKCiAgICAgIGVsZW1lbnQuc3RvcmUoJ3Byb3RvdHlwZV9vcmlnaW5hbF9zdHlsZXMnLCBvcmlnaW5hbFN0eWxlcyk7CgogICAgICB2YXIgcG9zaXRpb24gPSBnZXRSYXdTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSwgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoOwoKICAgICAgaWYgKHdpZHRoID09PSAwIHx8IHdpZHRoID09PSBudWxsKSB7CiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7CiAgICAgIH0KCiAgICAgIHZhciBjb250ZXh0ID0gKHBvc2l0aW9uID09PSAnZml4ZWQnKSA/IGRvY3VtZW50LnZpZXdwb3J0IDoKICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZTsKCiAgICAgIHZhciB0ZW1wU3R5bGVzID0gewogICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLAogICAgICAgIGRpc3BsYXk6ICAgICdibG9jaycKICAgICAgfTsKCiAgICAgIGlmIChwb3NpdGlvbiAhPT0gJ2ZpeGVkJykgdGVtcFN0eWxlcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CgogICAgICBlbGVtZW50LnNldFN0eWxlKHRlbXBTdHlsZXMpOwoKICAgICAgdmFyIHBvc2l0aW9uZWRXaWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGgsIG5ld1dpZHRoOwogICAgICBpZiAod2lkdGggJiYgKHBvc2l0aW9uZWRXaWR0aCA9PT0gd2lkdGgpKSB7CiAgICAgICAgbmV3V2lkdGggPSBnZXRDb250ZW50V2lkdGgoZWxlbWVudCwgY29udGV4dCk7CiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdhYnNvbHV0ZScgfHwgcG9zaXRpb24gPT09ICdmaXhlZCcpIHsKICAgICAgICBuZXdXaWR0aCA9IGdldENvbnRlbnRXaWR0aChlbGVtZW50LCBjb250ZXh0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlLCBwTGF5b3V0ID0gJChwYXJlbnQpLmdldExheW91dCgpOwoKICAgICAgICBuZXdXaWR0aCA9IHBMYXlvdXQuZ2V0KCd3aWR0aCcpIC0KICAgICAgICAgdGhpcy5nZXQoJ21hcmdpbi1sZWZ0JykgLQogICAgICAgICB0aGlzLmdldCgnYm9yZGVyLWxlZnQnKSAtCiAgICAgICAgIHRoaXMuZ2V0KCdwYWRkaW5nLWxlZnQnKSAtCiAgICAgICAgIHRoaXMuZ2V0KCdwYWRkaW5nLXJpZ2h0JykgLQogICAgICAgICB0aGlzLmdldCgnYm9yZGVyLXJpZ2h0JykgLQogICAgICAgICB0aGlzLmdldCgnbWFyZ2luLXJpZ2h0Jyk7CiAgICAgIH0KCiAgICAgIGVsZW1lbnQuc2V0U3R5bGUoeyB3aWR0aDogbmV3V2lkdGggKyAncHgnIH0pOwoKICAgICAgdGhpcy5fc2V0UHJlcGFyZWQodHJ1ZSk7CiAgICB9LAoKICAgIF9lbmQ6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDsKICAgICAgdmFyIG9yaWdpbmFsU3R5bGVzID0gZWxlbWVudC5yZXRyaWV2ZSgncHJvdG90eXBlX29yaWdpbmFsX3N0eWxlcycpOwogICAgICBlbGVtZW50LnN0b3JlKCdwcm90b3R5cGVfb3JpZ2luYWxfc3R5bGVzJywgbnVsbCk7CiAgICAgIGVsZW1lbnQuc2V0U3R5bGUob3JpZ2luYWxTdHlsZXMpOwogICAgICB0aGlzLl9zZXRQcmVwYXJlZChmYWxzZSk7CiAgICB9LAoKICAgIF9jb21wdXRlOiBmdW5jdGlvbihwcm9wZXJ0eSkgewogICAgICB2YXIgQ09NUFVUQVRJT05TID0gRWxlbWVudC5MYXlvdXQuQ09NUFVUQVRJT05TOwogICAgICBpZiAoIShwcm9wZXJ0eSBpbiBDT01QVVRBVElPTlMpKSB7CiAgICAgICAgdGhyb3cgIlByb3BlcnR5IG5vdCBmb3VuZC4iOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5fc2V0KHByb3BlcnR5LCBDT01QVVRBVElPTlNbcHJvcGVydHldLmNhbGwodGhpcywgdGhpcy5lbGVtZW50KSk7CiAgICB9LAoKICAgIF9pc1ByZXBhcmVkOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5yZXRyaWV2ZSgncHJvdG90eXBlX2VsZW1lbnRfbGF5b3V0X3ByZXBhcmVkJywgZmFsc2UpOwogICAgfSwKCiAgICBfc2V0UHJlcGFyZWQ6IGZ1bmN0aW9uKGJvb2wpIHsKICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5zdG9yZSgncHJvdG90eXBlX2VsZW1lbnRfbGF5b3V0X3ByZXBhcmVkJywgYm9vbCk7CiAgICB9LAoKICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGFyZ3MgPSAkQShhcmd1bWVudHMpOwogICAgICB2YXIga2V5cyA9IChhcmdzLmxlbmd0aCA9PT0gMCkgPyBFbGVtZW50LkxheW91dC5QUk9QRVJUSUVTIDoKICAgICAgIGFyZ3Muam9pbignICcpLnNwbGl0KCcgJyk7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAga2V5cy5lYWNoKCBmdW5jdGlvbihrZXkpIHsKICAgICAgICBpZiAoIUVsZW1lbnQuTGF5b3V0LlBST1BFUlRJRVMuaW5jbHVkZShrZXkpKSByZXR1cm47CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoa2V5KTsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfSwgdGhpcyk7CiAgICAgIHJldHVybiBvYmo7CiAgICB9LAoKICAgIHRvSGFzaDogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB0aGlzLnRvT2JqZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiBuZXcgSGFzaChvYmopOwogICAgfSwKCiAgICB0b0NTUzogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhcmdzID0gJEEoYXJndW1lbnRzKTsKICAgICAgdmFyIGtleXMgPSAoYXJncy5sZW5ndGggPT09IDApID8gRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUyA6CiAgICAgICBhcmdzLmpvaW4oJyAnKS5zcGxpdCgnICcpOwogICAgICB2YXIgY3NzID0ge307CgogICAgICBrZXlzLmVhY2goIGZ1bmN0aW9uKGtleSkgewogICAgICAgIGlmICghRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUy5pbmNsdWRlKGtleSkpIHJldHVybjsKICAgICAgICBpZiAoRWxlbWVudC5MYXlvdXQuQ09NUE9TSVRFX1BST1BFUlRJRVMuaW5jbHVkZShrZXkpKSByZXR1cm47CgogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KGtleSk7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIGNzc1tjc3NOYW1lRm9yKGtleSldID0gdmFsdWUgKyAncHgnOwogICAgICB9LCB0aGlzKTsKICAgICAgcmV0dXJuIGNzczsKICAgIH0sCgogICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiIzxFbGVtZW50LkxheW91dD4iOwogICAgfQogIH0pOwoKICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQuTGF5b3V0LCB7CiAgICBQUk9QRVJUSUVTOiAkdygnaGVpZ2h0IHdpZHRoIHRvcCBsZWZ0IHJpZ2h0IGJvdHRvbSBib3JkZXItbGVmdCBib3JkZXItcmlnaHQgYm9yZGVyLXRvcCBib3JkZXItYm90dG9tIHBhZGRpbmctbGVmdCBwYWRkaW5nLXJpZ2h0IHBhZGRpbmctdG9wIHBhZGRpbmctYm90dG9tIG1hcmdpbi10b3AgbWFyZ2luLWJvdHRvbSBtYXJnaW4tbGVmdCBtYXJnaW4tcmlnaHQgcGFkZGluZy1ib3gtd2lkdGggcGFkZGluZy1ib3gtaGVpZ2h0IGJvcmRlci1ib3gtd2lkdGggYm9yZGVyLWJveC1oZWlnaHQgbWFyZ2luLWJveC13aWR0aCBtYXJnaW4tYm94LWhlaWdodCcpLAoKICAgIENPTVBPU0lURV9QUk9QRVJUSUVTOiAkdygncGFkZGluZy1ib3gtd2lkdGggcGFkZGluZy1ib3gtaGVpZ2h0IG1hcmdpbi1ib3gtd2lkdGggbWFyZ2luLWJveC1oZWlnaHQgYm9yZGVyLWJveC13aWR0aCBib3JkZXItYm94LWhlaWdodCcpLAoKICAgIENPTVBVVEFUSU9OUzogewogICAgICAnaGVpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9iZWdpbigpOwoKICAgICAgICB2YXIgYkhlaWdodCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LWhlaWdodCcpOwogICAgICAgIGlmIChiSGVpZ2h0IDw9IDApIHsKICAgICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9lbmQoKTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgdmFyIGJUb3AgPSB0aGlzLmdldCgnYm9yZGVyLXRvcCcpLAogICAgICAgICBiQm90dG9tID0gdGhpcy5nZXQoJ2JvcmRlci1ib3R0b20nKTsKCiAgICAgICAgdmFyIHBUb3AgPSB0aGlzLmdldCgncGFkZGluZy10b3AnKSwKICAgICAgICAgcEJvdHRvbSA9IHRoaXMuZ2V0KCdwYWRkaW5nLWJvdHRvbScpOwoKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CgogICAgICAgIHJldHVybiBiSGVpZ2h0IC0gYlRvcCAtIGJCb3R0b20gLSBwVG9wIC0gcEJvdHRvbTsKICAgICAgfSwKCiAgICAgICd3aWR0aCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fYmVnaW4oKTsKCiAgICAgICAgdmFyIGJXaWR0aCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LXdpZHRoJyk7CiAgICAgICAgaWYgKGJXaWR0aCA8PSAwKSB7CiAgICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIHZhciBiTGVmdCA9IHRoaXMuZ2V0KCdib3JkZXItbGVmdCcpLAogICAgICAgICBiUmlnaHQgPSB0aGlzLmdldCgnYm9yZGVyLXJpZ2h0Jyk7CgogICAgICAgIHZhciBwTGVmdCA9IHRoaXMuZ2V0KCdwYWRkaW5nLWxlZnQnKSwKICAgICAgICAgcFJpZ2h0ID0gdGhpcy5nZXQoJ3BhZGRpbmctcmlnaHQnKTsKCiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2VuZCgpOwogICAgICAgIHJldHVybiBiV2lkdGggLSBiTGVmdCAtIGJSaWdodCAtIHBMZWZ0IC0gcFJpZ2h0OwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctYm94LWhlaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXQoJ2hlaWdodCcpLAogICAgICAgICBwVG9wID0gdGhpcy5nZXQoJ3BhZGRpbmctdG9wJyksCiAgICAgICAgIHBCb3R0b20gPSB0aGlzLmdldCgncGFkZGluZy1ib3R0b20nKTsKCiAgICAgICAgcmV0dXJuIGhlaWdodCArIHBUb3AgKyBwQm90dG9tOwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctYm94LXdpZHRoJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0KCd3aWR0aCcpLAogICAgICAgICBwTGVmdCA9IHRoaXMuZ2V0KCdwYWRkaW5nLWxlZnQnKSwKICAgICAgICAgcFJpZ2h0ID0gdGhpcy5nZXQoJ3BhZGRpbmctcmlnaHQnKTsKCiAgICAgICAgcmV0dXJuIHdpZHRoICsgcExlZnQgKyBwUmlnaHQ7CiAgICAgIH0sCgogICAgICAnYm9yZGVyLWJveC1oZWlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2JlZ2luKCk7CiAgICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9lbmQoKTsKICAgICAgICByZXR1cm4gaGVpZ2h0OwogICAgICB9LAoKICAgICAgJ2JvcmRlci1ib3gtd2lkdGgnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2JlZ2luKCk7CiAgICAgICAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDsKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CiAgICAgICAgcmV0dXJuIHdpZHRoOwogICAgICB9LAoKICAgICAgJ21hcmdpbi1ib3gtaGVpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBiSGVpZ2h0ID0gdGhpcy5nZXQoJ2JvcmRlci1ib3gtaGVpZ2h0JyksCiAgICAgICAgIG1Ub3AgPSB0aGlzLmdldCgnbWFyZ2luLXRvcCcpLAogICAgICAgICBtQm90dG9tID0gdGhpcy5nZXQoJ21hcmdpbi1ib3R0b20nKTsKCiAgICAgICAgaWYgKGJIZWlnaHQgPD0gMCkgcmV0dXJuIDA7CgogICAgICAgIHJldHVybiBiSGVpZ2h0ICsgbVRvcCArIG1Cb3R0b207CiAgICAgIH0sCgogICAgICAnbWFyZ2luLWJveC13aWR0aCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgYldpZHRoID0gdGhpcy5nZXQoJ2JvcmRlci1ib3gtd2lkdGgnKSwKICAgICAgICAgbUxlZnQgPSB0aGlzLmdldCgnbWFyZ2luLWxlZnQnKSwKICAgICAgICAgbVJpZ2h0ID0gdGhpcy5nZXQoJ21hcmdpbi1yaWdodCcpOwoKICAgICAgICBpZiAoYldpZHRoIDw9IDApIHJldHVybiAwOwoKICAgICAgICByZXR1cm4gYldpZHRoICsgbUxlZnQgKyBtUmlnaHQ7CiAgICAgIH0sCgogICAgICAndG9wJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBvZmZzZXQgPSBlbGVtZW50LnBvc2l0aW9uZWRPZmZzZXQoKTsKICAgICAgICByZXR1cm4gb2Zmc2V0LnRvcDsKICAgICAgfSwKCiAgICAgICdib3R0b20nOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIG9mZnNldCA9IGVsZW1lbnQucG9zaXRpb25lZE9mZnNldCgpLAogICAgICAgICBwYXJlbnQgPSBlbGVtZW50LmdldE9mZnNldFBhcmVudCgpLAogICAgICAgICBwSGVpZ2h0ID0gcGFyZW50Lm1lYXN1cmUoJ2hlaWdodCcpOwoKICAgICAgICB2YXIgbUhlaWdodCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LWhlaWdodCcpOwoKICAgICAgICByZXR1cm4gcEhlaWdodCAtIG1IZWlnaHQgLSBvZmZzZXQudG9wOwogICAgICB9LAoKICAgICAgJ2xlZnQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIG9mZnNldCA9IGVsZW1lbnQucG9zaXRpb25lZE9mZnNldCgpOwogICAgICAgIHJldHVybiBvZmZzZXQubGVmdDsKICAgICAgfSwKCiAgICAgICdyaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgb2Zmc2V0ID0gZWxlbWVudC5wb3NpdGlvbmVkT2Zmc2V0KCksCiAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQuZ2V0T2Zmc2V0UGFyZW50KCksCiAgICAgICAgIHBXaWR0aCA9IHBhcmVudC5tZWFzdXJlKCd3aWR0aCcpOwoKICAgICAgICB2YXIgbVdpZHRoID0gdGhpcy5nZXQoJ2JvcmRlci1ib3gtd2lkdGgnKTsKCiAgICAgICAgcmV0dXJuIHBXaWR0aCAtIG1XaWR0aCAtIG9mZnNldC5sZWZ0OwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctdG9wJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdwYWRkaW5nVG9wJyk7CiAgICAgIH0sCgogICAgICAncGFkZGluZy1ib3R0b20nOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ3BhZGRpbmdCb3R0b20nKTsKICAgICAgfSwKCiAgICAgICdwYWRkaW5nLWxlZnQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ3BhZGRpbmdMZWZ0Jyk7CiAgICAgIH0sCgogICAgICAncGFkZGluZy1yaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAncGFkZGluZ1JpZ2h0Jyk7CiAgICAgIH0sCgogICAgICAnYm9yZGVyLXRvcCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnYm9yZGVyVG9wV2lkdGgnKTsKICAgICAgfSwKCiAgICAgICdib3JkZXItYm90dG9tJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdib3JkZXJCb3R0b21XaWR0aCcpOwogICAgICB9LAoKICAgICAgJ2JvcmRlci1sZWZ0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdib3JkZXJMZWZ0V2lkdGgnKTsKICAgICAgfSwKCiAgICAgICdib3JkZXItcmlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ2JvcmRlclJpZ2h0V2lkdGgnKTsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tdG9wJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdtYXJnaW5Ub3AnKTsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tYm90dG9tJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdtYXJnaW5Cb3R0b20nKTsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tbGVmdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnbWFyZ2luTGVmdCcpOwogICAgICB9LAoKICAgICAgJ21hcmdpbi1yaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnbWFyZ2luUmlnaHQnKTsKICAgICAgfQogICAgfQogIH0pOwoKICBpZiAoJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQuTGF5b3V0LkNPTVBVVEFUSU9OUywgewogICAgICAncmlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGhhc0xheW91dChlbGVtZW50LmdldE9mZnNldFBhcmVudCgpKTsKICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgIHBSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICByZXR1cm4gKHBSZWN0LnJpZ2h0IC0gcmVjdC5yaWdodCkucm91bmQoKTsKICAgICAgfSwKCiAgICAgICdib3R0b20nOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGhhc0xheW91dChlbGVtZW50LmdldE9mZnNldFBhcmVudCgpKTsKICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgIHBSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICByZXR1cm4gKHBSZWN0LmJvdHRvbSAtIHJlY3QuYm90dG9tKS5yb3VuZCgpOwogICAgICB9CiAgICB9KTsKICB9CgogIEVsZW1lbnQuT2Zmc2V0ID0gQ2xhc3MuY3JlYXRlKHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICB0aGlzLmxlZnQgPSBsZWZ0LnJvdW5kKCk7CiAgICAgIHRoaXMudG9wICA9IHRvcC5yb3VuZCgpOwoKICAgICAgdGhpc1swXSA9IHRoaXMubGVmdDsKICAgICAgdGhpc1sxXSA9IHRoaXMudG9wOwogICAgfSwKCiAgICByZWxhdGl2ZVRvOiBmdW5jdGlvbihvZmZzZXQpIHsKICAgICAgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCgKICAgICAgICB0aGlzLmxlZnQgLSBvZmZzZXQubGVmdCwKICAgICAgICB0aGlzLnRvcCAgLSBvZmZzZXQudG9wCiAgICAgICk7CiAgICB9LAoKICAgIGluc3BlY3Q6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gIiM8RWxlbWVudC5PZmZzZXQgbGVmdDogI3tsZWZ0fSB0b3A6ICN7dG9wfT4iLmludGVycG9sYXRlKHRoaXMpOwogICAgfSwKCiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiWyN7bGVmdH0sICN7dG9wfV0iLmludGVycG9sYXRlKHRoaXMpOwogICAgfSwKCiAgICB0b0FycmF5OiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIFt0aGlzLmxlZnQsIHRoaXMudG9wXTsKICAgIH0KICB9KTsKCiAgZnVuY3Rpb24gZ2V0TGF5b3V0KGVsZW1lbnQsIHByZUNvbXB1dGUpIHsKICAgIHJldHVybiBuZXcgRWxlbWVudC5MYXlvdXQoZWxlbWVudCwgcHJlQ29tcHV0ZSk7CiAgfQoKICBmdW5jdGlvbiBtZWFzdXJlKGVsZW1lbnQsIHByb3BlcnR5KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5nZXRMYXlvdXQoKS5nZXQocHJvcGVydHkpOwogIH0KCiAgZnVuY3Rpb24gZ2V0SGVpZ2h0KGVsZW1lbnQpIHsKICAgIHJldHVybiBFbGVtZW50LmdldERpbWVuc2lvbnMoZWxlbWVudCkuaGVpZ2h0OwogIH0KCiAgZnVuY3Rpb24gZ2V0V2lkdGgoZWxlbWVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuZ2V0RGltZW5zaW9ucyhlbGVtZW50KS53aWR0aDsKICB9CgogIGZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZGlzcGxheSA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ2Rpc3BsYXknKTsKCiAgICBpZiAoZGlzcGxheSAmJiBkaXNwbGF5ICE9PSAnbm9uZScpIHsKICAgICAgcmV0dXJuIHsgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgfTsKICAgIH0KCiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlOwogICAgdmFyIG9yaWdpbmFsU3R5bGVzID0gewogICAgICB2aXNpYmlsaXR5OiBzdHlsZS52aXNpYmlsaXR5LAogICAgICBwb3NpdGlvbjogICBzdHlsZS5wb3NpdGlvbiwKICAgICAgZGlzcGxheTogICAgc3R5bGUuZGlzcGxheQogICAgfTsKCiAgICB2YXIgbmV3U3R5bGVzID0gewogICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJywKICAgICAgZGlzcGxheTogICAgJ2Jsb2NrJwogICAgfTsKCiAgICBpZiAob3JpZ2luYWxTdHlsZXMucG9zaXRpb24gIT09ICdmaXhlZCcpCiAgICAgIG5ld1N0eWxlcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CgogICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCBuZXdTdHlsZXMpOwoKICAgIHZhciBkaW1lbnNpb25zID0gewogICAgICB3aWR0aDogIGVsZW1lbnQub2Zmc2V0V2lkdGgsCiAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQKICAgIH07CgogICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCBvcmlnaW5hbFN0eWxlcyk7CgogICAgcmV0dXJuIGRpbWVuc2lvbnM7CiAgfQoKICBmdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAgaWYgKGlzRG9jdW1lbnQoZWxlbWVudCkgfHwgaXNEZXRhY2hlZChlbGVtZW50KSB8fCBpc0JvZHkoZWxlbWVudCkgfHwgaXNIdG1sKGVsZW1lbnQpKQogICAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KTsKCiAgICB2YXIgaXNJbmxpbmUgPSAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScpID09PSAnaW5saW5lJyk7CiAgICBpZiAoIWlzSW5saW5lICYmIGVsZW1lbnQub2Zmc2V0UGFyZW50KSByZXR1cm4gJChlbGVtZW50Lm9mZnNldFBhcmVudCk7CgogICAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7CiAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpICE9PSAnc3RhdGljJykgewogICAgICAgIHJldHVybiBpc0h0bWwoZWxlbWVudCkgPyAkKGRvY3VtZW50LmJvZHkpIDogJChlbGVtZW50KTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiAkKGRvY3VtZW50LmJvZHkpOwogIH0KCgogIGZ1bmN0aW9uIGN1bXVsYXRpdmVPZmZzZXQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHsKICAgICAgZG8gewogICAgICAgIHZhbHVlVCArPSBlbGVtZW50Lm9mZnNldFRvcCAgfHwgMDsKICAgICAgICB2YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50OwogICAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIH0KICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gcG9zaXRpb25lZE9mZnNldChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgbGF5b3V0ID0gZWxlbWVudC5nZXRMYXlvdXQoKTsKCiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQub2Zmc2V0VG9wICB8fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICBpZiAoaXNCb2R5KGVsZW1lbnQpKSBicmVhazsKICAgICAgICB2YXIgcCA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJyk7CiAgICAgICAgaWYgKHAgIT09ICdzdGF0aWMnKSBicmVhazsKICAgICAgfQogICAgfSB3aGlsZSAoZWxlbWVudCk7CgogICAgdmFsdWVMIC09IGxheW91dC5nZXQoJ21hcmdpbi10b3AnKTsKICAgIHZhbHVlVCAtPSBsYXlvdXQuZ2V0KCdtYXJnaW4tbGVmdCcpOwoKICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gY3VtdWxhdGl2ZVNjcm9sbE9mZnNldChlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgaWYgKGVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpIHsKICAgICAgICB2YXIgYm9keVNjcm9sbE5vZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHk7CiAgICAgICAgdmFsdWVUICs9ICFPYmplY3QuaXNVbmRlZmluZWQod2luZG93LnBhZ2VZT2Zmc2V0KSA/IHdpbmRvdy5wYWdlWU9mZnNldCA6IGJvZHlTY3JvbGxOb2RlLnNjcm9sbFRvcCB8fCAwOwogICAgICAgIHZhbHVlTCArPSAhT2JqZWN0LmlzVW5kZWZpbmVkKHdpbmRvdy5wYWdlWE9mZnNldCkgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiBib2R5U2Nyb2xsTm9kZS5zY3JvbGxMZWZ0IHx8IDA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWVUICs9IGVsZW1lbnQuc2Nyb2xsVG9wICB8fCAwOwogICAgICAgIHZhbHVlTCArPSBlbGVtZW50LnNjcm9sbExlZnQgfHwgMDsKICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOwogICAgICB9CiAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gdmlld3BvcnRPZmZzZXQoZm9yRWxlbWVudCkgewogICAgdmFyIHZhbHVlVCA9IDAsIHZhbHVlTCA9IDAsIGRvY0JvZHkgPSBkb2N1bWVudC5ib2R5OwoKICAgIGZvckVsZW1lbnQgPSAkKGZvckVsZW1lbnQpOwogICAgdmFyIGVsZW1lbnQgPSBmb3JFbGVtZW50OwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDsKICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50ID09IGRvY0JvZHkgJiYKICAgICAgICBFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09ICdhYnNvbHV0ZScpIGJyZWFrOwogICAgfSB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KTsKCiAgICBlbGVtZW50ID0gZm9yRWxlbWVudDsKICAgIGRvIHsKICAgICAgaWYgKGVsZW1lbnQgIT0gZG9jQm9keSkgewogICAgICAgIHZhbHVlVCAtPSBlbGVtZW50LnNjcm9sbFRvcCAgfHwgMDsKICAgICAgICB2YWx1ZUwgLT0gZWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7CiAgICAgIH0KICAgIH0gd2hpbGUgKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpOwogICAgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCh2YWx1ZUwsIHZhbHVlVCk7CiAgfQoKICBmdW5jdGlvbiBhYnNvbHV0aXplKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKSB7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCk7CiAgICB2YXIgZU9mZnNldCA9IGVsZW1lbnQudmlld3BvcnRPZmZzZXQoKSwKICAgICBwT2Zmc2V0ID0gb2Zmc2V0UGFyZW50LnZpZXdwb3J0T2Zmc2V0KCk7CgogICAgdmFyIG9mZnNldCA9IGVPZmZzZXQucmVsYXRpdmVUbyhwT2Zmc2V0KTsKICAgIHZhciBsYXlvdXQgPSBlbGVtZW50LmdldExheW91dCgpOwoKICAgIGVsZW1lbnQuc3RvcmUoJ3Byb3RvdHlwZV9hYnNvbHV0aXplX29yaWdpbmFsX3N0eWxlcycsIHsKICAgICAgcG9zaXRpb246IGVsZW1lbnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJyksCiAgICAgIGxlZnQ6ICAgICBlbGVtZW50LmdldFN0eWxlKCdsZWZ0JyksCiAgICAgIHRvcDogICAgICBlbGVtZW50LmdldFN0eWxlKCd0b3AnKSwKICAgICAgd2lkdGg6ICAgIGVsZW1lbnQuZ2V0U3R5bGUoJ3dpZHRoJyksCiAgICAgIGhlaWdodDogICBlbGVtZW50LmdldFN0eWxlKCdoZWlnaHQnKQogICAgfSk7CgogICAgZWxlbWVudC5zZXRTdHlsZSh7CiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICB0b3A6ICAgIG9mZnNldC50b3AgKyAncHgnLAogICAgICBsZWZ0OiAgIG9mZnNldC5sZWZ0ICsgJ3B4JywKICAgICAgd2lkdGg6ICBsYXlvdXQuZ2V0KCd3aWR0aCcpICsgJ3B4JywKICAgICAgaGVpZ2h0OiBsYXlvdXQuZ2V0KCdoZWlnaHQnKSArICdweCcKICAgIH0pOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gcmVsYXRpdml6ZShlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAncmVsYXRpdmUnKSB7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBvcmlnaW5hbFN0eWxlcyA9CiAgICAgZWxlbWVudC5yZXRyaWV2ZSgncHJvdG90eXBlX2Fic29sdXRpemVfb3JpZ2luYWxfc3R5bGVzJyk7CgogICAgaWYgKG9yaWdpbmFsU3R5bGVzKSBlbGVtZW50LnNldFN0eWxlKG9yaWdpbmFsU3R5bGVzKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCgogIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHBvcyA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKICAgIHdpbmRvdy5zY3JvbGxUbyhwb3MubGVmdCwgcG9zLnRvcCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9CgoKICBmdW5jdGlvbiBtYWtlUG9zaXRpb25lZChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBwb3NpdGlvbiA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJyksIHN0eWxlcyA9IHt9OwogICAgaWYgKHBvc2l0aW9uID09PSAnc3RhdGljJyB8fCAhcG9zaXRpb24pIHsKICAgICAgc3R5bGVzLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLk9wZXJhKSB7CiAgICAgICAgc3R5bGVzLnRvcCAgPSAwOwogICAgICAgIHN0eWxlcy5sZWZ0ID0gMDsKICAgICAgfQogICAgICBFbGVtZW50LnNldFN0eWxlKGVsZW1lbnQsIHN0eWxlcyk7CiAgICAgIEVsZW1lbnQuc3RvcmUoZWxlbWVudCwgJ3Byb3RvdHlwZV9tYWRlX3Bvc2l0aW9uZWQnLCB0cnVlKTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gdW5kb1Bvc2l0aW9uZWQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgc3RvcmFnZSA9IEVsZW1lbnQuZ2V0U3RvcmFnZShlbGVtZW50KSwKICAgICBtYWRlUG9zaXRpb25lZCA9IHN0b3JhZ2UuZ2V0KCdwcm90b3R5cGVfbWFkZV9wb3NpdGlvbmVkJyk7CgogICAgaWYgKG1hZGVQb3NpdGlvbmVkKSB7CiAgICAgIHN0b3JhZ2UudW5zZXQoJ3Byb3RvdHlwZV9tYWRlX3Bvc2l0aW9uZWQnKTsKICAgICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCB7CiAgICAgICAgcG9zaXRpb246ICcnLAogICAgICAgIHRvcDogICAgICAnJywKICAgICAgICBib3R0b206ICAgJycsCiAgICAgICAgbGVmdDogICAgICcnLAogICAgICAgIHJpZ2h0OiAgICAnJwogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gbWFrZUNsaXBwaW5nKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIHZhciBzdG9yYWdlID0gRWxlbWVudC5nZXRTdG9yYWdlKGVsZW1lbnQpLAogICAgIG1hZGVDbGlwcGluZyA9IHN0b3JhZ2UuZ2V0KCdwcm90b3R5cGVfbWFkZV9jbGlwcGluZycpOwoKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQobWFkZUNsaXBwaW5nKSkgewogICAgICB2YXIgb3ZlcmZsb3cgPSBFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdvdmVyZmxvdycpOwogICAgICBzdG9yYWdlLnNldCgncHJvdG90eXBlX21hZGVfY2xpcHBpbmcnLCBvdmVyZmxvdyk7CiAgICAgIGlmIChvdmVyZmxvdyAhPT0gJ2hpZGRlbicpCiAgICAgICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gdW5kb0NsaXBwaW5nKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHN0b3JhZ2UgPSBFbGVtZW50LmdldFN0b3JhZ2UoZWxlbWVudCksCiAgICAgb3ZlcmZsb3cgPSBzdG9yYWdlLmdldCgncHJvdG90eXBlX21hZGVfY2xpcHBpbmcnKTsKCiAgICBpZiAoIU9iamVjdC5pc1VuZGVmaW5lZChvdmVyZmxvdykpIHsKICAgICAgc3RvcmFnZS51bnNldCgncHJvdG90eXBlX21hZGVfY2xpcHBpbmcnKTsKICAgICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IG92ZXJmbG93IHx8ICcnOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gY2xvbmVQb3NpdGlvbihlbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgPSBPYmplY3QuZXh0ZW5kKHsKICAgICAgc2V0TGVmdDogICAgdHJ1ZSwKICAgICAgc2V0VG9wOiAgICAgdHJ1ZSwKICAgICAgc2V0V2lkdGg6ICAgdHJ1ZSwKICAgICAgc2V0SGVpZ2h0OiAgdHJ1ZSwKICAgICAgb2Zmc2V0VG9wOiAgMCwKICAgICAgb2Zmc2V0TGVmdDogMAogICAgfSwgb3B0aW9ucyB8fCB7fSk7CgogICAgc291cmNlICA9ICQoc291cmNlKTsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHAsIGRlbHRhLCBsYXlvdXQsIHN0eWxlcyA9IHt9OwoKICAgIGlmIChvcHRpb25zLnNldExlZnQgfHwgb3B0aW9ucy5zZXRUb3ApIHsKICAgICAgcCA9IEVsZW1lbnQudmlld3BvcnRPZmZzZXQoc291cmNlKTsKICAgICAgZGVsdGEgPSBbMCwgMF07CiAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKSB7CiAgICAgICAgdmFyIHBhcmVudCA9IEVsZW1lbnQuZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpOwogICAgICAgIGlmIChwYXJlbnQgIT09IGRvY3VtZW50LmJvZHkpIGRlbHRhID0gRWxlbWVudC52aWV3cG9ydE9mZnNldChwYXJlbnQpOwogICAgICB9CiAgICB9CgogICAgaWYgKG9wdGlvbnMuc2V0V2lkdGggfHwgb3B0aW9ucy5zZXRIZWlnaHQpIHsKICAgICAgbGF5b3V0ID0gRWxlbWVudC5nZXRMYXlvdXQoc291cmNlKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy5zZXRMZWZ0KQogICAgICBzdHlsZXMubGVmdCA9IChwWzBdIC0gZGVsdGFbMF0gKyBvcHRpb25zLm9mZnNldExlZnQpICsgJ3B4JzsKICAgIGlmIChvcHRpb25zLnNldFRvcCkKICAgICAgc3R5bGVzLnRvcCAgPSAocFsxXSAtIGRlbHRhWzFdICsgb3B0aW9ucy5vZmZzZXRUb3ApICArICdweCc7CgogICAgaWYgKG9wdGlvbnMuc2V0V2lkdGgpCiAgICAgIHN0eWxlcy53aWR0aCAgPSBsYXlvdXQuZ2V0KCdib3JkZXItYm94LXdpZHRoJykgICsgJ3B4JzsKICAgIGlmIChvcHRpb25zLnNldEhlaWdodCkKICAgICAgc3R5bGVzLmhlaWdodCA9IGxheW91dC5nZXQoJ2JvcmRlci1ib3gtaGVpZ2h0JykgKyAncHgnOwoKICAgIHJldHVybiBFbGVtZW50LnNldFN0eWxlKGVsZW1lbnQsIHN0eWxlcyk7CiAgfQoKCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKSB7CiAgICBnZXRPZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQud3JhcCgKICAgICAgZnVuY3Rpb24ocHJvY2VlZCwgZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgICAgICBpZiAoaXNEb2N1bWVudChlbGVtZW50KSB8fCBpc0RldGFjaGVkKGVsZW1lbnQpIHx8IGlzQm9keShlbGVtZW50KSB8fCBpc0h0bWwoZWxlbWVudCkpCiAgICAgICAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KTsKCiAgICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKICAgICAgICBpZiAocG9zaXRpb24gIT09ICdzdGF0aWMnKSByZXR1cm4gcHJvY2VlZChlbGVtZW50KTsKCiAgICAgICAgZWxlbWVudC5zZXRTdHlsZSh7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0pOwogICAgICAgIHZhciB2YWx1ZSA9IHByb2NlZWQoZWxlbWVudCk7CiAgICAgICAgZWxlbWVudC5zZXRTdHlsZSh7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KICAgICk7CgogICAgcG9zaXRpb25lZE9mZnNldCA9IHBvc2l0aW9uZWRPZmZzZXQud3JhcChmdW5jdGlvbihwcm9jZWVkLCBlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSkgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCgwLCAwKTsKICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKICAgICAgaWYgKHBvc2l0aW9uICE9PSAnc3RhdGljJykgcmV0dXJuIHByb2NlZWQoZWxlbWVudCk7CgogICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5nZXRPZmZzZXRQYXJlbnQoKTsKICAgICAgaWYgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpCiAgICAgICAgaGFzTGF5b3V0KG9mZnNldFBhcmVudCk7CgogICAgICBlbGVtZW50LnNldFN0eWxlKHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSk7CiAgICAgIHZhciB2YWx1ZSA9IHByb2NlZWQoZWxlbWVudCk7CiAgICAgIGVsZW1lbnQuc2V0U3R5bGUoeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0pOwogIH0gZWxzZSBpZiAoUHJvdG90eXBlLkJyb3dzZXIuV2Via2l0KSB7CiAgICBjdW11bGF0aXZlT2Zmc2V0ID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgdmFyIHZhbHVlVCA9IDAsIHZhbHVlTCA9IDA7CiAgICAgIGRvIHsKICAgICAgICB2YWx1ZVQgKz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgICAgdmFsdWVMICs9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwOwogICAgICAgIGlmIChlbGVtZW50Lm9mZnNldFBhcmVudCA9PSBkb2N1bWVudC5ib2R5KSB7CiAgICAgICAgICBpZiAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSA9PSAnYWJzb2x1dGUnKSBicmVhazsKICAgICAgICB9CgogICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgfSB3aGlsZSAoZWxlbWVudCk7CgogICAgICByZXR1cm4gbmV3IEVsZW1lbnQuT2Zmc2V0KHZhbHVlTCwgdmFsdWVUKTsKICAgIH07CiAgfQoKCiAgRWxlbWVudC5hZGRNZXRob2RzKHsKICAgIGdldExheW91dDogICAgICAgICAgICAgIGdldExheW91dCwKICAgIG1lYXN1cmU6ICAgICAgICAgICAgICAgIG1lYXN1cmUsCiAgICBnZXRXaWR0aDogICAgICAgICAgICAgICBnZXRXaWR0aCwKICAgIGdldEhlaWdodDogICAgICAgICAgICAgIGdldEhlaWdodCwKICAgIGdldERpbWVuc2lvbnM6ICAgICAgICAgIGdldERpbWVuc2lvbnMsCiAgICBnZXRPZmZzZXRQYXJlbnQ6ICAgICAgICBnZXRPZmZzZXRQYXJlbnQsCiAgICBjdW11bGF0aXZlT2Zmc2V0OiAgICAgICBjdW11bGF0aXZlT2Zmc2V0LAogICAgcG9zaXRpb25lZE9mZnNldDogICAgICAgcG9zaXRpb25lZE9mZnNldCwKICAgIGN1bXVsYXRpdmVTY3JvbGxPZmZzZXQ6IGN1bXVsYXRpdmVTY3JvbGxPZmZzZXQsCiAgICB2aWV3cG9ydE9mZnNldDogICAgICAgICB2aWV3cG9ydE9mZnNldCwKICAgIGFic29sdXRpemU6ICAgICAgICAgICAgIGFic29sdXRpemUsCiAgICByZWxhdGl2aXplOiAgICAgICAgICAgICByZWxhdGl2aXplLAogICAgc2Nyb2xsVG86ICAgICAgICAgICAgICAgc2Nyb2xsVG8sCiAgICBtYWtlUG9zaXRpb25lZDogICAgICAgICBtYWtlUG9zaXRpb25lZCwKICAgIHVuZG9Qb3NpdGlvbmVkOiAgICAgICAgIHVuZG9Qb3NpdGlvbmVkLAogICAgbWFrZUNsaXBwaW5nOiAgICAgICAgICAgbWFrZUNsaXBwaW5nLAogICAgdW5kb0NsaXBwaW5nOiAgICAgICAgICAgdW5kb0NsaXBwaW5nLAogICAgY2xvbmVQb3NpdGlvbjogICAgICAgICAgY2xvbmVQb3NpdGlvbgogIH0pOwoKICBmdW5jdGlvbiBpc0JvZHkoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0JPRFknOwogIH0KCiAgZnVuY3Rpb24gaXNIdG1sKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdIVE1MJzsKICB9CgogIGZ1bmN0aW9uIGlzRG9jdW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfTk9ERTsKICB9CgogIGZ1bmN0aW9uIGlzRGV0YWNoZWQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkgJiYKICAgICAhRWxlbWVudC5kZXNjZW5kYW50T2YoZWxlbWVudCwgZG9jdW1lbnQuYm9keSk7CiAgfQoKICBpZiAoJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgICBFbGVtZW50LmFkZE1ldGhvZHMoewogICAgICB2aWV3cG9ydE9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICAgIGlmIChpc0RldGFjaGVkKGVsZW1lbnQpKSByZXR1cm4gbmV3IEVsZW1lbnQuT2Zmc2V0KDAsIDApOwoKICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQocmVjdC5sZWZ0IC0gZG9jRWwuY2xpZW50TGVmdCwKICAgICAgICAgcmVjdC50b3AgLSBkb2NFbC5jbGllbnRUb3ApOwogICAgICB9CiAgICB9KTsKICB9CgoKfSkoKTsKCihmdW5jdGlvbigpIHsKCiAgdmFyIElTX09MRF9PUEVSQSA9IFByb3RvdHlwZS5Ccm93c2VyLk9wZXJhICYmCiAgICh3aW5kb3cucGFyc2VGbG9hdCh3aW5kb3cub3BlcmEudmVyc2lvbigpKSA8IDkuNSk7CiAgdmFyIFJPT1QgPSBudWxsOwogIGZ1bmN0aW9uIGdldFJvb3RFbGVtZW50KCkgewogICAgaWYgKFJPT1QpIHJldHVybiBST09UOwogICAgUk9PVCA9IElTX09MRF9PUEVSQSA/IGRvY3VtZW50LmJvZHkgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICByZXR1cm4gUk9PVDsKICB9CgogIGZ1bmN0aW9uIGdldERpbWVuc2lvbnMoKSB7CiAgICByZXR1cm4geyB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLCBoZWlnaHQ6IHRoaXMuZ2V0SGVpZ2h0KCkgfTsKICB9CgogIGZ1bmN0aW9uIGdldFdpZHRoKCkgewogICAgcmV0dXJuIGdldFJvb3RFbGVtZW50KCkuY2xpZW50V2lkdGg7CiAgfQoKICBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7CiAgICByZXR1cm4gZ2V0Um9vdEVsZW1lbnQoKS5jbGllbnRIZWlnaHQ7CiAgfQoKICBmdW5jdGlvbiBnZXRTY3JvbGxPZmZzZXRzKCkgewogICAgdmFyIHggPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwKICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQ7CiAgICB2YXIgeSA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8CiAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCh4LCB5KTsKICB9CgogIGRvY3VtZW50LnZpZXdwb3J0ID0gewogICAgZ2V0RGltZW5zaW9uczogICAgZ2V0RGltZW5zaW9ucywKICAgIGdldFdpZHRoOiAgICAgICAgIGdldFdpZHRoLAogICAgZ2V0SGVpZ2h0OiAgICAgICAgZ2V0SGVpZ2h0LAogICAgZ2V0U2Nyb2xsT2Zmc2V0czogZ2V0U2Nyb2xsT2Zmc2V0cwogIH07Cgp9KSgpOwp3aW5kb3cuJCQgPSBmdW5jdGlvbigpIHsKICB2YXIgZXhwcmVzc2lvbiA9ICRBKGFyZ3VtZW50cykuam9pbignLCAnKTsKICByZXR1cm4gUHJvdG90eXBlLlNlbGVjdG9yLnNlbGVjdChleHByZXNzaW9uLCBkb2N1bWVudCk7Cn07CgpQcm90b3R5cGUuU2VsZWN0b3IgPSAoZnVuY3Rpb24oKSB7CgogIGZ1bmN0aW9uIHNlbGVjdCgpIHsKICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kICJQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0IiBtdXN0IGJlIGRlZmluZWQuJyk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaCgpIHsKICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kICJQcm90b3R5cGUuU2VsZWN0b3IubWF0Y2giIG11c3QgYmUgZGVmaW5lZC4nKTsKICB9CgogIGZ1bmN0aW9uIGZpbmQoZWxlbWVudHMsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBpbmRleCA9IGluZGV4IHx8IDA7CiAgICB2YXIgbWF0Y2ggPSBQcm90b3R5cGUuU2VsZWN0b3IubWF0Y2gsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aCwgbWF0Y2hJbmRleCA9IDAsIGk7CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChtYXRjaChlbGVtZW50c1tpXSwgZXhwcmVzc2lvbikgJiYgaW5kZXggPT0gbWF0Y2hJbmRleCsrKSB7CiAgICAgICAgcmV0dXJuIEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnRzW2ldKTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kRWxlbWVudHMoZWxlbWVudHMpIHsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBFbGVtZW50LmV4dGVuZChlbGVtZW50c1tpXSk7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudHM7CiAgfQoKCiAgdmFyIEsgPSBQcm90b3R5cGUuSzsKCiAgcmV0dXJuIHsKICAgIHNlbGVjdDogc2VsZWN0LAogICAgbWF0Y2g6IG1hdGNoLAogICAgZmluZDogZmluZCwKICAgIGV4dGVuZEVsZW1lbnRzOiAoRWxlbWVudC5leHRlbmQgPT09IEspID8gSyA6IGV4dGVuZEVsZW1lbnRzLAogICAgZXh0ZW5kRWxlbWVudDogRWxlbWVudC5leHRlbmQKICB9Owp9KSgpOwpQcm90b3R5cGUuX29yaWdpbmFsX3Byb3BlcnR5ID0gd2luZG93LlNpenpsZTsKLyohCiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHZAVkVSU0lPTgogKiBodHRwOi8vc2l6emxlanMuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIERhdGU6IEBEQVRFCiAqLwooZnVuY3Rpb24oIHdpbmRvdyApIHsKCnZhciBpLAoJc3VwcG9ydCwKCUV4cHIsCglnZXRUZXh0LAoJaXNYTUwsCgljb21waWxlLAoJc2VsZWN0LAoJb3V0ZXJtb3N0Q29udGV4dCwKCXNvcnRJbnB1dCwKCWhhc0R1cGxpY2F0ZSwKCglzZXREb2N1bWVudCwKCWRvY3VtZW50LAoJZG9jRWxlbSwKCWRvY3VtZW50SXNIVE1MLAoJcmJ1Z2d5UVNBLAoJcmJ1Z2d5TWF0Y2hlcywKCW1hdGNoZXMsCgljb250YWlucywKCglleHBhbmRvID0gInNpenpsZSIgKyAtKG5ldyBEYXRlKCkpLAoJcHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LAoJZGlycnVucyA9IDAsCglkb25lID0gMCwKCWNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLAoJdG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksCgljb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSwKCXNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkgewoJCWlmICggYSA9PT0gYiApIHsKCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsKCQl9CgkJcmV0dXJuIDA7Cgl9LAoKCXN0cnVuZGVmaW5lZCA9IHR5cGVvZiB1bmRlZmluZWQsCglNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLAoKCWhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksCglhcnIgPSBbXSwKCXBvcCA9IGFyci5wb3AsCglwdXNoX25hdGl2ZSA9IGFyci5wdXNoLAoJcHVzaCA9IGFyci5wdXNoLAoJc2xpY2UgPSBhcnIuc2xpY2UsCglpbmRleE9mID0gYXJyLmluZGV4T2YgfHwgZnVuY3Rpb24oIGVsZW0gKSB7CgkJdmFyIGkgPSAwLAoJCQlsZW4gPSB0aGlzLmxlbmd0aDsKCQlmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsKCQkJaWYgKCB0aGlzW2ldID09PSBlbGVtICkgewoJCQkJcmV0dXJuIGk7CgkJCX0KCQl9CgkJcmV0dXJuIC0xOwoJfSwKCglib29sZWFucyA9ICJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsCgoKCXdoaXRlc3BhY2UgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsCgljaGFyYWN0ZXJFbmNvZGluZyA9ICIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsCgoJaWRlbnRpZmllciA9IGNoYXJhY3RlckVuY29kaW5nLnJlcGxhY2UoICJ3IiwgIncjIiApLAoKCWF0dHJpYnV0ZXMgPSAiXFxbIiArIHdoaXRlc3BhY2UgKyAiKigiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyAiKSIgKyB3aGl0ZXNwYWNlICsKCQkiKig/OihbKl4kfCF+XT89KSIgKyB3aGl0ZXNwYWNlICsgIiooPzooWydcIl0pKCg/OlxcXFwufFteXFxcXF0pKj8pXFwzfCgiICsgaWRlbnRpZmllciArICIpfCl8KSIgKyB3aGl0ZXNwYWNlICsgIipcXF0iLAoKCXBzZXVkb3MgPSAiOigiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyAiKSg/OlxcKCgoWydcIl0pKCg/OlxcXFwufFteXFxcXF0pKj8pXFwzfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIgKyBhdHRyaWJ1dGVzLnJlcGxhY2UoIDMsIDggKSArICIpKil8LiopXFwpfCkiLAoKCXJ0cmltID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgd2hpdGVzcGFjZSArICIrJCIsICJnIiApLAoKCXJjb21tYSA9IG5ldyBSZWdFeHAoICJeIiArIHdoaXRlc3BhY2UgKyAiKiwiICsgd2hpdGVzcGFjZSArICIqIiApLAoJcmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIqKFs+K35dfCIgKyB3aGl0ZXNwYWNlICsgIikiICsgd2hpdGVzcGFjZSArICIqIiApLAoKCXJhdHRyaWJ1dGVRdW90ZXMgPSBuZXcgUmVnRXhwKCAiPSIgKyB3aGl0ZXNwYWNlICsgIiooW15cXF0nXCJdKj8pIiArIHdoaXRlc3BhY2UgKyAiKlxcXSIsICJnIiApLAoKCXJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksCglyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoICJeIiArIGlkZW50aWZpZXIgKyAiJCIgKSwKCgltYXRjaEV4cHIgPSB7CgkJIklEIjogbmV3IFJlZ0V4cCggIl4jKCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArICIpIiApLAoJCSJDTEFTUyI6IG5ldyBSZWdFeHAoICJeXFwuKCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArICIpIiApLAoJCSJUQUciOiBuZXcgUmVnRXhwKCAiXigiICsgY2hhcmFjdGVyRW5jb2RpbmcucmVwbGFjZSggInciLCAidyoiICkgKyAiKSIgKSwKCQkiQVRUUiI6IG5ldyBSZWdFeHAoICJeIiArIGF0dHJpYnV0ZXMgKSwKCQkiUFNFVURPIjogbmV3IFJlZ0V4cCggIl4iICsgcHNldWRvcyApLAoJCSJDSElMRCI6IG5ldyBSZWdFeHAoICJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiICsgd2hpdGVzcGFjZSArCgkJCSIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIiArIHdoaXRlc3BhY2UgKyAiKig/OihbKy1dfCkiICsgd2hpdGVzcGFjZSArCgkJCSIqKFxcZCspfCkpIiArIHdoaXRlc3BhY2UgKyAiKlxcKXwpIiwgImkiICksCgkJImJvb2wiOiBuZXcgUmVnRXhwKCAiXig/OiIgKyBib29sZWFucyArICIpJCIsICJpIiApLAoJCSJuZWVkc0NvbnRleHQiOiBuZXcgUmVnRXhwKCAiXiIgKyB3aGl0ZXNwYWNlICsgIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIgKwoJCQl3aGl0ZXNwYWNlICsgIiooKD86LVxcZCk/XFxkKikiICsgd2hpdGVzcGFjZSArICIqXFwpfCkoPz1bXi1dfCQpIiwgImkiICkKCX0sCgoJcmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksCglyaGVhZGVyID0gL15oXGQkL2ksCgoJcm5hdGl2ZSA9IC9eW157XStce1xzKlxbbmF0aXZlIFx3LywKCglycXVpY2tFeHByID0gL14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLywKCglyc2libGluZyA9IC9bK35dLywKCXJlc2NhcGUgPSAvJ3xcXC9nLAoKCXJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoICJcXFxcKFtcXGRhLWZdezEsNn0iICsgd2hpdGVzcGFjZSArICI/fCgiICsgd2hpdGVzcGFjZSArICIpfC4pIiwgImlnIiApLAoJZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkgewoJCXZhciBoaWdoID0gIjB4IiArIGVzY2FwZWQgLSAweDEwMDAwOwoJCXJldHVybiBoaWdoICE9PSBoaWdoIHx8IGVzY2FwZWRXaGl0ZXNwYWNlID8KCQkJZXNjYXBlZCA6CgkJCWhpZ2ggPCAwID8KCQkJCVN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOgoJCQkJU3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7Cgl9OwoKdHJ5IHsKCXB1c2guYXBwbHkoCgkJKGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLAoJCXByZWZlcnJlZERvYy5jaGlsZE5vZGVzCgkpOwoJYXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTsKfSBjYXRjaCAoIGUgKSB7CglwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/CgoJCWZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHsKCQkJcHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7CgkJfSA6CgoJCWZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHsKCQkJdmFyIGogPSB0YXJnZXQubGVuZ3RoLAoJCQkJaSA9IDA7CgkJCXdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge30KCQkJdGFyZ2V0Lmxlbmd0aCA9IGogLSAxOwoJCX0KCX07Cn0KCmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7Cgl2YXIgbWF0Y2gsIGVsZW0sIG0sIG5vZGVUeXBlLAoJCWksIGdyb3Vwcywgb2xkLCBuaWQsIG5ld0NvbnRleHQsIG5ld1NlbGVjdG9yOwoKCWlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7CgkJc2V0RG9jdW1lbnQoIGNvbnRleHQgKTsKCX0KCgljb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDsKCXJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwoKCWlmICggIXNlbGVjdG9yIHx8IHR5cGVvZiBzZWxlY3RvciAhPT0gInN0cmluZyIgKSB7CgkJcmV0dXJuIHJlc3VsdHM7Cgl9CgoJaWYgKCAobm9kZVR5cGUgPSBjb250ZXh0Lm5vZGVUeXBlKSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSApIHsKCQlyZXR1cm4gW107Cgl9CgoJaWYgKCBkb2N1bWVudElzSFRNTCAmJiAhc2VlZCApIHsKCgkJaWYgKCAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkgewoJCQlpZiAoIChtID0gbWF0Y2hbMV0pICkgewoJCQkJaWYgKCBub2RlVHlwZSA9PT0gOSApIHsKCQkJCQllbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApOwoJCQkJCWlmICggZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUgKSB7CgkJCQkJCWlmICggZWxlbS5pZCA9PT0gbSApIHsKCQkJCQkJCXJlc3VsdHMucHVzaCggZWxlbSApOwoJCQkJCQkJcmV0dXJuIHJlc3VsdHM7CgkJCQkJCX0KCQkJCQl9IGVsc2UgewoJCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCWlmICggY29udGV4dC5vd25lckRvY3VtZW50ICYmIChlbGVtID0gY29udGV4dC5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtICkpICYmCgkJCQkJCWNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiYgZWxlbS5pZCA9PT0gbSApIHsKCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7CgkJCQkJCXJldHVybiByZXN1bHRzOwoJCQkJCX0KCQkJCX0KCgkJCX0gZWxzZSBpZiAoIG1hdGNoWzJdICkgewoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApOwoJCQkJcmV0dXJuIHJlc3VsdHM7CgoJCQl9IGVsc2UgaWYgKCAobSA9IG1hdGNoWzNdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkgewoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTsKCQkJCXJldHVybiByZXN1bHRzOwoJCQl9CgkJfQoKCQlpZiAoIHN1cHBvcnQucXNhICYmICghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7CgkJCW5pZCA9IG9sZCA9IGV4cGFuZG87CgkJCW5ld0NvbnRleHQgPSBjb250ZXh0OwoJCQluZXdTZWxlY3RvciA9IG5vZGVUeXBlID09PSA5ICYmIHNlbGVjdG9yOwoKCQkJaWYgKCBub2RlVHlwZSA9PT0gMSAmJiBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICJvYmplY3QiICkgewoJCQkJZ3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7CgoJCQkJaWYgKCAob2xkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoImlkIikpICkgewoJCQkJCW5pZCA9IG9sZC5yZXBsYWNlKCByZXNjYXBlLCAiXFwkJiIgKTsKCQkJCX0gZWxzZSB7CgkJCQkJY29udGV4dC5zZXRBdHRyaWJ1dGUoICJpZCIsIG5pZCApOwoJCQkJfQoJCQkJbmlkID0gIltpZD0nIiArIG5pZCArICInXSAiOwoKCQkJCWkgPSBncm91cHMubGVuZ3RoOwoJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJZ3JvdXBzW2ldID0gbmlkICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7CgkJCQl9CgkJCQluZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dDsKCQkJCW5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIiwiKTsKCQkJfQoKCQkJaWYgKCBuZXdTZWxlY3RvciApIHsKCQkJCXRyeSB7CgkJCQkJcHVzaC5hcHBseSggcmVzdWx0cywKCQkJCQkJbmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApCgkJCQkJKTsKCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCX0gY2F0Y2gocXNhRXJyb3IpIHsKCQkJCX0gZmluYWxseSB7CgkJCQkJaWYgKCAhb2xkICkgewoJCQkJCQljb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSgiaWQiKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApOwp9CgovKioKICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplCiAqIEByZXR1cm5zIHtGdW5jdGlvbihzdHJpbmcsIE9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGgKICoJcHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aCkKICoJZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeQogKi8KZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7Cgl2YXIga2V5cyA9IFtdOwoKCWZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkgewoJCWlmICgga2V5cy5wdXNoKCBrZXkgKyAiICIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7CgkJCWRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07CgkJfQoJCXJldHVybiAoY2FjaGVbIGtleSArICIgIiBdID0gdmFsdWUpOwoJfQoJcmV0dXJuIGNhY2hlOwp9CgovKioKICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGUKICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmsKICovCmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7CglmblsgZXhwYW5kbyBdID0gdHJ1ZTsKCXJldHVybiBmbjsKfQoKLyoqCiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50CiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBkaXYgYW5kIGV4cGVjdHMgYSBib29sZWFuIHJlc3VsdAogKi8KZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHsKCXZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCgl0cnkgewoJCXJldHVybiAhIWZuKCBkaXYgKTsKCX0gY2F0Y2ggKGUpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9IGZpbmFsbHkgewoJCWlmICggZGl2LnBhcmVudE5vZGUgKSB7CgkJCWRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBkaXYgKTsKCQl9CgkJZGl2ID0gbnVsbDsKCX0KfQoKLyoqCiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnMKICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlcwogKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWQKICovCmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7Cgl2YXIgYXJyID0gYXR0cnMuc3BsaXQoInwiKSwKCQlpID0gYXR0cnMubGVuZ3RoOwoKCXdoaWxlICggaS0tICkgewoJCUV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyOwoJfQp9CgovKioKICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5ncwogKiBAcGFyYW0ge0VsZW1lbnR9IGEKICogQHBhcmFtIHtFbGVtZW50fSBiCiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYgogKi8KZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkgewoJdmFyIGN1ciA9IGIgJiYgYSwKCQlkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJgoJCQkoIH5iLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApIC0KCQkJKCB+YS5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKTsKCglpZiAoIGRpZmYgKSB7CgkJcmV0dXJuIGRpZmY7Cgl9CgoJaWYgKCBjdXIgKSB7CgkJd2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHsKCQkJaWYgKCBjdXIgPT09IGIgKSB7CgkJCQlyZXR1cm4gLTE7CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIGEgPyAxIDogLTE7Cn0KCi8qKgogKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzCiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAqLwpmdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHsKCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQlyZXR1cm4gbmFtZSA9PT0gImlucHV0IiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7Cgl9Owp9CgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zCiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAqLwpmdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7CglyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJdmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgkJcmV0dXJuIChuYW1lID09PSAiaW5wdXQiIHx8IG5hbWUgPT09ICJidXR0b24iKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7Cgl9Owp9CgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFscwogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbgogKi8KZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7CglyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHsKCQlhcmd1bWVudCA9ICthcmd1bWVudDsKCQlyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkgewoJCQl2YXIgaiwKCQkJCW1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksCgkJCQlpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDsKCgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCBzZWVkWyAoaiA9IG1hdGNoSW5kZXhlc1tpXSkgXSApIHsKCQkJCQlzZWVkW2pdID0gIShtYXRjaGVzW2pdID0gc2VlZFtqXSk7CgkJCQl9CgkJCX0KCQl9KTsKCX0pOwp9CgovKioKICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBTaXp6bGUgY29udGV4dAogKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dAogKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWUKICovCmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkgewoJcmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IHN0cnVuZGVmaW5lZCAmJiBjb250ZXh0Owp9CgpzdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTsKCi8qKgogKiBEZXRlY3RzIFhNTCBub2RlcwogKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtIEFuIGVsZW1lbnQgb3IgYSBkb2N1bWVudAogKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlCiAqLwppc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0aW9uKCBlbGVtICkgewoJdmFyIGRvY3VtZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7CglyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSAiSFRNTCIgOiBmYWxzZTsKfTsKCi8qKgogKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnQKICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnQKICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudAogKi8Kc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHsKCXZhciBoYXNDb21wYXJlLAoJCWRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYywKCQlwYXJlbnQgPSBkb2MuZGVmYXVsdFZpZXc7CgoJaWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHsKCQlyZXR1cm4gZG9jdW1lbnQ7Cgl9CgoJZG9jdW1lbnQgPSBkb2M7Cglkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDsKCglkb2N1bWVudElzSFRNTCA9ICFpc1hNTCggZG9jICk7CgoJaWYgKCBwYXJlbnQgJiYgcGFyZW50ICE9PSBwYXJlbnQudG9wICkgewoJCWlmICggcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIgKSB7CgkJCXBhcmVudC5hZGRFdmVudExpc3RlbmVyKCAidW5sb2FkIiwgZnVuY3Rpb24oKSB7CgkJCQlzZXREb2N1bWVudCgpOwoJCQl9LCBmYWxzZSApOwoJCX0gZWxzZSBpZiAoIHBhcmVudC5hdHRhY2hFdmVudCApIHsKCQkJcGFyZW50LmF0dGFjaEV2ZW50KCAib251bmxvYWQiLCBmdW5jdGlvbigpIHsKCQkJCXNldERvY3VtZW50KCk7CgkJCX0pOwoJCX0KCX0KCgkvKiBBdHRyaWJ1dGVzCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCgoJc3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7CgkJZGl2LmNsYXNzTmFtZSA9ICJpIjsKCQlyZXR1cm4gIWRpdi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpOwoJfSk7CgoJLyogZ2V0RWxlbWVudChzKUJ5KgoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCXN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHsKCQlkaXYuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVDb21tZW50KCIiKSApOwoJCXJldHVybiAhZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoOwoJfSk7CgoJc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApICYmIGFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCWRpdi5pbm5lckhUTUwgPSAiPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj4iOwoKCQlkaXYuZmlyc3RDaGlsZC5jbGFzc05hbWUgPSAiaSI7CgkJcmV0dXJuIGRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RoID09PSAyOwoJfSk7CgoJc3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7CgkJZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaWQgPSBleHBhbmRvOwoJCXJldHVybiAhZG9jLmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2MuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7Cgl9KTsKCglpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHsKCQlFeHByLmZpbmRbIklEIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7CgkJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IHN0cnVuZGVmaW5lZCAmJiBkb2N1bWVudElzSFRNTCApIHsKCQkJCXZhciBtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTsKCQkJCXJldHVybiBtICYmIG0ucGFyZW50Tm9kZSA/IFttXSA6IFtdOwoJCQl9CgkJfTsKCQlFeHByLmZpbHRlclsiSUQiXSA9IGZ1bmN0aW9uKCBpZCApIHsKCQkJdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSgiaWQiKSA9PT0gYXR0cklkOwoJCQl9OwoJCX07Cgl9IGVsc2UgewoJCWRlbGV0ZSBFeHByLmZpbmRbIklEIl07CgoJCUV4cHIuZmlsdGVyWyJJRCJdID0gIGZ1bmN0aW9uKCBpZCApIHsKCQkJdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gc3RydW5kZWZpbmVkICYmIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTsKCQkJCXJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDsKCQkJfTsKCQl9OwoJfQoKCUV4cHIuZmluZFsiVEFHIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID8KCQlmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkgewoJCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBzdHJ1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7CgkJCX0KCQl9IDoKCQlmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkgewoJCQl2YXIgZWxlbSwKCQkJCXRtcCA9IFtdLAoJCQkJaSA9IDAsCgkJCQlyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7CgoJCQlpZiAoIHRhZyA9PT0gIioiICkgewoJCQkJd2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkgewoJCQkJCQl0bXAucHVzaCggZWxlbSApOwoJCQkJCX0KCQkJCX0KCgkJCQlyZXR1cm4gdG1wOwoJCQl9CgkJCXJldHVybiByZXN1bHRzOwoJCX07CgoJRXhwci5maW5kWyJDTEFTUyJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7CgkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBzdHJ1bmRlZmluZWQgJiYgZG9jdW1lbnRJc0hUTUwgKSB7CgkJCXJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApOwoJCX0KCX07CgoJLyogUVNBL21hdGNoZXNTZWxlY3RvcgoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCglyYnVnZ3lNYXRjaGVzID0gW107CgoJcmJ1Z2d5UVNBID0gW107CgoJaWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvYy5xdWVyeVNlbGVjdG9yQWxsICkpICkgewoJCWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCQlkaXYuaW5uZXJIVE1MID0gIjxzZWxlY3QgdD0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiI7CgoJCQlpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbdF49JyddIikubGVuZ3RoICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICJbKl4kXT0iICsgd2hpdGVzcGFjZSArICIqKD86Jyd8XCJcIikiICk7CgkJCX0KCgkJCWlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RoICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICJcXFsiICsgd2hpdGVzcGFjZSArICIqKD86dmFsdWV8IiArIGJvb2xlYW5zICsgIikiICk7CgkJCX0KCgkJCWlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aCApIHsKCQkJCXJidWdneVFTQS5wdXNoKCI6Y2hlY2tlZCIpOwoJCQl9CgkJfSk7CgoJCWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCQl2YXIgaW5wdXQgPSBkb2MuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKCQkJaW5wdXQuc2V0QXR0cmlidXRlKCAidHlwZSIsICJoaWRkZW4iICk7CgkJCWRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgIkQiICk7CgoJCQlpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCApIHsKCQkJCXJidWdneVFTQS5wdXNoKCAibmFtZSIgKyB3aGl0ZXNwYWNlICsgIipbKl4kfCF+XT89IiApOwoJCQl9CgoJCQlpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGggKSB7CgkJCQlyYnVnZ3lRU0EucHVzaCggIjplbmFibGVkIiwgIjpkaXNhYmxlZCIgKTsKCQkJfQoKCQkJZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTsKCQkJcmJ1Z2d5UVNBLnB1c2goIiwuKjoiKTsKCQl9KTsKCX0KCglpZiAoIChzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKG1hdGNoZXMgPSBkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fAoJCWRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8CgkJZG9jRWxlbS5vTWF0Y2hlc1NlbGVjdG9yIHx8CgkJZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7CgoJCWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCQlzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBkaXYsICJkaXYiICk7CgoJCQltYXRjaGVzLmNhbGwoIGRpdiwgIltzIT0nJ106eCIgKTsKCQkJcmJ1Z2d5TWF0Y2hlcy5wdXNoKCAiIT0iLCBwc2V1ZG9zICk7CgkJfSk7Cgl9CgoJcmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbigifCIpICk7CglyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKCJ8IikgKTsKCgkvKiBDb250YWlucwoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoJaGFzQ29tcGFyZSA9IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApOwoKCWNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/CgkJZnVuY3Rpb24oIGEsIGIgKSB7CgkJCXZhciBhZG93biA9IGEubm9kZVR5cGUgPT09IDkgPyBhLmRvY3VtZW50RWxlbWVudCA6IGEsCgkJCQlidXAgPSBiICYmIGIucGFyZW50Tm9kZTsKCQkJcmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoCgkJCQlhZG93bi5jb250YWlucyA/CgkJCQkJYWRvd24uY29udGFpbnMoIGJ1cCApIDoKCQkJCQlhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTYKCQkJKSk7CgkJfSA6CgkJZnVuY3Rpb24oIGEsIGIgKSB7CgkJCWlmICggYiApIHsKCQkJCXdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkgewoJCQkJCWlmICggYiA9PT0gYSApIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCXJldHVybiBmYWxzZTsKCQl9OwoKCS8qIFNvcnRpbmcKCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KCglzb3J0T3JkZXIgPSBoYXNDb21wYXJlID8KCWZ1bmN0aW9uKCBhLCBiICkgewoKCQlpZiAoIGEgPT09IGIgKSB7CgkJCWhhc0R1cGxpY2F0ZSA9IHRydWU7CgkJCXJldHVybiAwOwoJCX0KCgkJdmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOwoJCWlmICggY29tcGFyZSApIHsKCQkJcmV0dXJuIGNvbXBhcmU7CgkJfQoKCQljb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgPwoJCQlhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOgoKCQkJMTsKCgkJaWYgKCBjb21wYXJlICYgMSB8fAoJCQkoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7CgoJCQlpZiAoIGEgPT09IGRvYyB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkgewoJCQkJcmV0dXJuIC0xOwoJCQl9CgkJCWlmICggYiA9PT0gZG9jIHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7CgkJCQlyZXR1cm4gMTsKCQkJfQoKCQkJcmV0dXJuIHNvcnRJbnB1dCA/CgkJCQkoIGluZGV4T2YuY2FsbCggc29ydElucHV0LCBhICkgLSBpbmRleE9mLmNhbGwoIHNvcnRJbnB1dCwgYiApICkgOgoJCQkJMDsKCQl9CgoJCXJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTsKCX0gOgoJZnVuY3Rpb24oIGEsIGIgKSB7CgkJaWYgKCBhID09PSBiICkgewoJCQloYXNEdXBsaWNhdGUgPSB0cnVlOwoJCQlyZXR1cm4gMDsKCQl9CgoJCXZhciBjdXIsCgkJCWkgPSAwLAoJCQlhdXAgPSBhLnBhcmVudE5vZGUsCgkJCWJ1cCA9IGIucGFyZW50Tm9kZSwKCQkJYXAgPSBbIGEgXSwKCQkJYnAgPSBbIGIgXTsKCgkJaWYgKCAhYXVwIHx8ICFidXAgKSB7CgkJCXJldHVybiBhID09PSBkb2MgPyAtMSA6CgkJCQliID09PSBkb2MgPyAxIDoKCQkJCWF1cCA/IC0xIDoKCQkJCWJ1cCA/IDEgOgoJCQkJc29ydElucHV0ID8KCQkJCSggaW5kZXhPZi5jYWxsKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YuY2FsbCggc29ydElucHV0LCBiICkgKSA6CgkJCQkwOwoKCQl9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHsKCQkJcmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApOwoJCX0KCgkJY3VyID0gYTsKCQl3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7CgkJCWFwLnVuc2hpZnQoIGN1ciApOwoJCX0KCQljdXIgPSBiOwoJCXdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHsKCQkJYnAudW5zaGlmdCggY3VyICk7CgkJfQoKCQl3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHsKCQkJaSsrOwoJCX0KCgkJcmV0dXJuIGkgPwoJCQlzaWJsaW5nQ2hlY2soIGFwW2ldLCBicFtpXSApIDoKCgkJCWFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6CgkJCWJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDoKCQkJMDsKCX07CgoJcmV0dXJuIGRvYzsKfTsKClNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkgewoJcmV0dXJuIFNpenpsZSggZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMgKTsKfTsKClNpenpsZS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggZWxlbSwgZXhwciApIHsKCWlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHsKCQlzZXREb2N1bWVudCggZWxlbSApOwoJfQoKCWV4cHIgPSBleHByLnJlcGxhY2UoIHJhdHRyaWJ1dGVRdW90ZXMsICI9JyQxJ10iICk7CgoJaWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJgoJCSggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiYKCQkoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7CgoJCXRyeSB7CgkJCXZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTsKCgkJCWlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHwKCQkJCQllbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkgewoJCQkJcmV0dXJuIHJldDsKCQkJfQoJCX0gY2F0Y2goZSkge30KCX0KCglyZXR1cm4gU2l6emxlKCBleHByLCBkb2N1bWVudCwgbnVsbCwgW2VsZW1dICkubGVuZ3RoID4gMDsKfTsKClNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkgewoJaWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkgewoJCXNldERvY3VtZW50KCBjb250ZXh0ICk7Cgl9CglyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTsKfTsKClNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7CglpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7CgkJc2V0RG9jdW1lbnQoIGVsZW0gKTsKCX0KCgl2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLAoJCXZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID8KCQkJZm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDoKCQkJdW5kZWZpbmVkOwoKCXJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/CgkJdmFsIDoKCQlzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID8KCQkJZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6CgkJCSh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUobmFtZSkpICYmIHZhbC5zcGVjaWZpZWQgPwoJCQkJdmFsLnZhbHVlIDoKCQkJCW51bGw7Cn07CgpTaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkgewoJdGhyb3cgbmV3IEVycm9yKCAiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIiArIG1zZyApOwp9OwoKLyoqCiAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXMKICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHMKICovClNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24oIHJlc3VsdHMgKSB7Cgl2YXIgZWxlbSwKCQlkdXBsaWNhdGVzID0gW10sCgkJaiA9IDAsCgkJaSA9IDA7CgoJaGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlczsKCXNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApOwoJcmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTsKCglpZiAoIGhhc0R1cGxpY2F0ZSApIHsKCQl3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHsKCQkJaWYgKCBlbGVtID09PSByZXN1bHRzWyBpIF0gKSB7CgkJCQlqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7CgkJCX0KCQl9CgkJd2hpbGUgKCBqLS0gKSB7CgkJCXJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTsKCQl9Cgl9CgoJc29ydElucHV0ID0gbnVsbDsKCglyZXR1cm4gcmVzdWx0czsKfTsKCi8qKgogKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2RlcwogKiBAcGFyYW0ge0FycmF5fEVsZW1lbnR9IGVsZW0KICovCmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkgewoJdmFyIG5vZGUsCgkJcmV0ID0gIiIsCgkJaSA9IDAsCgkJbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlOwoKCWlmICggIW5vZGVUeXBlICkgewoJCXdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkgewoJCQlyZXQgKz0gZ2V0VGV4dCggbm9kZSApOwoJCX0KCX0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHsKCQlpZiAoIHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSAic3RyaW5nIiApIHsKCQkJcmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7CgkJfSBlbHNlIHsKCQkJZm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7CgkJCQlyZXQgKz0gZ2V0VGV4dCggZWxlbSApOwoJCQl9CgkJfQoJfSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7CgkJcmV0dXJuIGVsZW0ubm9kZVZhbHVlOwoJfQoKCXJldHVybiByZXQ7Cn07CgpFeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHsKCgljYWNoZUxlbmd0aDogNTAsCgoJY3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sCgoJbWF0Y2g6IG1hdGNoRXhwciwKCglhdHRySGFuZGxlOiB7fSwKCglmaW5kOiB7fSwKCglyZWxhdGl2ZTogewoJCSI+IjogeyBkaXI6ICJwYXJlbnROb2RlIiwgZmlyc3Q6IHRydWUgfSwKCQkiICI6IHsgZGlyOiAicGFyZW50Tm9kZSIgfSwKCQkiKyI6IHsgZGlyOiAicHJldmlvdXNTaWJsaW5nIiwgZmlyc3Q6IHRydWUgfSwKCQkifiI6IHsgZGlyOiAicHJldmlvdXNTaWJsaW5nIiB9Cgl9LAoKCXByZUZpbHRlcjogewoJCSJBVFRSIjogZnVuY3Rpb24oIG1hdGNoICkgewoJCQltYXRjaFsxXSA9IG1hdGNoWzFdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgoJCQltYXRjaFszXSA9ICggbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgIiIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOwoKCQkJaWYgKCBtYXRjaFsyXSA9PT0gIn49IiApIHsKCQkJCW1hdGNoWzNdID0gIiAiICsgbWF0Y2hbM10gKyAiICI7CgkJCX0KCgkJCXJldHVybiBtYXRjaC5zbGljZSggMCwgNCApOwoJCX0sCgoJCSJDSElMRCI6IGZ1bmN0aW9uKCBtYXRjaCApIHsKCQkJLyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwclsiQ0hJTEQiXQoJCQkJMSB0eXBlIChvbmx5fG50aHwuLi4pCgkJCQkyIHdoYXQgKGNoaWxkfG9mLXR5cGUpCgkJCQkzIGFyZ3VtZW50IChldmVufG9kZHxcZCp8XGQqbihbKy1dXGQrKT98Li4uKQoJCQkJNCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cZCpufCkKCQkJCTUgc2lnbiBvZiB4bi1jb21wb25lbnQKCQkJCTYgeCBvZiB4bi1jb21wb25lbnQKCQkJCTcgc2lnbiBvZiB5LWNvbXBvbmVudAoJCQkJOCB5IG9mIHktY29tcG9uZW50CgkJCSovCgkJCW1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTsKCgkJCWlmICggbWF0Y2hbMV0uc2xpY2UoIDAsIDMgKSA9PT0gIm50aCIgKSB7CgkJCQlpZiAoICFtYXRjaFszXSApIHsKCQkJCQlTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7CgkJCQl9CgoJCQkJbWF0Y2hbNF0gPSArKCBtYXRjaFs0XSA/IG1hdGNoWzVdICsgKG1hdGNoWzZdIHx8IDEpIDogMiAqICggbWF0Y2hbM10gPT09ICJldmVuIiB8fCBtYXRjaFszXSA9PT0gIm9kZCIgKSApOwoJCQkJbWF0Y2hbNV0gPSArKCAoIG1hdGNoWzddICsgbWF0Y2hbOF0gKSB8fCBtYXRjaFszXSA9PT0gIm9kZCIgKTsKCgkJCX0gZWxzZSBpZiAoIG1hdGNoWzNdICkgewoJCQkJU2l6emxlLmVycm9yKCBtYXRjaFswXSApOwoJCQl9CgoJCQlyZXR1cm4gbWF0Y2g7CgkJfSwKCgkJIlBTRVVETyI6IGZ1bmN0aW9uKCBtYXRjaCApIHsKCQkJdmFyIGV4Y2VzcywKCQkJCXVucXVvdGVkID0gIW1hdGNoWzVdICYmIG1hdGNoWzJdOwoKCQkJaWYgKCBtYXRjaEV4cHJbIkNISUxEIl0udGVzdCggbWF0Y2hbMF0gKSApIHsKCQkJCXJldHVybiBudWxsOwoJCQl9CgoJCQlpZiAoIG1hdGNoWzNdICYmIG1hdGNoWzRdICE9PSB1bmRlZmluZWQgKSB7CgkJCQltYXRjaFsyXSA9IG1hdGNoWzRdOwoKCQkJfSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmCgkJCQkoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmCgkJCQkoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggIikiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MgKSAtIHVucXVvdGVkLmxlbmd0aCkgKSB7CgoJCQkJbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCwgZXhjZXNzICk7CgkJCQltYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTsKCQkJfQoKCQkJcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7CgkJfQoJfSwKCglmaWx0ZXI6IHsKCgkJIlRBRyI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkgewoJCQl2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTsKCQkJcmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09ICIqIiA/CgkJCQlmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOgoJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTsKCQkJCX07CgkJfSwKCgkJIkNMQVNTIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHsKCQkJdmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyAiICIgXTsKCgkJCXJldHVybiBwYXR0ZXJuIHx8CgkJCQkocGF0dGVybiA9IG5ldyBSZWdFeHAoICIoXnwiICsgd2hpdGVzcGFjZSArICIpIiArIGNsYXNzTmFtZSArICIoIiArIHdoaXRlc3BhY2UgKyAifCQpIiApKSAmJgoJCQkJY2xhc3NDYWNoZSggY2xhc3NOYW1lLCBmdW5jdGlvbiggZWxlbSApIHsKCQkJCQlyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09ICJzdHJpbmciICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gc3RydW5kZWZpbmVkICYmIGVsZW0uZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiICk7CgkJCQl9KTsKCQl9LAoKCQkiQVRUUiI6IGZ1bmN0aW9uKCBuYW1lLCBvcGVyYXRvciwgY2hlY2sgKSB7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApOwoKCQkJCWlmICggcmVzdWx0ID09IG51bGwgKSB7CgkJCQkJcmV0dXJuIG9wZXJhdG9yID09PSAiIT0iOwoJCQkJfQoJCQkJaWYgKCAhb3BlcmF0b3IgKSB7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgoJCQkJcmVzdWx0ICs9ICIiOwoKCQkJCXJldHVybiBvcGVyYXRvciA9PT0gIj0iID8gcmVzdWx0ID09PSBjaGVjayA6CgkJCQkJb3BlcmF0b3IgPT09ICIhPSIgPyByZXN1bHQgIT09IGNoZWNrIDoKCQkJCQlvcGVyYXRvciA9PT0gIl49IiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDoKCQkJCQlvcGVyYXRvciA9PT0gIio9IiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID4gLTEgOgoJCQkJCW9wZXJhdG9yID09PSAiJD0iID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDoKCQkJCQlvcGVyYXRvciA9PT0gIn49IiA/ICggIiAiICsgcmVzdWx0ICsgIiAiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDoKCQkJCQlvcGVyYXRvciA9PT0gInw9IiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgIi0iIDoKCQkJCQlmYWxzZTsKCQkJfTsKCQl9LAoKCQkiQ0hJTEQiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkgewoJCQl2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSAibnRoIiwKCQkJCWZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSAibGFzdCIsCgkJCQlvZlR5cGUgPSB3aGF0ID09PSAib2YtdHlwZSI7CgoJCQlyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/CgoJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlOwoJCQkJfSA6CgoJCQkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCQkJCQl2YXIgY2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIGRpZmYsIG5vZGVJbmRleCwgc3RhcnQsCgkJCQkJCWRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/ICJuZXh0U2libGluZyIgOiAicHJldmlvdXNTaWJsaW5nIiwKCQkJCQkJcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLAoJCQkJCQluYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKCQkJCQkJdXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGU7CgoJCQkJCWlmICggcGFyZW50ICkgewoKCQkJCQkJaWYgKCBzaW1wbGUgKSB7CgkJCQkJCQl3aGlsZSAoIGRpciApIHsKCQkJCQkJCQlub2RlID0gZWxlbTsKCQkJCQkJCQl3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkgewoJCQkJCQkJCQlpZiAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSB7CgkJCQkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJc3RhcnQgPSBkaXIgPSB0eXBlID09PSAib25seSIgJiYgIXN0YXJ0ICYmICJuZXh0U2libGluZyI7CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJfQoKCQkJCQkJc3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTsKCgkJCQkJCWlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHsKCQkJCQkJCW91dGVyQ2FjaGUgPSBwYXJlbnRbIGV4cGFuZG8gXSB8fCAocGFyZW50WyBleHBhbmRvIF0gPSB7fSk7CgkJCQkJCQljYWNoZSA9IG91dGVyQ2FjaGVbIHR5cGUgXSB8fCBbXTsKCQkJCQkJCW5vZGVJbmRleCA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdOwoJCQkJCQkJZGlmZiA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzJdOwoJCQkJCQkJbm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07CgoJCQkJCQkJd2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHwKCgkJCQkJCQkJKGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7CgoJCQkJCQkJCWlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHsKCQkJCQkJCQkJb3V0ZXJDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfQoJCQkJCQkJfQoKCQkJCQkJfSBlbHNlIGlmICggdXNlQ2FjaGUgJiYgKGNhY2hlID0gKGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pKVsgdHlwZSBdKSAmJiBjYWNoZVswXSA9PT0gZGlycnVucyApIHsKCQkJCQkJCWRpZmYgPSBjYWNoZVsxXTsKCgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fAoJCQkJCQkJCShkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkgewoKCQkJCQkJCQlpZiAoICggb2ZUeXBlID8gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDogbm9kZS5ub2RlVHlwZSA9PT0gMSApICYmICsrZGlmZiApIHsKCQkJCQkJCQkJaWYgKCB1c2VDYWNoZSApIHsKCQkJCQkJCQkJCShub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KSlbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdOwoJCQkJCQkJCQl9CgoJCQkJCQkJCQlpZiAoIG5vZGUgPT09IGVsZW0gKSB7CgkJCQkJCQkJCQlicmVhazsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfQoKCQkJCQkJZGlmZiAtPSBsYXN0OwoJCQkJCQlyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTsKCQkJCQl9CgkJCQl9OwoJCX0sCgoJCSJQU0VVRE8iOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHsKCQkJdmFyIGFyZ3MsCgkJCQlmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8CgkJCQkJU2l6emxlLmVycm9yKCAidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgcHNldWRvICk7CgoJCQlpZiAoIGZuWyBleHBhbmRvIF0gKSB7CgkJCQlyZXR1cm4gZm4oIGFyZ3VtZW50ICk7CgkJCX0KCgkJCWlmICggZm4ubGVuZ3RoID4gMSApIHsKCQkJCWFyZ3MgPSBbIHBzZXVkbywgcHNldWRvLCAiIiwgYXJndW1lbnQgXTsKCQkJCXJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgPwoJCQkJCW1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHsKCQkJCQkJdmFyIGlkeCwKCQkJCQkJCW1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSwKCQkJCQkJCWkgPSBtYXRjaGVkLmxlbmd0aDsKCQkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCQlpZHggPSBpbmRleE9mLmNhbGwoIHNlZWQsIG1hdGNoZWRbaV0gKTsKCQkJCQkJCXNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7CgkJCQkJCX0KCQkJCQl9KSA6CgkJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJCXJldHVybiBmbiggZWxlbSwgMCwgYXJncyApOwoJCQkJCX07CgkJCX0KCgkJCXJldHVybiBmbjsKCQl9Cgl9LAoKCXBzZXVkb3M6IHsKCQkibm90IjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQkJdmFyIGlucHV0ID0gW10sCgkJCQlyZXN1bHRzID0gW10sCgkJCQltYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSApOwoKCQkJcmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/CgkJCQltYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIGNvbnRleHQsIHhtbCApIHsKCQkJCQl2YXIgZWxlbSwKCQkJCQkJdW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLAoJCQkJCQlpID0gc2VlZC5sZW5ndGg7CgoJCQkJCXdoaWxlICggaS0tICkgewoJCQkJCQlpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHsKCQkJCQkJCXNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pIDoKCQkJCWZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7CgkJCQkJaW5wdXRbMF0gPSBlbGVtOwoJCQkJCW1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTsKCQkJCQlyZXR1cm4gIXJlc3VsdHMucG9wKCk7CgkJCQl9OwoJCX0pLAoKCQkiaGFzIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoJCQkJcmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwOwoJCQl9OwoJCX0pLAoKCQkiY29udGFpbnMiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHRleHQgKSB7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7CgkJCX07CgkJfSksCgoJCSJsYW5nIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHsKCQkJaWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8ICIiKSApIHsKCQkJCVNpenpsZS5lcnJvciggInVuc3VwcG9ydGVkIGxhbmc6ICIgKyBsYW5nICk7CgkJCX0KCQkJbGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpOwoJCQlyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQl2YXIgZWxlbUxhbmc7CgkJCQlkbyB7CgkJCQkJaWYgKCAoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/CgkJCQkJCWVsZW0ubGFuZyA6CgkJCQkJCWVsZW0uZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCJsYW5nIikpICkgewoKCQkJCQkJZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpOwoJCQkJCQlyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArICItIiApID09PSAwOwoJCQkJCX0KCQkJCX0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9OwoJCX0pLAoKCQkidGFyZ2V0IjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoOwoJCQlyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7CgkJfSwKCgkJInJvb3QiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0gPT09IGRvY0VsZW07CgkJfSwKCgkJImZvY3VzIjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7CgkJfSwKCgkJImVuYWJsZWQiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlOwoJCX0sCgoJCSJkaXNhYmxlZCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTsKCQl9LAoKCQkiY2hlY2tlZCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgkJCXJldHVybiAobm9kZU5hbWUgPT09ICJpbnB1dCIgJiYgISFlbGVtLmNoZWNrZWQpIHx8IChub2RlTmFtZSA9PT0gIm9wdGlvbiIgJiYgISFlbGVtLnNlbGVjdGVkKTsKCQl9LAoKCQkic2VsZWN0ZWQiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJaWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7CgkJCQllbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDsKCQkJfQoKCQkJcmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7CgkJfSwKCgkJImVtcHR5IjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCWZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkgewoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfSwKCgkJInBhcmVudCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gIUV4cHIucHNldWRvc1siZW1wdHkiXSggZWxlbSApOwoJCX0sCgoJCSJoZWFkZXIiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApOwoJCX0sCgoJCSJpbnB1dCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7CgkJfSwKCgkJImJ1dHRvbiI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQkJcmV0dXJuIG5hbWUgPT09ICJpbnB1dCIgJiYgZWxlbS50eXBlID09PSAiYnV0dG9uIiB8fCBuYW1lID09PSAiYnV0dG9uIjsKCQl9LAoKCQkidGV4dCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgYXR0cjsKCQkJcmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gImlucHV0IiAmJgoJCQkJZWxlbS50eXBlID09PSAidGV4dCIgJiYKCgkJCQkoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09ICJ0ZXh0IiApOwoJCX0sCgoJCSJmaXJzdCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7CgkJCXJldHVybiBbIDAgXTsKCQl9KSwKCgkJImxhc3QiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHsKCQkJcmV0dXJuIFsgbGVuZ3RoIC0gMSBdOwoJCX0pLAoKCQkiZXEiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7CgkJCXJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTsKCQl9KSwKCgkJImV2ZW4iOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHsKCQkJdmFyIGkgPSAwOwoJCQlmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHsKCQkJCW1hdGNoSW5kZXhlcy5wdXNoKCBpICk7CgkJCX0KCQkJcmV0dXJuIG1hdGNoSW5kZXhlczsKCQl9KSwKCgkJIm9kZCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkgewoJCQl2YXIgaSA9IDE7CgkJCWZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkgewoJCQkJbWF0Y2hJbmRleGVzLnB1c2goIGkgKTsKCQkJfQoJCQlyZXR1cm4gbWF0Y2hJbmRleGVzOwoJCX0pLAoKCQkibHQiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7CgkJCXZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDsKCQkJZm9yICggOyAtLWkgPj0gMDsgKSB7CgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOwoJCQl9CgkJCXJldHVybiBtYXRjaEluZGV4ZXM7CgkJfSksCgoJCSJndCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsKCQkJdmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50OwoJCQlmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7CgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOwoJCQl9CgkJCXJldHVybiBtYXRjaEluZGV4ZXM7CgkJfSkKCX0KfTsKCkV4cHIucHNldWRvc1sibnRoIl0gPSBFeHByLnBzZXVkb3NbImVxIl07Cgpmb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHsKCUV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTsKfQpmb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkgewoJRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTsKfQoKZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9CnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zOwpFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpOwoKZnVuY3Rpb24gdG9rZW5pemUoIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7Cgl2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSwKCQlzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLAoJCWNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgIiAiIF07CgoJaWYgKCBjYWNoZWQgKSB7CgkJcmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTsKCX0KCglzb0ZhciA9IHNlbGVjdG9yOwoJZ3JvdXBzID0gW107CglwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7CgoJd2hpbGUgKCBzb0ZhciApIHsKCgkJaWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7CgkJCWlmICggbWF0Y2ggKSB7CgkJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0ZhcjsKCQkJfQoJCQlncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApOwoJCX0KCgkJbWF0Y2hlZCA9IGZhbHNlOwoKCQlpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHsKCQkJbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7CgkJCXRva2Vucy5wdXNoKHsKCQkJCXZhbHVlOiBtYXRjaGVkLAoJCQkJdHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sICIgIiApCgkJCX0pOwoJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApOwoJCX0KCgkJZm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHsKCQkJaWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fAoJCQkJKG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7CgkJCQltYXRjaGVkID0gbWF0Y2guc2hpZnQoKTsKCQkJCXRva2Vucy5wdXNoKHsKCQkJCQl2YWx1ZTogbWF0Y2hlZCwKCQkJCQl0eXBlOiB0eXBlLAoJCQkJCW1hdGNoZXM6IG1hdGNoCgkJCQl9KTsKCQkJCXNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7CgkJCX0KCQl9CgoJCWlmICggIW1hdGNoZWQgKSB7CgkJCWJyZWFrOwoJCX0KCX0KCglyZXR1cm4gcGFyc2VPbmx5ID8KCQlzb0Zhci5sZW5ndGggOgoJCXNvRmFyID8KCQkJU2l6emxlLmVycm9yKCBzZWxlY3RvciApIDoKCQkJdG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7Cn0KCmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHsKCXZhciBpID0gMCwKCQlsZW4gPSB0b2tlbnMubGVuZ3RoLAoJCXNlbGVjdG9yID0gIiI7Cglmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsKCQlzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7Cgl9CglyZXR1cm4gc2VsZWN0b3I7Cn0KCmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7Cgl2YXIgZGlyID0gY29tYmluYXRvci5kaXIsCgkJY2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYgZGlyID09PSAicGFyZW50Tm9kZSIsCgkJZG9uZU5hbWUgPSBkb25lKys7CgoJcmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgPwoJCWZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7CgkJCXdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7CgkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHsKCQkJCQlyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7CgkJCQl9CgkJCX0KCQl9IDoKCgkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCQkJdmFyIG9sZENhY2hlLCBvdXRlckNhY2hlLAoJCQkJbmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07CgoJCQlpZiAoIHhtbCApIHsKCQkJCXdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7CgkJCQkJCWlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7CgkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfSBlbHNlIHsKCQkJCXdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7CgkJCQkJCW91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTsKCQkJCQkJaWYgKCAob2xkQ2FjaGUgPSBvdXRlckNhY2hlWyBkaXIgXSkgJiYKCQkJCQkJCW9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7CgoJCQkJCQkJcmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlvdXRlckNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlOwoKCQkJCQkJCWlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7CgkJCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQl9Owp9CgpmdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7CglyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/CgkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCQkJdmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7CgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gdHJ1ZTsKCQl9IDoKCQltYXRjaGVyc1swXTsKfQoKZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkgewoJdmFyIGkgPSAwLAoJCWxlbiA9IGNvbnRleHRzLmxlbmd0aDsKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCVNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7Cgl9CglyZXR1cm4gcmVzdWx0czsKfQoKZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHsKCXZhciBlbGVtLAoJCW5ld1VubWF0Y2hlZCA9IFtdLAoJCWkgPSAwLAoJCWxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsCgkJbWFwcGVkID0gbWFwICE9IG51bGw7CgoJZm9yICggOyBpIDwgbGVuOyBpKysgKSB7CgkJaWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7CgkJCWlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgewoJCQkJbmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTsKCQkJCWlmICggbWFwcGVkICkgewoJCQkJCW1hcC5wdXNoKCBpICk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIG5ld1VubWF0Y2hlZDsKfQoKZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkgewoJaWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7CgkJcG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTsKCX0KCWlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkgewoJCXBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTsKCX0KCXJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHsKCQl2YXIgdGVtcCwgaSwgZWxlbSwKCQkJcHJlTWFwID0gW10sCgkJCXBvc3RNYXAgPSBbXSwKCQkJcHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCwKCgkJCWVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCAiKiIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksCgoJCQltYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID8KCQkJCWNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDoKCQkJCWVsZW1zLAoKCQkJbWF0Y2hlck91dCA9IG1hdGNoZXIgPwoJCQkJcG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgPwoKCQkJCQlbXSA6CgoJCQkJCXJlc3VsdHMgOgoJCQkJbWF0Y2hlckluOwoKCQlpZiAoIG1hdGNoZXIgKSB7CgkJCW1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7CgkJfQoKCQlpZiAoIHBvc3RGaWx0ZXIgKSB7CgkJCXRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApOwoJCQlwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7CgoJCQlpID0gdGVtcC5sZW5ndGg7CgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCAoZWxlbSA9IHRlbXBbaV0pICkgewoJCQkJCW1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTsKCQkJCX0KCQkJfQoJCX0KCgkJaWYgKCBzZWVkICkgewoJCQlpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkgewoJCQkJaWYgKCBwb3N0RmluZGVyICkgewoJCQkJCXRlbXAgPSBbXTsKCQkJCQlpID0gbWF0Y2hlck91dC5sZW5ndGg7CgkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCWlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHsKCQkJCQkJCXRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJcG9zdEZpbmRlciggbnVsbCwgKG1hdGNoZXJPdXQgPSBbXSksIHRlbXAsIHhtbCApOwoJCQkJfQoKCQkJCWkgPSBtYXRjaGVyT3V0Lmxlbmd0aDsKCQkJCXdoaWxlICggaS0tICkgewoJCQkJCWlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJgoJCQkJCQkodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mLmNhbGwoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHsKCgkJCQkJCXNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJfSBlbHNlIHsKCQkJbWF0Y2hlck91dCA9IGNvbmRlbnNlKAoJCQkJbWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/CgkJCQkJbWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDoKCQkJCQltYXRjaGVyT3V0CgkJCSk7CgkJCWlmICggcG9zdEZpbmRlciApIHsKCQkJCXBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApOwoJCQl9IGVsc2UgewoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7Cgl2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLAoJCWxlbiA9IHRva2Vucy5sZW5ndGgsCgkJbGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzBdLnR5cGUgXSwKCQlpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbIiAiXSwKCQlpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsCgoJCW1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0OwoJCX0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSwKCQltYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGluZGV4T2YuY2FsbCggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTsKCQl9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksCgkJbWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7CgkJCXJldHVybiAoICFsZWFkaW5nUmVsYXRpdmUgJiYgKCB4bWwgfHwgY29udGV4dCAhPT0gb3V0ZXJtb3N0Q29udGV4dCApICkgfHwgKAoJCQkJKGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID8KCQkJCQltYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDoKCQkJCQltYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7CgkJfSBdOwoKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCWlmICggKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbaV0udHlwZSBdKSApIHsKCQkJbWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07CgkJfSBlbHNlIHsKCQkJbWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApOwoKCQkJaWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7CgkJCQlqID0gKytpOwoJCQkJZm9yICggOyBqIDwgbGVuOyBqKysgKSB7CgkJCQkJaWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkgewoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gc2V0TWF0Y2hlcigKCQkJCQlpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwKCQkJCQlpID4gMSAmJiB0b1NlbGVjdG9yKAoJCQkJCQl0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSAiICIgPyAiKiIgOiAiIiB9KQoJCQkJCSkucmVwbGFjZSggcnRyaW0sICIkMSIgKSwKCQkJCQltYXRjaGVyLAoJCQkJCWkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLAoJCQkJCWogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSwKCQkJCQlqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApCgkJCQkpOwoJCQl9CgkJCW1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTsKCQl9Cgl9CgoJcmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApOwp9CgpmdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7Cgl2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLAoJCWJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLAoJCXN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHsKCQkJdmFyIGVsZW0sIGosIG1hdGNoZXIsCgkJCQltYXRjaGVkQ291bnQgPSAwLAoJCQkJaSA9ICIwIiwKCQkJCXVubWF0Y2hlZCA9IHNlZWQgJiYgW10sCgkJCQlzZXRNYXRjaGVkID0gW10sCgkJCQljb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCwKCQkJCWVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kWyJUQUciXSggIioiLCBvdXRlcm1vc3QgKSwKCQkJCWRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLAoJCQkJbGVuID0gZWxlbXMubGVuZ3RoOwoKCQkJaWYgKCBvdXRlcm1vc3QgKSB7CgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCAhPT0gZG9jdW1lbnQgJiYgY29udGV4dDsKCQkJfQoKCQkJZm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkgewoJCQkJaWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHsKCQkJCQlqID0gMDsKCQkJCQl3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkgewoJCQkJCQlpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgewoJCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCQlpZiAoIG91dGVybW9zdCApIHsKCQkJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQkJfQoJCQkJfQoKCQkJCWlmICggYnlTZXQgKSB7CgkJCQkJaWYgKCAoZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0pICkgewoJCQkJCQltYXRjaGVkQ291bnQtLTsKCQkJCQl9CgoJCQkJCWlmICggc2VlZCApIHsKCQkJCQkJdW5tYXRjaGVkLnB1c2goIGVsZW0gKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCW1hdGNoZWRDb3VudCArPSBpOwoJCQlpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHsKCQkJCWogPSAwOwoJCQkJd2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkgewoJCQkJCW1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7CgkJCQl9CgoJCQkJaWYgKCBzZWVkICkgewoJCQkJCWlmICggbWF0Y2hlZENvdW50ID4gMCApIHsKCQkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCQlpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkgewoJCQkJCQkJCXNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoKCQkJCQlzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTsKCQkJCX0KCgkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7CgoJCQkJaWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmCgkJCQkJKCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7CgoJCQkJCVNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7CgkJCQl9CgkJCX0KCgkJCWlmICggb3V0ZXJtb3N0ICkgewoJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDsKCQkJfQoKCQkJcmV0dXJuIHVubWF0Y2hlZDsKCQl9OwoKCXJldHVybiBieVNldCA/CgkJbWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6CgkJc3VwZXJNYXRjaGVyOwp9Cgpjb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkgewoJdmFyIGksCgkJc2V0TWF0Y2hlcnMgPSBbXSwKCQllbGVtZW50TWF0Y2hlcnMgPSBbXSwKCQljYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArICIgIiBdOwoKCWlmICggIWNhY2hlZCApIHsKCQlpZiAoICFtYXRjaCApIHsKCQkJbWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTsKCQl9CgkJaSA9IG1hdGNoLmxlbmd0aDsKCQl3aGlsZSAoIGktLSApIHsKCQkJY2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoW2ldICk7CgkJCWlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7CgkJCQlzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTsKCQkJfSBlbHNlIHsKCQkJCWVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTsKCQkJfQoJCX0KCgkJY2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7CgoJCWNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yOwoJfQoJcmV0dXJuIGNhY2hlZDsKfTsKCi8qKgogKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkCiAqICBzZWxlY3RvciBmdW5jdGlvbnMKICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWQKICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGUKICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0CiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXQogKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdAogKi8Kc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHsKCXZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLAoJCWNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSAiZnVuY3Rpb24iICYmIHNlbGVjdG9yLAoJCW1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApOwoKCXJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwoKCWlmICggbWF0Y2gubGVuZ3RoID09PSAxICkgewoKCQl0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7CgkJaWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09ICJJRCIgJiYKCQkJCXN1cHBvcnQuZ2V0QnlJZCAmJiBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmCgkJCQlFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkgewoKCQkJY29udGV4dCA9ICggRXhwci5maW5kWyJJRCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTsKCQkJaWYgKCAhY29udGV4dCApIHsKCQkJCXJldHVybiByZXN1bHRzOwoKCQkJfSBlbHNlIGlmICggY29tcGlsZWQgKSB7CgkJCQljb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlOwoJCQl9CgoJCQlzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTsKCQl9CgoJCWkgPSBtYXRjaEV4cHJbIm5lZWRzQ29udGV4dCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDsKCQl3aGlsZSAoIGktLSApIHsKCQkJdG9rZW4gPSB0b2tlbnNbaV07CgoJCQlpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHsKCQkJCWJyZWFrOwoJCQl9CgkJCWlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7CgkJCQlpZiAoIChzZWVkID0gZmluZCgKCQkJCQl0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksCgkJCQkJcnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dAoJCQkJKSkgKSB7CgoJCQkJCXRva2Vucy5zcGxpY2UoIGksIDEgKTsKCQkJCQlzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApOwoJCQkJCWlmICggIXNlbGVjdG9yICkgewoJCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7CgkJCQkJCXJldHVybiByZXN1bHRzOwoJCQkJCX0KCgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJKCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKAoJCXNlZWQsCgkJY29udGV4dCwKCQkhZG9jdW1lbnRJc0hUTUwsCgkJcmVzdWx0cywKCQlyc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0CgkpOwoJcmV0dXJuIHJlc3VsdHM7Cn07CgoKc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdCgiIikuc29ydCggc29ydE9yZGVyICkuam9pbigiIikgPT09IGV4cGFuZG87CgpzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTsKCnNldERvY3VtZW50KCk7CgpzdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZGl2MSApIHsKCXJldHVybiBkaXYxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSApICYgMTsKfSk7CgppZiAoICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHsKCWRpdi5pbm5lckhUTUwgPSAiPGEgaHJlZj0nIyc+PC9hPiI7CglyZXR1cm4gZGl2LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikgPT09ICIjIiA7Cn0pICkgewoJYWRkSGFuZGxlKCAidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsKCQlpZiAoICFpc1hNTCApIHsKCQkJcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJ0eXBlIiA/IDEgOiAyICk7CgkJfQoJfSk7Cn0KCmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7CglkaXYuaW5uZXJIVE1MID0gIjxpbnB1dC8+IjsKCWRpdi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggInZhbHVlIiwgIiIgKTsKCXJldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoICJ2YWx1ZSIgKSA9PT0gIiI7Cn0pICkgewoJYWRkSGFuZGxlKCAidmFsdWUiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7CgkJaWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAiaW5wdXQiICkgewoJCQlyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7CgkJfQoJfSk7Cn0KCmlmICggIWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJcmV0dXJuIGRpdi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikgPT0gbnVsbDsKfSkgKSB7CglhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7CgkJdmFyIHZhbDsKCQlpZiAoICFpc1hNTCApIHsKCQkJcmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6CgkJCQkJKHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID8KCQkJCQl2YWwudmFsdWUgOgoJCQkJbnVsbDsKCQl9Cgl9KTsKfQoKaWYgKCB0eXBlb2YgZGVmaW5lID09PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQgKSB7CglkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBTaXp6bGU7IH0pOwp9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlICE9PSAidW5kZWZpbmVkIiAmJiBtb2R1bGUuZXhwb3J0cyApIHsKCW1vZHVsZS5leHBvcnRzID0gU2l6emxlOwp9IGVsc2UgewoJd2luZG93LlNpenpsZSA9IFNpenpsZTsKfQoKfSkoIHdpbmRvdyApOwoKOyhmdW5jdGlvbihlbmdpbmUpIHsKICB2YXIgZXh0ZW5kRWxlbWVudHMgPSBQcm90b3R5cGUuU2VsZWN0b3IuZXh0ZW5kRWxlbWVudHM7CgogIGZ1bmN0aW9uIHNlbGVjdChzZWxlY3Rvciwgc2NvcGUpIHsKICAgIHJldHVybiBleHRlbmRFbGVtZW50cyhlbmdpbmUoc2VsZWN0b3IsIHNjb3BlIHx8IGRvY3VtZW50KSk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaChlbGVtZW50LCBzZWxlY3RvcikgewogICAgcmV0dXJuIGVuZ2luZS5tYXRjaGVzKHNlbGVjdG9yLCBbZWxlbWVudF0pLmxlbmd0aCA9PSAxOwogIH0KCiAgUHJvdG90eXBlLlNlbGVjdG9yLmVuZ2luZSA9IGVuZ2luZTsKICBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0ID0gc2VsZWN0OwogIFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaCA9IG1hdGNoOwp9KShTaXp6bGUpOwoKd2luZG93LlNpenpsZSA9IFByb3RvdHlwZS5fb3JpZ2luYWxfcHJvcGVydHk7CmRlbGV0ZSBQcm90b3R5cGUuX29yaWdpbmFsX3Byb3BlcnR5OwoKdmFyIEZvcm0gPSB7CiAgcmVzZXQ6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgZm9ybS5yZXNldCgpOwogICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgc2VyaWFsaXplRWxlbWVudHM6IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zKSB7CiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7IGhhc2g6ICEhb3B0aW9ucyB9OwogICAgZWxzZSBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKG9wdGlvbnMuaGFzaCkpIG9wdGlvbnMuaGFzaCA9IHRydWU7CiAgICB2YXIga2V5LCB2YWx1ZSwgc3VibWl0dGVkID0gZmFsc2UsIHN1Ym1pdCA9IG9wdGlvbnMuc3VibWl0LCBhY2N1bXVsYXRvciwgaW5pdGlhbDsKCiAgICBpZiAob3B0aW9ucy5oYXNoKSB7CiAgICAgIGluaXRpYWwgPSB7fTsKICAgICAgYWNjdW11bGF0b3IgPSBmdW5jdGlvbihyZXN1bHQsIGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5IGluIHJlc3VsdCkgewogICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShyZXN1bHRba2V5XSkpIHJlc3VsdFtrZXldID0gW3Jlc3VsdFtrZXldXTsKICAgICAgICAgIHJlc3VsdFtrZXldID0gcmVzdWx0W2tleV0uY29uY2F0KHZhbHVlKTsKICAgICAgICB9IGVsc2UgcmVzdWx0W2tleV0gPSB2YWx1ZTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgaW5pdGlhbCA9ICcnOwogICAgICBhY2N1bXVsYXRvciA9IGZ1bmN0aW9uKHJlc3VsdCwga2V5LCB2YWx1ZXMpIHsKICAgICAgICBpZiAoIU9iamVjdC5pc0FycmF5KHZhbHVlcykpIHt2YWx1ZXMgPSBbdmFsdWVzXTt9CiAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7cmV0dXJuIHJlc3VsdDt9CiAgICAgICAgdmFyIGVuY29kZWRLZXkgPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KS5nc3ViKC8lMjAvLCAnKycpOwogICAgICAgIHJldHVybiByZXN1bHQgKyAocmVzdWx0ID8gIiYiIDogIiIpICsgdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHZhbHVlID0gdmFsdWUuZ3N1YigvKFxyKT9cbi8sICdcclxuJyk7CiAgICAgICAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmdzdWIoLyUyMC8sICcrJyk7CiAgICAgICAgICByZXR1cm4gZW5jb2RlZEtleSArICI9IiArIHZhbHVlOwogICAgICAgIH0pLmpvaW4oIiYiKTsKICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudHMuaW5qZWN0KGluaXRpYWwsIGZ1bmN0aW9uKHJlc3VsdCwgZWxlbWVudCkgewogICAgICBpZiAoIWVsZW1lbnQuZGlzYWJsZWQgJiYgZWxlbWVudC5uYW1lKSB7CiAgICAgICAga2V5ID0gZWxlbWVudC5uYW1lOyB2YWx1ZSA9ICQoZWxlbWVudCkuZ2V0VmFsdWUoKTsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiBlbGVtZW50LnR5cGUgIT0gJ2ZpbGUnICYmIChlbGVtZW50LnR5cGUgIT0gJ3N1Ym1pdCcgfHwgKCFzdWJtaXR0ZWQgJiYKICAgICAgICAgICAgc3VibWl0ICE9PSBmYWxzZSAmJiAoIXN1Ym1pdCB8fCBrZXkgPT0gc3VibWl0KSAmJiAoc3VibWl0dGVkID0gdHJ1ZSkpKSkgewogICAgICAgICAgcmVzdWx0ID0gYWNjdW11bGF0b3IocmVzdWx0LCBrZXksIHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0pOwogIH0KfTsKCkZvcm0uTWV0aG9kcyA9IHsKICBzZXJpYWxpemU6IGZ1bmN0aW9uKGZvcm0sIG9wdGlvbnMpIHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6ZUVsZW1lbnRzKEZvcm0uZ2V0RWxlbWVudHMoZm9ybSksIG9wdGlvbnMpOwogIH0sCgoKICBnZXRFbGVtZW50czogZnVuY3Rpb24oZm9ybSkgewogICAgdmFyIGVsZW1lbnRzID0gJChmb3JtKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpOwogICAgdmFyIGVsZW1lbnQsIHJlc3VsdHMgPSBbXSwgc2VyaWFsaXplcnMgPSBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnM7CgogICAgZm9yICh2YXIgaSA9IDA7IGVsZW1lbnQgPSBlbGVtZW50c1tpXTsgaSsrKSB7CiAgICAgIGlmIChzZXJpYWxpemVyc1tlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKV0pCiAgICAgICAgcmVzdWx0cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0sCgogIGdldElucHV0czogZnVuY3Rpb24oZm9ybSwgdHlwZU5hbWUsIG5hbWUpIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgdmFyIGlucHV0cyA9IGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7CgogICAgaWYgKCF0eXBlTmFtZSAmJiAhbmFtZSkgcmV0dXJuICRBKGlucHV0cykubWFwKEVsZW1lbnQuZXh0ZW5kKTsKCiAgICBmb3IgKHZhciBpID0gMCwgbWF0Y2hpbmdJbnB1dHMgPSBbXSwgbGVuZ3RoID0gaW5wdXRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBpbnB1dCA9IGlucHV0c1tpXTsKICAgICAgaWYgKCh0eXBlTmFtZSAmJiBpbnB1dC50eXBlICE9IHR5cGVOYW1lKSB8fCAobmFtZSAmJiBpbnB1dC5uYW1lICE9IG5hbWUpKQogICAgICAgIGNvbnRpbnVlOwogICAgICBtYXRjaGluZ0lucHV0cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGlucHV0KSk7CiAgICB9CgogICAgcmV0dXJuIG1hdGNoaW5nSW5wdXRzOwogIH0sCgogIGRpc2FibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgRm9ybS5nZXRFbGVtZW50cyhmb3JtKS5pbnZva2UoJ2Rpc2FibGUnKTsKICAgIHJldHVybiBmb3JtOwogIH0sCgogIGVuYWJsZTogZnVuY3Rpb24oZm9ybSkgewogICAgZm9ybSA9ICQoZm9ybSk7CiAgICBGb3JtLmdldEVsZW1lbnRzKGZvcm0pLmludm9rZSgnZW5hYmxlJyk7CiAgICByZXR1cm4gZm9ybTsKICB9LAoKICBmaW5kRmlyc3RFbGVtZW50OiBmdW5jdGlvbihmb3JtKSB7CiAgICB2YXIgZWxlbWVudHMgPSAkKGZvcm0pLmdldEVsZW1lbnRzKCkuZmluZEFsbChmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgIHJldHVybiAnaGlkZGVuJyAhPSBlbGVtZW50LnR5cGUgJiYgIWVsZW1lbnQuZGlzYWJsZWQ7CiAgICB9KTsKICAgIHZhciBmaXJzdEJ5SW5kZXggPSBlbGVtZW50cy5maW5kQWxsKGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJJbmRleCcpICYmIGVsZW1lbnQudGFiSW5kZXggPj0gMDsKICAgIH0pLnNvcnRCeShmdW5jdGlvbihlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LnRhYkluZGV4IH0pLmZpcnN0KCk7CgogICAgcmV0dXJuIGZpcnN0QnlJbmRleCA/IGZpcnN0QnlJbmRleCA6IGVsZW1lbnRzLmZpbmQoZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLnRlc3QoZWxlbWVudC50YWdOYW1lKTsKICAgIH0pOwogIH0sCgogIGZvY3VzRmlyc3RFbGVtZW50OiBmdW5jdGlvbihmb3JtKSB7CiAgICBmb3JtID0gJChmb3JtKTsKICAgIHZhciBlbGVtZW50ID0gZm9ybS5maW5kRmlyc3RFbGVtZW50KCk7CiAgICBpZiAoZWxlbWVudCkgZWxlbWVudC5hY3RpdmF0ZSgpOwogICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgcmVxdWVzdDogZnVuY3Rpb24oZm9ybSwgb3B0aW9ucykgewogICAgZm9ybSA9ICQoZm9ybSksIG9wdGlvbnMgPSBPYmplY3QuY2xvbmUob3B0aW9ucyB8fCB7IH0pOwoKICAgIHZhciBwYXJhbXMgPSBvcHRpb25zLnBhcmFtZXRlcnMsIGFjdGlvbiA9IGZvcm0ucmVhZEF0dHJpYnV0ZSgnYWN0aW9uJykgfHwgJyc7CiAgICBpZiAoYWN0aW9uLmJsYW5rKCkpIGFjdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgb3B0aW9ucy5wYXJhbWV0ZXJzID0gZm9ybS5zZXJpYWxpemUodHJ1ZSk7CgogICAgaWYgKHBhcmFtcykgewogICAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHBhcmFtcykpIHBhcmFtcyA9IHBhcmFtcy50b1F1ZXJ5UGFyYW1zKCk7CiAgICAgIE9iamVjdC5leHRlbmQob3B0aW9ucy5wYXJhbWV0ZXJzLCBwYXJhbXMpOwogICAgfQoKICAgIGlmIChmb3JtLmhhc0F0dHJpYnV0ZSgnbWV0aG9kJykgJiYgIW9wdGlvbnMubWV0aG9kKQogICAgICBvcHRpb25zLm1ldGhvZCA9IGZvcm0ubWV0aG9kOwoKICAgIHJldHVybiBuZXcgQWpheC5SZXF1ZXN0KGFjdGlvbiwgb3B0aW9ucyk7CiAgfQp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoKRm9ybS5FbGVtZW50ID0gewogIGZvY3VzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAkKGVsZW1lbnQpLmZvY3VzKCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBzZWxlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICQoZWxlbWVudCkuc2VsZWN0KCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9Cn07CgpGb3JtLkVsZW1lbnQuTWV0aG9kcyA9IHsKCiAgc2VyaWFsaXplOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmICghZWxlbWVudC5kaXNhYmxlZCAmJiBlbGVtZW50Lm5hbWUpIHsKICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRWYWx1ZSgpOwogICAgICBpZiAodmFsdWUgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHBhaXIgPSB7IH07CiAgICAgICAgcGFpcltlbGVtZW50Lm5hbWVdID0gdmFsdWU7CiAgICAgICAgcmV0dXJuIE9iamVjdC50b1F1ZXJ5U3RyaW5nKHBhaXIpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gJyc7CiAgfSwKCiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG1ldGhvZCA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgcmV0dXJuIEZvcm0uRWxlbWVudC5TZXJpYWxpemVyc1ttZXRob2RdKGVsZW1lbnQpOwogIH0sCgogIHNldFZhbHVlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgbWV0aG9kID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnNbbWV0aG9kXShlbGVtZW50LCB2YWx1ZSk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBjbGVhcjogZnVuY3Rpb24oZWxlbWVudCkgewogICAgJChlbGVtZW50KS52YWx1ZSA9ICcnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcHJlc2VudDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkudmFsdWUgIT0gJyc7CiAgfSwKCiAgYWN0aXZhdGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdHJ5IHsKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgICBpZiAoZWxlbWVudC5zZWxlY3QgJiYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdpbnB1dCcgfHwKICAgICAgICAgICEoL14oPzpidXR0b258cmVzZXR8c3VibWl0KSQvaS50ZXN0KGVsZW1lbnQudHlwZSkpKSkKICAgICAgICBlbGVtZW50LnNlbGVjdCgpOwogICAgfSBjYXRjaCAoZSkgeyB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBkaXNhYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgZW5hYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KfTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKdmFyIEZpZWxkID0gRm9ybS5FbGVtZW50OwoKdmFyICRGID0gRm9ybS5FbGVtZW50Lk1ldGhvZHMuZ2V0VmFsdWU7CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkZvcm0uRWxlbWVudC5TZXJpYWxpemVycyA9IChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBpbnB1dChlbGVtZW50LCB2YWx1ZSkgewogICAgc3dpdGNoIChlbGVtZW50LnR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdjaGVja2JveCc6CiAgICAgIGNhc2UgJ3JhZGlvJzoKICAgICAgICByZXR1cm4gaW5wdXRTZWxlY3RvcihlbGVtZW50LCB2YWx1ZSk7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIHZhbHVlU2VsZWN0b3IoZWxlbWVudCwgdmFsdWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5wdXRTZWxlY3RvcihlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICAgIHJldHVybiBlbGVtZW50LmNoZWNrZWQgPyBlbGVtZW50LnZhbHVlIDogbnVsbDsKICAgIGVsc2UgZWxlbWVudC5jaGVja2VkID0gISF2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHZhbHVlU2VsZWN0b3IoZWxlbWVudCwgdmFsdWUpIHsKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm4gZWxlbWVudC52YWx1ZTsKICAgIGVsc2UgZWxlbWVudC52YWx1ZSA9IHZhbHVlOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQsIHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkKICAgICAgcmV0dXJuIChlbGVtZW50LnR5cGUgPT09ICdzZWxlY3Qtb25lJyA/IHNlbGVjdE9uZSA6IHNlbGVjdE1hbnkpKGVsZW1lbnQpOwoKICAgIHZhciBvcHQsIGN1cnJlbnRWYWx1ZSwgc2luZ2xlID0gIU9iamVjdC5pc0FycmF5KHZhbHVlKTsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIG9wdCA9IGVsZW1lbnQub3B0aW9uc1tpXTsKICAgICAgY3VycmVudFZhbHVlID0gdGhpcy5vcHRpb25WYWx1ZShvcHQpOwogICAgICBpZiAoc2luZ2xlKSB7CiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PSB2YWx1ZSkgewogICAgICAgICAgb3B0LnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgZWxzZSBvcHQuc2VsZWN0ZWQgPSB2YWx1ZS5pbmNsdWRlKGN1cnJlbnRWYWx1ZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzZWxlY3RPbmUoZWxlbWVudCkgewogICAgdmFyIGluZGV4ID0gZWxlbWVudC5zZWxlY3RlZEluZGV4OwogICAgcmV0dXJuIGluZGV4ID49IDAgPyBvcHRpb25WYWx1ZShlbGVtZW50Lm9wdGlvbnNbaW5kZXhdKSA6IG51bGw7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3RNYW55KGVsZW1lbnQpIHsKICAgIHZhciB2YWx1ZXMsIGxlbmd0aCA9IGVsZW1lbnQubGVuZ3RoOwogICAgaWYgKCFsZW5ndGgpIHJldHVybiBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwLCB2YWx1ZXMgPSBbXTsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBvcHQgPSBlbGVtZW50Lm9wdGlvbnNbaV07CiAgICAgIGlmIChvcHQuc2VsZWN0ZWQpIHZhbHVlcy5wdXNoKG9wdGlvblZhbHVlKG9wdCkpOwogICAgfQogICAgcmV0dXJuIHZhbHVlczsKICB9CgogIGZ1bmN0aW9uIG9wdGlvblZhbHVlKG9wdCkgewogICAgcmV0dXJuIEVsZW1lbnQuaGFzQXR0cmlidXRlKG9wdCwgJ3ZhbHVlJykgPyBvcHQudmFsdWUgOiBvcHQudGV4dDsKICB9CgogIHJldHVybiB7CiAgICBpbnB1dDogICAgICAgICBpbnB1dCwKICAgIGlucHV0U2VsZWN0b3I6IGlucHV0U2VsZWN0b3IsCiAgICB0ZXh0YXJlYTogICAgICB2YWx1ZVNlbGVjdG9yLAogICAgc2VsZWN0OiAgICAgICAgc2VsZWN0LAogICAgc2VsZWN0T25lOiAgICAgc2VsZWN0T25lLAogICAgc2VsZWN0TWFueTogICAgc2VsZWN0TWFueSwKICAgIG9wdGlvblZhbHVlOiAgIG9wdGlvblZhbHVlLAogICAgYnV0dG9uOiAgICAgICAgdmFsdWVTZWxlY3RvcgogIH07Cn0pKCk7CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgpBYnN0cmFjdC5UaW1lZE9ic2VydmVyID0gQ2xhc3MuY3JlYXRlKFBlcmlvZGljYWxFeGVjdXRlciwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKCRzdXBlciwgZWxlbWVudCwgZnJlcXVlbmN5LCBjYWxsYmFjaykgewogICAgJHN1cGVyKGNhbGxiYWNrLCBmcmVxdWVuY3kpOwogICAgdGhpcy5lbGVtZW50ICAgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5sYXN0VmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgfSwKCiAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHRoaXMubGFzdFZhbHVlKSAmJiBPYmplY3QuaXNTdHJpbmcodmFsdWUpID8KICAgICAgICB0aGlzLmxhc3RWYWx1ZSAhPSB2YWx1ZSA6IFN0cmluZyh0aGlzLmxhc3RWYWx1ZSkgIT0gU3RyaW5nKHZhbHVlKSkgewogICAgICB0aGlzLmNhbGxiYWNrKHRoaXMuZWxlbWVudCwgdmFsdWUpOwogICAgICB0aGlzLmxhc3RWYWx1ZSA9IHZhbHVlOwogICAgfQogIH0KfSk7CgpGb3JtLkVsZW1lbnQuT2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoQWJzdHJhY3QuVGltZWRPYnNlcnZlciwgewogIGdldFZhbHVlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBGb3JtLkVsZW1lbnQuZ2V0VmFsdWUodGhpcy5lbGVtZW50KTsKICB9Cn0pOwoKRm9ybS5PYnNlcnZlciA9IENsYXNzLmNyZWF0ZShBYnN0cmFjdC5UaW1lZE9ic2VydmVyLCB7CiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEZvcm0uc2VyaWFsaXplKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKQWJzdHJhY3QuRXZlbnRPYnNlcnZlciA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2spIHsKICAgIHRoaXMuZWxlbWVudCAgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrOwoKICAgIHRoaXMubGFzdFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwogICAgaWYgKHRoaXMuZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2Zvcm0nKQogICAgICB0aGlzLnJlZ2lzdGVyRm9ybUNhbGxiYWNrcygpOwogICAgZWxzZQogICAgICB0aGlzLnJlZ2lzdGVyQ2FsbGJhY2sodGhpcy5lbGVtZW50KTsKICB9LAoKICBvbkVsZW1lbnRFdmVudDogZnVuY3Rpb24oKSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICBpZiAodGhpcy5sYXN0VmFsdWUgIT0gdmFsdWUpIHsKICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmVsZW1lbnQsIHZhbHVlKTsKICAgICAgdGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTsKICAgIH0KICB9LAoKICByZWdpc3RlckZvcm1DYWxsYmFja3M6IGZ1bmN0aW9uKCkgewogICAgRm9ybS5nZXRFbGVtZW50cyh0aGlzLmVsZW1lbnQpLmVhY2godGhpcy5yZWdpc3RlckNhbGxiYWNrLCB0aGlzKTsKICB9LAoKICByZWdpc3RlckNhbGxiYWNrOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudC50eXBlKSB7CiAgICAgIHN3aXRjaCAoZWxlbWVudC50eXBlLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICBjYXNlICdjaGVja2JveCc6CiAgICAgICAgY2FzZSAncmFkaW8nOgogICAgICAgICAgRXZlbnQub2JzZXJ2ZShlbGVtZW50LCAnY2xpY2snLCB0aGlzLm9uRWxlbWVudEV2ZW50LmJpbmQodGhpcykpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIEV2ZW50Lm9ic2VydmUoZWxlbWVudCwgJ2NoYW5nZScsIHRoaXMub25FbGVtZW50RXZlbnQuYmluZCh0aGlzKSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KfSk7CgpGb3JtLkVsZW1lbnQuRXZlbnRPYnNlcnZlciA9IENsYXNzLmNyZWF0ZShBYnN0cmFjdC5FdmVudE9ic2VydmVyLCB7CiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEZvcm0uRWxlbWVudC5nZXRWYWx1ZSh0aGlzLmVsZW1lbnQpOwogIH0KfSk7CgpGb3JtLkV2ZW50T2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoQWJzdHJhY3QuRXZlbnRPYnNlcnZlciwgewogIGdldFZhbHVlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6ZSh0aGlzLmVsZW1lbnQpOwogIH0KfSk7CihmdW5jdGlvbihHTE9CQUwpIHsKICB2YXIgRElWID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogIHZhciBNT1VTRUVOVEVSX01PVVNFTEVBVkVfRVZFTlRTX1NVUFBPUlRFRCA9ICdvbm1vdXNlZW50ZXInIGluIGRvY0VsCiAgICYmICdvbm1vdXNlbGVhdmUnIGluIGRvY0VsOwoKICB2YXIgRXZlbnQgPSB7CiAgICBLRVlfQkFDS1NQQUNFOiA4LAogICAgS0VZX1RBQjogICAgICAgOSwKICAgIEtFWV9SRVRVUk46ICAgMTMsCiAgICBLRVlfRVNDOiAgICAgIDI3LAogICAgS0VZX0xFRlQ6ICAgICAzNywKICAgIEtFWV9VUDogICAgICAgMzgsCiAgICBLRVlfUklHSFQ6ICAgIDM5LAogICAgS0VZX0RPV046ICAgICA0MCwKICAgIEtFWV9ERUxFVEU6ICAgNDYsCiAgICBLRVlfSE9NRTogICAgIDM2LAogICAgS0VZX0VORDogICAgICAzNSwKICAgIEtFWV9QQUdFVVA6ICAgMzMsCiAgICBLRVlfUEFHRURPV046IDM0LAogICAgS0VZX0lOU0VSVDogICA0NQogIH07CgoKICB2YXIgaXNJRUxlZ2FjeUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHsgcmV0dXJuIGZhbHNlOyB9OwoKICBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgaXNJRUxlZ2FjeUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICByZXR1cm4gIShldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudCk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBpc0lFTGVnYWN5RXZlbnQgPSBmdW5jdGlvbihldmVudCkgeyByZXR1cm4gdHJ1ZTsgfTsKICAgIH0KICB9CgogIHZhciBfaXNCdXR0b247CgogIGZ1bmN0aW9uIF9pc0J1dHRvbkZvckRPTUV2ZW50cyhldmVudCwgY29kZSkgewogICAgcmV0dXJuIGV2ZW50LndoaWNoID8gKGV2ZW50LndoaWNoID09PSBjb2RlICsgMSkgOiAoZXZlbnQuYnV0dG9uID09PSBjb2RlKTsKICB9CgogIHZhciBsZWdhY3lCdXR0b25NYXAgPSB7IDA6IDEsIDE6IDQsIDI6IDIgfTsKICBmdW5jdGlvbiBfaXNCdXR0b25Gb3JMZWdhY3lFdmVudHMoZXZlbnQsIGNvZGUpIHsKICAgIHJldHVybiBldmVudC5idXR0b24gPT09IGxlZ2FjeUJ1dHRvbk1hcFtjb2RlXTsKICB9CgogIGZ1bmN0aW9uIF9pc0J1dHRvbkZvcldlYktpdChldmVudCwgY29kZSkgewogICAgc3dpdGNoIChjb2RlKSB7CiAgICAgIGNhc2UgMDogcmV0dXJuIGV2ZW50LndoaWNoID09IDEgJiYgIWV2ZW50Lm1ldGFLZXk7CiAgICAgIGNhc2UgMTogcmV0dXJuIGV2ZW50LndoaWNoID09IDIgfHwgKGV2ZW50LndoaWNoID09IDEgJiYgZXZlbnQubWV0YUtleSk7CiAgICAgIGNhc2UgMjogcmV0dXJuIGV2ZW50LndoaWNoID09IDM7CiAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIGlmICh3aW5kb3cuYXR0YWNoRXZlbnQpIHsKICAgIGlmICghd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgX2lzQnV0dG9uID0gX2lzQnV0dG9uRm9yTGVnYWN5RXZlbnRzOwogICAgfSBlbHNlIHsKICAgICAgX2lzQnV0dG9uID0gZnVuY3Rpb24oZXZlbnQsIGNvZGUpIHsKICAgICAgICByZXR1cm4gaXNJRUxlZ2FjeUV2ZW50KGV2ZW50KSA/IF9pc0J1dHRvbkZvckxlZ2FjeUV2ZW50cyhldmVudCwgY29kZSkgOgogICAgICAgICBfaXNCdXR0b25Gb3JET01FdmVudHMoZXZlbnQsIGNvZGUpOwogICAgICB9CiAgICB9CiAgfSBlbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5XZWJLaXQpIHsKICAgIF9pc0J1dHRvbiA9IF9pc0J1dHRvbkZvcldlYktpdDsKICB9IGVsc2UgewogICAgX2lzQnV0dG9uID0gX2lzQnV0dG9uRm9yRE9NRXZlbnRzOwogIH0KCiAgZnVuY3Rpb24gaXNMZWZ0Q2xpY2soZXZlbnQpICAgeyByZXR1cm4gX2lzQnV0dG9uKGV2ZW50LCAwKSB9CgogIGZ1bmN0aW9uIGlzTWlkZGxlQ2xpY2soZXZlbnQpIHsgcmV0dXJuIF9pc0J1dHRvbihldmVudCwgMSkgfQoKICBmdW5jdGlvbiBpc1JpZ2h0Q2xpY2soZXZlbnQpICB7IHJldHVybiBfaXNCdXR0b24oZXZlbnQsIDIpIH0KCiAgZnVuY3Rpb24gZWxlbWVudChldmVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuZXh0ZW5kKF9lbGVtZW50KGV2ZW50KSk7CiAgfQoKICBmdW5jdGlvbiBfZWxlbWVudChldmVudCkgewogICAgZXZlbnQgPSBFdmVudC5leHRlbmQoZXZlbnQpOwoKICAgIHZhciBub2RlID0gZXZlbnQudGFyZ2V0LCB0eXBlID0gZXZlbnQudHlwZSwKICAgICBjdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDsKCiAgICBpZiAoY3VycmVudFRhcmdldCAmJiBjdXJyZW50VGFyZ2V0LnRhZ05hbWUpIHsKICAgICAgaWYgKHR5cGUgPT09ICdsb2FkJyB8fCB0eXBlID09PSAnZXJyb3InIHx8CiAgICAgICAgKHR5cGUgPT09ICdjbGljaycgJiYgY3VycmVudFRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcKICAgICAgICAgICYmIGN1cnJlbnRUYXJnZXQudHlwZSA9PT0gJ3JhZGlvJykpCiAgICAgICAgICAgIG5vZGUgPSBjdXJyZW50VGFyZ2V0OwogICAgfQoKICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFID8gbm9kZS5wYXJlbnROb2RlIDogbm9kZTsKICB9CgogIGZ1bmN0aW9uIGZpbmRFbGVtZW50KGV2ZW50LCBleHByZXNzaW9uKSB7CiAgICB2YXIgZWxlbWVudCA9IF9lbGVtZW50KGV2ZW50KSwgc2VsZWN0b3IgPSBQcm90b3R5cGUuU2VsZWN0b3I7CiAgICBpZiAoIWV4cHJlc3Npb24pIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKICAgIHdoaWxlIChlbGVtZW50KSB7CiAgICAgIGlmIChPYmplY3QuaXNFbGVtZW50KGVsZW1lbnQpICYmIHNlbGVjdG9yLm1hdGNoKGVsZW1lbnQsIGV4cHJlc3Npb24pKQogICAgICAgIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHBvaW50ZXIoZXZlbnQpIHsKICAgIHJldHVybiB7IHg6IHBvaW50ZXJYKGV2ZW50KSwgeTogcG9pbnRlclkoZXZlbnQpIH07CiAgfQoKICBmdW5jdGlvbiBwb2ludGVyWChldmVudCkgewogICAgdmFyIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsCiAgICAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgeyBzY3JvbGxMZWZ0OiAwIH07CgogICAgcmV0dXJuIGV2ZW50LnBhZ2VYIHx8IChldmVudC5jbGllbnRYICsKICAgICAgKGRvY0VsZW1lbnQuc2Nyb2xsTGVmdCB8fCBib2R5LnNjcm9sbExlZnQpIC0KICAgICAgKGRvY0VsZW1lbnQuY2xpZW50TGVmdCB8fCAwKSk7CiAgfQoKICBmdW5jdGlvbiBwb2ludGVyWShldmVudCkgewogICAgdmFyIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsCiAgICAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgeyBzY3JvbGxUb3A6IDAgfTsKCiAgICByZXR1cm4gIGV2ZW50LnBhZ2VZIHx8IChldmVudC5jbGllbnRZICsKICAgICAgIChkb2NFbGVtZW50LnNjcm9sbFRvcCB8fCBib2R5LnNjcm9sbFRvcCkgLQogICAgICAgKGRvY0VsZW1lbnQuY2xpZW50VG9wIHx8IDApKTsKICB9CgoKICBmdW5jdGlvbiBzdG9wKGV2ZW50KSB7CiAgICBFdmVudC5leHRlbmQoZXZlbnQpOwogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoKICAgIGV2ZW50LnN0b3BwZWQgPSB0cnVlOwogIH0KCgogIEV2ZW50Lk1ldGhvZHMgPSB7CiAgICBpc0xlZnRDbGljazogICBpc0xlZnRDbGljaywKICAgIGlzTWlkZGxlQ2xpY2s6IGlzTWlkZGxlQ2xpY2ssCiAgICBpc1JpZ2h0Q2xpY2s6ICBpc1JpZ2h0Q2xpY2ssCgogICAgZWxlbWVudDogICAgIGVsZW1lbnQsCiAgICBmaW5kRWxlbWVudDogZmluZEVsZW1lbnQsCgogICAgcG9pbnRlcjogIHBvaW50ZXIsCiAgICBwb2ludGVyWDogcG9pbnRlclgsCiAgICBwb2ludGVyWTogcG9pbnRlclksCgogICAgc3RvcDogc3RvcAogIH07CgogIHZhciBtZXRob2RzID0gT2JqZWN0LmtleXMoRXZlbnQuTWV0aG9kcykuaW5qZWN0KHsgfSwgZnVuY3Rpb24obSwgbmFtZSkgewogICAgbVtuYW1lXSA9IEV2ZW50Lk1ldGhvZHNbbmFtZV0ubWV0aG9kaXplKCk7CiAgICByZXR1cm4gbTsKICB9KTsKCiAgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkgewogICAgZnVuY3Rpb24gX3JlbGF0ZWRUYXJnZXQoZXZlbnQpIHsKICAgICAgdmFyIGVsZW1lbnQ7CiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkgewogICAgICAgIGNhc2UgJ21vdXNlb3Zlcic6CiAgICAgICAgY2FzZSAnbW91c2VlbnRlcic6CiAgICAgICAgICBlbGVtZW50ID0gZXZlbnQuZnJvbUVsZW1lbnQ7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdtb3VzZW91dCc6CiAgICAgICAgY2FzZSAnbW91c2VsZWF2ZSc6CiAgICAgICAgICBlbGVtZW50ID0gZXZlbnQudG9FbGVtZW50OwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKICAgIH0KCiAgICB2YXIgYWRkaXRpb25hbE1ldGhvZHMgPSB7CiAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZSB9LAogICAgICBwcmV2ZW50RGVmYXVsdDogIGZ1bmN0aW9uKCkgeyB0aGlzLnJldHVyblZhbHVlID0gZmFsc2UgfSwKICAgICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7IHJldHVybiAnW29iamVjdCBFdmVudF0nIH0KICAgIH07CgogICAgRXZlbnQuZXh0ZW5kID0gZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQpIHsKICAgICAgaWYgKCFldmVudCkgcmV0dXJuIGZhbHNlOwoKICAgICAgaWYgKCFpc0lFTGVnYWN5RXZlbnQoZXZlbnQpKSByZXR1cm4gZXZlbnQ7CgogICAgICBpZiAoZXZlbnQuX2V4dGVuZGVkQnlQcm90b3R5cGUpIHJldHVybiBldmVudDsKICAgICAgZXZlbnQuX2V4dGVuZGVkQnlQcm90b3R5cGUgPSBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbjsKCiAgICAgIHZhciBwb2ludGVyID0gRXZlbnQucG9pbnRlcihldmVudCk7CgogICAgICBPYmplY3QuZXh0ZW5kKGV2ZW50LCB7CiAgICAgICAgdGFyZ2V0OiBldmVudC5zcmNFbGVtZW50IHx8IGVsZW1lbnQsCiAgICAgICAgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQoZXZlbnQpLAogICAgICAgIHBhZ2VYOiAgcG9pbnRlci54LAogICAgICAgIHBhZ2VZOiAgcG9pbnRlci55CiAgICAgIH0pOwoKICAgICAgT2JqZWN0LmV4dGVuZChldmVudCwgbWV0aG9kcyk7CiAgICAgIE9iamVjdC5leHRlbmQoZXZlbnQsIGFkZGl0aW9uYWxNZXRob2RzKTsKCiAgICAgIHJldHVybiBldmVudDsKICAgIH07CiAgfSBlbHNlIHsKICAgIEV2ZW50LmV4dGVuZCA9IFByb3RvdHlwZS5LOwogIH0KCiAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBFdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlIHx8IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJykuX19wcm90b19fOwogICAgT2JqZWN0LmV4dGVuZChFdmVudC5wcm90b3R5cGUsIG1ldGhvZHMpOwogIH0KCiAgdmFyIEVWRU5UX1RSQU5TTEFUSU9OUyA9IHsKICAgIG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInLAogICAgbW91c2VsZWF2ZTogJ21vdXNlb3V0JwogIH07CgogIGZ1bmN0aW9uIGdldERPTUV2ZW50TmFtZShldmVudE5hbWUpIHsKICAgIHJldHVybiBFVkVOVF9UUkFOU0xBVElPTlNbZXZlbnROYW1lXSB8fCBldmVudE5hbWU7CiAgfQoKICBpZiAoTU9VU0VFTlRFUl9NT1VTRUxFQVZFX0VWRU5UU19TVVBQT1JURUQpCiAgICBnZXRET01FdmVudE5hbWUgPSBQcm90b3R5cGUuSzsKCiAgZnVuY3Rpb24gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50ID09PSB3aW5kb3cpIHJldHVybiAwOwoKICAgIGlmICh0eXBlb2YgZWxlbWVudC5fcHJvdG90eXBlVUlEID09PSAndW5kZWZpbmVkJykKICAgICAgZWxlbWVudC5fcHJvdG90eXBlVUlEID0gRWxlbWVudC5TdG9yYWdlLlVJRCsrOwogICAgcmV0dXJuIGVsZW1lbnQuX3Byb3RvdHlwZVVJRDsKICB9CgogIGZ1bmN0aW9uIGdldFVuaXF1ZUVsZW1lbnRJRF9JRShlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudCA9PT0gd2luZG93KSByZXR1cm4gMDsKICAgIGlmIChlbGVtZW50ID09IGRvY3VtZW50KSByZXR1cm4gMTsKICAgIHJldHVybiBlbGVtZW50LnVuaXF1ZUlEOwogIH0KCiAgaWYgKCd1bmlxdWVJRCcgaW4gRElWKQogICAgZ2V0VW5pcXVlRWxlbWVudElEID0gZ2V0VW5pcXVlRWxlbWVudElEX0lFOwoKICBmdW5jdGlvbiBpc0N1c3RvbUV2ZW50KGV2ZW50TmFtZSkgewogICAgcmV0dXJuIGV2ZW50TmFtZS5pbmNsdWRlKCc6Jyk7CiAgfQoKICBFdmVudC5faXNDdXN0b21FdmVudCA9IGlzQ3VzdG9tRXZlbnQ7CgogIGZ1bmN0aW9uIGdldFJlZ2lzdHJ5Rm9yRWxlbWVudChlbGVtZW50LCB1aWQpIHsKICAgIHZhciBDQUNIRSA9IEdMT0JBTC5FdmVudC5jYWNoZTsKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodWlkKSkKICAgICAgdWlkID0gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpOwogICAgaWYgKCFDQUNIRVt1aWRdKSBDQUNIRVt1aWRdID0geyBlbGVtZW50OiBlbGVtZW50IH07CiAgICByZXR1cm4gQ0FDSEVbdWlkXTsKICB9CgogIGZ1bmN0aW9uIGRlc3Ryb3lSZWdpc3RyeUZvckVsZW1lbnQoZWxlbWVudCwgdWlkKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHVpZCkpCiAgICAgIHVpZCA9IGdldFVuaXF1ZUVsZW1lbnRJRChlbGVtZW50KTsKICAgIGRlbGV0ZSBHTE9CQUwuRXZlbnQuY2FjaGVbdWlkXTsKICB9CgoKICBmdW5jdGlvbiByZWdpc3RlcihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIHZhciByZWdpc3RyeSA9IGdldFJlZ2lzdHJ5Rm9yRWxlbWVudChlbGVtZW50KTsKICAgIGlmICghcmVnaXN0cnlbZXZlbnROYW1lXSkgcmVnaXN0cnlbZXZlbnROYW1lXSA9IFtdOwogICAgdmFyIGVudHJpZXMgPSByZWdpc3RyeVtldmVudE5hbWVdOwoKICAgIHZhciBpID0gZW50cmllcy5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKQogICAgICBpZiAoZW50cmllc1tpXS5oYW5kbGVyID09PSBoYW5kbGVyKSByZXR1cm4gbnVsbDsKCiAgICB2YXIgdWlkID0gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpOwogICAgdmFyIHJlc3BvbmRlciA9IEdMT0JBTC5FdmVudC5fY3JlYXRlUmVzcG9uZGVyKHVpZCwgZXZlbnROYW1lLCBoYW5kbGVyKTsKICAgIHZhciBlbnRyeSA9IHsKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIGhhbmRsZXI6ICAgaGFuZGxlcgogICAgfTsKCiAgICBlbnRyaWVzLnB1c2goZW50cnkpOwogICAgcmV0dXJuIGVudHJ5OwogIH0KCiAgZnVuY3Rpb24gdW5yZWdpc3RlcihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIHZhciByZWdpc3RyeSA9IGdldFJlZ2lzdHJ5Rm9yRWxlbWVudChlbGVtZW50KTsKICAgIHZhciBlbnRyaWVzID0gcmVnaXN0cnlbZXZlbnROYW1lXTsKICAgIGlmICghZW50cmllcykgcmV0dXJuOwoKICAgIHZhciBpID0gZW50cmllcy5sZW5ndGgsIGVudHJ5OwogICAgd2hpbGUgKGktLSkgewogICAgICBpZiAoZW50cmllc1tpXS5oYW5kbGVyID09PSBoYW5kbGVyKSB7CiAgICAgICAgZW50cnkgPSBlbnRyaWVzW2ldOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKCFlbnRyeSkgcmV0dXJuOwoKICAgIHZhciBpbmRleCA9IGVudHJpZXMuaW5kZXhPZihlbnRyeSk7CiAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgMSk7CgogICAgcmV0dXJuIGVudHJ5OwogIH0KCgogIGZ1bmN0aW9uIG9ic2VydmUoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBlbnRyeSA9IHJlZ2lzdGVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcik7CgogICAgaWYgKGVudHJ5ID09PSBudWxsKSByZXR1cm4gZWxlbWVudDsKCiAgICB2YXIgcmVzcG9uZGVyID0gZW50cnkucmVzcG9uZGVyOwogICAgaWYgKGlzQ3VzdG9tRXZlbnQoZXZlbnROYW1lKSkKICAgICAgb2JzZXJ2ZUN1c3RvbUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgcmVzcG9uZGVyKTsKICAgIGVsc2UKICAgICAgb2JzZXJ2ZVN0YW5kYXJkRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gb2JzZXJ2ZVN0YW5kYXJkRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIHZhciBhY3R1YWxFdmVudE5hbWUgPSBnZXRET01FdmVudE5hbWUoZXZlbnROYW1lKTsKICAgIGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGFjdHVhbEV2ZW50TmFtZSwgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyBhY3R1YWxFdmVudE5hbWUsIHJlc3BvbmRlcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvYnNlcnZlQ3VzdG9tRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbmRhdGFhdmFpbGFibGUnLCByZXNwb25kZXIpOwogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbmxvc2VjYXB0dXJlJywgICByZXNwb25kZXIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gc3RvcE9ic2VydmluZyhlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGhhbmRsZXJHaXZlbiA9ICFPYmplY3QuaXNVbmRlZmluZWQoaGFuZGxlciksCiAgICAgZXZlbnROYW1lR2l2ZW4gPSAhT2JqZWN0LmlzVW5kZWZpbmVkKGV2ZW50TmFtZSk7CgogICAgaWYgKCFldmVudE5hbWVHaXZlbiAmJiAhaGFuZGxlckdpdmVuKSB7CiAgICAgIHN0b3BPYnNlcnZpbmdFbGVtZW50KGVsZW1lbnQpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBpZiAoIWhhbmRsZXJHaXZlbikgewogICAgICBzdG9wT2JzZXJ2aW5nRXZlbnROYW1lKGVsZW1lbnQsIGV2ZW50TmFtZSk7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBlbnRyeSA9IHVucmVnaXN0ZXIoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKTsKCiAgICBpZiAoIWVudHJ5KSByZXR1cm4gZWxlbWVudDsKICAgIHJlbW92ZUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgZW50cnkucmVzcG9uZGVyKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gc3RvcE9ic2VydmluZ1N0YW5kYXJkRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIHZhciBhY3R1YWxFdmVudE5hbWUgPSBnZXRET01FdmVudE5hbWUoZXZlbnROYW1lKTsKICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGFjdHVhbEV2ZW50TmFtZSwgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmRldGFjaEV2ZW50KCdvbicgKyBhY3R1YWxFdmVudE5hbWUsIHJlc3BvbmRlcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzdG9wT2JzZXJ2aW5nQ3VzdG9tRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmRldGFjaEV2ZW50KCdvbmRhdGFhdmFpbGFibGUnLCByZXNwb25kZXIpOwogICAgICBlbGVtZW50LmRldGFjaEV2ZW50KCdvbmxvc2VjYXB0dXJlJywgICByZXNwb25kZXIpOwogICAgfQogIH0KCgoKICBmdW5jdGlvbiBzdG9wT2JzZXJ2aW5nRWxlbWVudChlbGVtZW50KSB7CiAgICB2YXIgdWlkID0gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpLCByZWdpc3RyeSA9IEdMT0JBTC5FdmVudC5jYWNoZVt1aWRdOwogICAgaWYgKCFyZWdpc3RyeSkgcmV0dXJuOwoKICAgIGRlc3Ryb3lSZWdpc3RyeUZvckVsZW1lbnQoZWxlbWVudCwgdWlkKTsKCiAgICB2YXIgZW50cmllcywgaTsKICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiByZWdpc3RyeSkgewogICAgICBpZiAoZXZlbnROYW1lID09PSAnZWxlbWVudCcpIGNvbnRpbnVlOwoKICAgICAgZW50cmllcyA9IHJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICAgIGkgPSBlbnRyaWVzLmxlbmd0aDsKICAgICAgd2hpbGUgKGktLSkKICAgICAgICByZW1vdmVFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGVudHJpZXNbaV0ucmVzcG9uZGVyKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHN0b3BPYnNlcnZpbmdFdmVudE5hbWUoZWxlbWVudCwgZXZlbnROYW1lKSB7CiAgICB2YXIgcmVnaXN0cnkgPSBnZXRSZWdpc3RyeUZvckVsZW1lbnQoZWxlbWVudCk7CiAgICB2YXIgZW50cmllcyA9IHJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWVudHJpZXMpIHJldHVybjsKICAgIGRlbGV0ZSByZWdpc3RyeVtldmVudE5hbWVdOwoKICAgIHZhciBpID0gZW50cmllcy5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKQogICAgICByZW1vdmVFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGVudHJpZXNbaV0ucmVzcG9uZGVyKTsKICB9CgoKICBmdW5jdGlvbiByZW1vdmVFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIGlmIChpc0N1c3RvbUV2ZW50KGV2ZW50TmFtZSkpCiAgICAgIHN0b3BPYnNlcnZpbmdDdXN0b21FdmVudChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpOwogICAgZWxzZQogICAgICBzdG9wT2JzZXJ2aW5nU3RhbmRhcmRFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpOwogIH0KCgoKICBmdW5jdGlvbiBnZXRGaXJlVGFyZ2V0KGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50ICE9PSBkb2N1bWVudCkgcmV0dXJuIGVsZW1lbnQ7CiAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQgJiYgIWVsZW1lbnQuZGlzcGF0Y2hFdmVudCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gZmlyZShlbGVtZW50LCBldmVudE5hbWUsIG1lbW8sIGJ1YmJsZSkgewogICAgZWxlbWVudCA9IGdldEZpcmVUYXJnZXQoJChlbGVtZW50KSk7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGJ1YmJsZSkpIGJ1YmJsZSA9IHRydWU7CiAgICBtZW1vID0gbWVtbyB8fCB7fTsKCiAgICB2YXIgZXZlbnQgPSBmaXJlRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCBtZW1vLCBidWJibGUpOwogICAgcmV0dXJuIEV2ZW50LmV4dGVuZChldmVudCk7CiAgfQoKICBmdW5jdGlvbiBmaXJlRXZlbnRfRE9NKGVsZW1lbnQsIGV2ZW50TmFtZSwgbWVtbywgYnViYmxlKSB7CiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpOwogICAgZXZlbnQuaW5pdEV2ZW50KCdkYXRhYXZhaWxhYmxlJywgYnViYmxlLCB0cnVlKTsKCiAgICBldmVudC5ldmVudE5hbWUgPSBldmVudE5hbWU7CiAgICBldmVudC5tZW1vID0gbWVtbzsKCiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgcmV0dXJuIGV2ZW50OwogIH0KCiAgZnVuY3Rpb24gZmlyZUV2ZW50X0lFKGVsZW1lbnQsIGV2ZW50TmFtZSwgbWVtbywgYnViYmxlKSB7CiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpOwogICAgZXZlbnQuZXZlbnRUeXBlID0gYnViYmxlID8gJ29uZGF0YWF2YWlsYWJsZScgOiAnb25sb3NlY2FwdHVyZSc7CgogICAgZXZlbnQuZXZlbnROYW1lID0gZXZlbnROYW1lOwogICAgZXZlbnQubWVtbyA9IG1lbW87CgogICAgZWxlbWVudC5maXJlRXZlbnQoZXZlbnQuZXZlbnRUeXBlLCBldmVudCk7CiAgICByZXR1cm4gZXZlbnQ7CiAgfQoKICB2YXIgZmlyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQgPyBmaXJlRXZlbnRfRE9NIDogZmlyZUV2ZW50X0lFOwoKCgogIEV2ZW50LkhhbmRsZXIgPSBDbGFzcy5jcmVhdGUoewogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBzZWxlY3RvciwgY2FsbGJhY2spIHsKICAgICAgdGhpcy5lbGVtZW50ICAgPSAkKGVsZW1lbnQpOwogICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTsKICAgICAgdGhpcy5zZWxlY3RvciAgPSBzZWxlY3RvcjsKICAgICAgdGhpcy5jYWxsYmFjayAgPSBjYWxsYmFjazsKICAgICAgdGhpcy5oYW5kbGVyICAgPSB0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyk7CiAgICB9LAoKCiAgICBzdGFydDogZnVuY3Rpb24oKSB7CiAgICAgIEV2ZW50Lm9ic2VydmUodGhpcy5lbGVtZW50LCB0aGlzLmV2ZW50TmFtZSwgdGhpcy5oYW5kbGVyKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAoKICAgIHN0b3A6IGZ1bmN0aW9uKCkgewogICAgICBFdmVudC5zdG9wT2JzZXJ2aW5nKHRoaXMuZWxlbWVudCwgdGhpcy5ldmVudE5hbWUsIHRoaXMuaGFuZGxlcik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKCiAgICBoYW5kbGVFdmVudDogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBFdmVudC5maW5kRWxlbWVudChldmVudCwgdGhpcy5zZWxlY3Rvcik7CiAgICAgIGlmIChlbGVtZW50KSB0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy5lbGVtZW50LCBldmVudCwgZWxlbWVudCk7CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIG9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChPYmplY3QuaXNGdW5jdGlvbihzZWxlY3RvcikgJiYgT2JqZWN0LmlzVW5kZWZpbmVkKGNhbGxiYWNrKSkgewogICAgICBjYWxsYmFjayA9IHNlbGVjdG9yLCBzZWxlY3RvciA9IG51bGw7CiAgICB9CgogICAgcmV0dXJuIG5ldyBFdmVudC5IYW5kbGVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrKS5zdGFydCgpOwogIH0KCiAgT2JqZWN0LmV4dGVuZChFdmVudCwgRXZlbnQuTWV0aG9kcyk7CgogIE9iamVjdC5leHRlbmQoRXZlbnQsIHsKICAgIGZpcmU6ICAgICAgICAgIGZpcmUsCiAgICBvYnNlcnZlOiAgICAgICBvYnNlcnZlLAogICAgc3RvcE9ic2VydmluZzogc3RvcE9ic2VydmluZywKICAgIG9uOiAgICAgICAgICAgIG9uCiAgfSk7CgogIEVsZW1lbnQuYWRkTWV0aG9kcyh7CiAgICBmaXJlOiAgICAgICAgICBmaXJlLAoKICAgIG9ic2VydmU6ICAgICAgIG9ic2VydmUsCgogICAgc3RvcE9ic2VydmluZzogc3RvcE9ic2VydmluZywKCiAgICBvbjogICAgICAgICAgICBvbgogIH0pOwoKICBPYmplY3QuZXh0ZW5kKGRvY3VtZW50LCB7CiAgICBmaXJlOiAgICAgICAgICBmaXJlLm1ldGhvZGl6ZSgpLAoKICAgIG9ic2VydmU6ICAgICAgIG9ic2VydmUubWV0aG9kaXplKCksCgogICAgc3RvcE9ic2VydmluZzogc3RvcE9ic2VydmluZy5tZXRob2RpemUoKSwKCiAgICBvbjogICAgICAgICAgICBvbi5tZXRob2RpemUoKSwKCiAgICBsb2FkZWQ6ICAgICAgICBmYWxzZQogIH0pOwoKICBpZiAoR0xPQkFMLkV2ZW50KSBPYmplY3QuZXh0ZW5kKHdpbmRvdy5FdmVudCwgRXZlbnQpOwogIGVsc2UgR0xPQkFMLkV2ZW50ID0gRXZlbnQ7CgogIEdMT0JBTC5FdmVudC5jYWNoZSA9IHt9OwoKICBmdW5jdGlvbiBkZXN0cm95Q2FjaGVfSUUoKSB7CiAgICBHTE9CQUwuRXZlbnQuY2FjaGUgPSBudWxsOwogIH0KCiAgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkKICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb251bmxvYWQnLCBkZXN0cm95Q2FjaGVfSUUpOwoKICBESVYgPSBudWxsOwogIGRvY0VsID0gbnVsbDsKfSkodGhpcyk7CgooZnVuY3Rpb24oR0xPQkFMKSB7CiAgLyogQ29kZSBmb3IgY3JlYXRpbmcgbGVhay1mcmVlIGV2ZW50IHJlc3BvbmRlcnMgaXMgYmFzZWQgb24gd29yayBieQogICBKb2huLURhdmlkIERhbHRvbi4gKi8KCiAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogIHZhciBNT1VTRUVOVEVSX01PVVNFTEVBVkVfRVZFTlRTX1NVUFBPUlRFRCA9ICdvbm1vdXNlZW50ZXInIGluIGRvY0VsCiAgICAmJiAnb25tb3VzZWxlYXZlJyBpbiBkb2NFbDsKCiAgZnVuY3Rpb24gaXNTaW11bGF0ZWRNb3VzZUVudGVyTGVhdmVFdmVudChldmVudE5hbWUpIHsKICAgIHJldHVybiAhTU9VU0VFTlRFUl9NT1VTRUxFQVZFX0VWRU5UU19TVVBQT1JURUQgJiYKICAgICAoZXZlbnROYW1lID09PSAnbW91c2VlbnRlcicgfHwgZXZlbnROYW1lID09PSAnbW91c2VsZWF2ZScpOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlUmVzcG9uZGVyKHVpZCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICBpZiAoRXZlbnQuX2lzQ3VzdG9tRXZlbnQoZXZlbnROYW1lKSkKICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbmRlckZvckN1c3RvbUV2ZW50KHVpZCwgZXZlbnROYW1lLCBoYW5kbGVyKTsKICAgIGlmIChpc1NpbXVsYXRlZE1vdXNlRW50ZXJMZWF2ZUV2ZW50KGV2ZW50TmFtZSkpCiAgICAgIHJldHVybiBjcmVhdGVNb3VzZUVudGVyTGVhdmVSZXNwb25kZXIodWlkLCBldmVudE5hbWUsIGhhbmRsZXIpOwoKICAgIHJldHVybiBmdW5jdGlvbihldmVudCkgewogICAgICBpZiAoIUV2ZW50LmNhY2hlKSByZXR1cm47CgogICAgICB2YXIgZWxlbWVudCA9IEV2ZW50LmNhY2hlW3VpZF0uZWxlbWVudDsKICAgICAgRXZlbnQuZXh0ZW5kKGV2ZW50LCBlbGVtZW50KTsKICAgICAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVSZXNwb25kZXJGb3JDdXN0b21FdmVudCh1aWQsIGV2ZW50TmFtZSwgaGFuZGxlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciBlbGVtZW50ID0gRXZlbnQuY2FjaGVbdWlkXS5lbGVtZW50OwoKICAgICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZChldmVudC5ldmVudE5hbWUpKQogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGlmIChldmVudC5ldmVudE5hbWUgIT09IGV2ZW50TmFtZSkKICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICBFdmVudC5leHRlbmQoZXZlbnQsIGVsZW1lbnQpOwogICAgICBoYW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZU1vdXNlRW50ZXJMZWF2ZVJlc3BvbmRlcih1aWQsIGV2ZW50TmFtZSwgaGFuZGxlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciBlbGVtZW50ID0gRXZlbnQuY2FjaGVbdWlkXS5lbGVtZW50OwoKICAgICAgRXZlbnQuZXh0ZW5kKGV2ZW50LCBlbGVtZW50KTsKICAgICAgdmFyIHBhcmVudCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7CgogICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gZWxlbWVudCkgewogICAgICAgIHRyeSB7IHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOyB9CiAgICAgICAgY2F0Y2goZSkgeyBwYXJlbnQgPSBlbGVtZW50OyB9CiAgICAgIH0KCiAgICAgIGlmIChwYXJlbnQgPT09IGVsZW1lbnQpIHJldHVybjsKICAgICAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTsKICAgIH0KICB9CgogIEdMT0JBTC5FdmVudC5fY3JlYXRlUmVzcG9uZGVyID0gY3JlYXRlUmVzcG9uZGVyOwogIGRvY0VsID0gbnVsbDsKfSkodGhpcyk7CgooZnVuY3Rpb24oR0xPQkFMKSB7CiAgLyogU3VwcG9ydCBmb3IgdGhlIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQgaXMgYmFzZWQgb24gd29yayBieSBEYW4gV2ViYiwKICAgICBNYXR0aGlhcyBNaWxsZXIsIERlYW4gRWR3YXJkcywgSm9obiBSZXNpZywgYW5kIERpZWdvIFBlcmluaS4gKi8KCiAgdmFyIFRJTUVSOwoKICBmdW5jdGlvbiBmaXJlQ29udGVudExvYWRlZEV2ZW50KCkgewogICAgaWYgKGRvY3VtZW50LmxvYWRlZCkgcmV0dXJuOwogICAgaWYgKFRJTUVSKSB3aW5kb3cuY2xlYXJUaW1lb3V0KFRJTUVSKTsKICAgIGRvY3VtZW50LmxvYWRlZCA9IHRydWU7CiAgICBkb2N1bWVudC5maXJlKCdkb206bG9hZGVkJyk7CiAgfQoKICBmdW5jdGlvbiBjaGVja1JlYWR5U3RhdGUoKSB7CiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykgewogICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgY2hlY2tSZWFkeVN0YXRlKTsKICAgICAgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCgpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcG9sbERvU2Nyb2xsKCkgewogICAgdHJ5IHsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCdsZWZ0Jyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIFRJTUVSID0gcG9sbERvU2Nyb2xsLmRlZmVyKCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBmaXJlQ29udGVudExvYWRlZEV2ZW50KCk7CiAgfQoKCiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHsKICAgIGZpcmVDb250ZW50TG9hZGVkRXZlbnQoKTsKICAgIHJldHVybjsKICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCwgZmFsc2UpOwogIH0gZWxzZSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgY2hlY2tSZWFkeVN0YXRlKTsKICAgIGlmICh3aW5kb3cgPT0gdG9wKSBUSU1FUiA9IHBvbGxEb1Njcm9sbC5kZWZlcigpOwogIH0KCiAgRXZlbnQub2JzZXJ2ZSh3aW5kb3csICdsb2FkJywgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCk7Cn0pKHRoaXMpOwoKCkVsZW1lbnQuYWRkTWV0aG9kcygpOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gREVQUkVDQVRFRCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkhhc2gudG9RdWVyeVN0cmluZyA9IE9iamVjdC50b1F1ZXJ5U3RyaW5nOwoKdmFyIFRvZ2dsZSA9IHsgZGlzcGxheTogRWxlbWVudC50b2dnbGUgfTsKCkVsZW1lbnQuTWV0aG9kcy5jaGlsZE9mID0gRWxlbWVudC5NZXRob2RzLmRlc2NlbmRhbnRPZjsKCnZhciBJbnNlcnRpb24gPSB7CiAgQmVmb3JlOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge2JlZm9yZTpjb250ZW50fSk7CiAgfSwKCiAgVG9wOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge3RvcDpjb250ZW50fSk7CiAgfSwKCiAgQm90dG9tOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge2JvdHRvbTpjb250ZW50fSk7CiAgfSwKCiAgQWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIHJldHVybiBFbGVtZW50Lmluc2VydChlbGVtZW50LCB7YWZ0ZXI6Y29udGVudH0pOwogIH0KfTsKCnZhciAkY29udGludWUgPSBuZXcgRXJyb3IoJyJ0aHJvdyAkY29udGludWUiIGlzIGRlcHJlY2F0ZWQsIHVzZSAicmV0dXJuIiBpbnN0ZWFkJyk7Cgp2YXIgUG9zaXRpb24gPSB7CiAgaW5jbHVkZVNjcm9sbE9mZnNldHM6IGZhbHNlLAoKICBwcmVwYXJlOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuZGVsdGFYID0gIHdpbmRvdy5wYWdlWE9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQKICAgICAgICAgICAgICAgIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdAogICAgICAgICAgICAgICAgfHwgMDsKICAgIHRoaXMuZGVsdGFZID0gIHdpbmRvdy5wYWdlWU9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AKICAgICAgICAgICAgICAgIHx8IDA7CiAgfSwKCiAgd2l0aGluOiBmdW5jdGlvbihlbGVtZW50LCB4LCB5KSB7CiAgICBpZiAodGhpcy5pbmNsdWRlU2Nyb2xsT2Zmc2V0cykKICAgICAgcmV0dXJuIHRoaXMud2l0aGluSW5jbHVkaW5nU2Nyb2xsb2Zmc2V0cyhlbGVtZW50LCB4LCB5KTsKICAgIHRoaXMueGNvbXAgPSB4OwogICAgdGhpcy55Y29tcCA9IHk7CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHkgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgeSA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHggPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAgICAgICAgeCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgpOwogIH0sCgogIHdpdGhpbkluY2x1ZGluZ1Njcm9sbG9mZnNldHM6IGZ1bmN0aW9uKGVsZW1lbnQsIHgsIHkpIHsKICAgIHZhciBvZmZzZXRjYWNoZSA9IEVsZW1lbnQuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldChlbGVtZW50KTsKCiAgICB0aGlzLnhjb21wID0geCArIG9mZnNldGNhY2hlWzBdIC0gdGhpcy5kZWx0YVg7CiAgICB0aGlzLnljb21wID0geSArIG9mZnNldGNhY2hlWzFdIC0gdGhpcy5kZWx0YVk7CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHRoaXMueWNvbXAgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgdGhpcy55Y29tcCA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHRoaXMueGNvbXAgPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAgICAgICAgdGhpcy54Y29tcCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgpOwogIH0sCgogIG92ZXJsYXA6IGZ1bmN0aW9uKG1vZGUsIGVsZW1lbnQpIHsKICAgIGlmICghbW9kZSkgcmV0dXJuIDA7CiAgICBpZiAobW9kZSA9PSAndmVydGljYWwnKQogICAgICByZXR1cm4gKCh0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAtIHRoaXMueWNvbXApIC8KICAgICAgICBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgIGlmIChtb2RlID09ICdob3Jpem9udGFsJykKICAgICAgcmV0dXJuICgodGhpcy5vZmZzZXRbMF0gKyBlbGVtZW50Lm9mZnNldFdpZHRoKSAtIHRoaXMueGNvbXApIC8KICAgICAgICBlbGVtZW50Lm9mZnNldFdpZHRoOwogIH0sCgoKICBjdW11bGF0aXZlT2Zmc2V0OiBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZU9mZnNldCwKCiAgcG9zaXRpb25lZE9mZnNldDogRWxlbWVudC5NZXRob2RzLnBvc2l0aW9uZWRPZmZzZXQsCgogIGFic29sdXRpemU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIFBvc2l0aW9uLnByZXBhcmUoKTsKICAgIHJldHVybiBFbGVtZW50LmFic29sdXRpemUoZWxlbWVudCk7CiAgfSwKCiAgcmVsYXRpdml6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgUG9zaXRpb24ucHJlcGFyZSgpOwogICAgcmV0dXJuIEVsZW1lbnQucmVsYXRpdml6ZShlbGVtZW50KTsKICB9LAoKICByZWFsT2Zmc2V0OiBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldCwKCiAgb2Zmc2V0UGFyZW50OiBFbGVtZW50Lk1ldGhvZHMuZ2V0T2Zmc2V0UGFyZW50LAoKICBwYWdlOiBFbGVtZW50Lk1ldGhvZHMudmlld3BvcnRPZmZzZXQsCgogIGNsb25lOiBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgb3B0aW9ucykgewogICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyB9OwogICAgcmV0dXJuIEVsZW1lbnQuY2xvbmVQb3NpdGlvbih0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyk7CiAgfQp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgppZiAoIWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbihpbnN0YW5jZU1ldGhvZHMpewogIGZ1bmN0aW9uIGl0ZXIobmFtZSkgewogICAgcmV0dXJuIG5hbWUuYmxhbmsoKSA/IG51bGwgOiAiW2NvbnRhaW5zKGNvbmNhdCgnICcsIEBjbGFzcywgJyAnKSwgJyAiICsgbmFtZSArICIgJyldIjsKICB9CgogIGluc3RhbmNlTWV0aG9kcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlcy5YUGF0aCA/CiAgZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7CiAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUudG9TdHJpbmcoKS5zdHJpcCgpOwogICAgdmFyIGNvbmQgPSAvXHMvLnRlc3QoY2xhc3NOYW1lKSA/ICR3KGNsYXNzTmFtZSkubWFwKGl0ZXIpLmpvaW4oJycpIDogaXRlcihjbGFzc05hbWUpOwogICAgcmV0dXJuIGNvbmQgPyBkb2N1bWVudC5fZ2V0RWxlbWVudHNCeVhQYXRoKCcuLy8qJyArIGNvbmQsIGVsZW1lbnQpIDogW107CiAgfSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnRvU3RyaW5nKCkuc3RyaXAoKTsKICAgIHZhciBlbGVtZW50cyA9IFtdLCBjbGFzc05hbWVzID0gKC9ccy8udGVzdChjbGFzc05hbWUpID8gJHcoY2xhc3NOYW1lKSA6IG51bGwpOwogICAgaWYgKCFjbGFzc05hbWVzICYmICFjbGFzc05hbWUpIHJldHVybiBlbGVtZW50czsKCiAgICB2YXIgbm9kZXMgPSAkKGVsZW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7CiAgICBjbGFzc05hbWUgPSAnICcgKyBjbGFzc05hbWUgKyAnICc7CgogICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkLCBjbjsgY2hpbGQgPSBub2Rlc1tpXTsgaSsrKSB7CiAgICAgIGlmIChjaGlsZC5jbGFzc05hbWUgJiYgKGNuID0gJyAnICsgY2hpbGQuY2xhc3NOYW1lICsgJyAnKSAmJiAoY24uaW5jbHVkZShjbGFzc05hbWUpIHx8CiAgICAgICAgICAoY2xhc3NOYW1lcyAmJiBjbGFzc05hbWVzLmFsbChmdW5jdGlvbihuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiAhbmFtZS50b1N0cmluZygpLmJsYW5rKCkgJiYgY24uaW5jbHVkZSgnICcgKyBuYW1lICsgJyAnKTsKICAgICAgICAgIH0pKSkpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4dGVuZChjaGlsZCkpOwogICAgfQogICAgcmV0dXJuIGVsZW1lbnRzOwogIH07CgogIHJldHVybiBmdW5jdGlvbihjbGFzc05hbWUsIHBhcmVudEVsZW1lbnQpIHsKICAgIHJldHVybiAkKHBhcmVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpOwogIH07Cn0oRWxlbWVudC5NZXRob2RzKTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKRWxlbWVudC5DbGFzc05hbWVzID0gQ2xhc3MuY3JlYXRlKCk7CkVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKICB9LAoKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoL1xzKy8pLnNlbGVjdChmdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiBuYW1lLmxlbmd0aCA+IDA7CiAgICB9KS5fZWFjaChpdGVyYXRvciwgY29udGV4dCk7CiAgfSwKCiAgc2V0OiBmdW5jdGlvbihjbGFzc05hbWUpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7CiAgfSwKCiAgYWRkOiBmdW5jdGlvbihjbGFzc05hbWVUb0FkZCkgewogICAgaWYgKHRoaXMuaW5jbHVkZShjbGFzc05hbWVUb0FkZCkpIHJldHVybjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLmNvbmNhdChjbGFzc05hbWVUb0FkZCkuam9pbignICcpKTsKICB9LAoKICByZW1vdmU6IGZ1bmN0aW9uKGNsYXNzTmFtZVRvUmVtb3ZlKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShjbGFzc05hbWVUb1JlbW92ZSkpIHJldHVybjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLndpdGhvdXQoY2xhc3NOYW1lVG9SZW1vdmUpLmpvaW4oJyAnKSk7CiAgfSwKCiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICRBKHRoaXMpLmpvaW4oJyAnKTsKICB9Cn07CgpPYmplY3QuZXh0ZW5kKEVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5cGUsIEVudW1lcmFibGUpOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgooZnVuY3Rpb24oKSB7CiAgd2luZG93LlNlbGVjdG9yID0gQ2xhc3MuY3JlYXRlKHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHsKICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbi5zdHJpcCgpOwogICAgfSwKCiAgICBmaW5kRWxlbWVudHM6IGZ1bmN0aW9uKHJvb3RFbGVtZW50KSB7CiAgICAgIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0KHRoaXMuZXhwcmVzc2lvbiwgcm9vdEVsZW1lbnQpOwogICAgfSwKCiAgICBtYXRjaDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoKGVsZW1lbnQsIHRoaXMuZXhwcmVzc2lvbik7CiAgICB9LAoKICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbjsKICAgIH0sCgogICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiIzxTZWxlY3RvcjogIiArIHRoaXMuZXhwcmVzc2lvbiArICI+IjsKICAgIH0KICB9KTsKCiAgT2JqZWN0LmV4dGVuZChTZWxlY3RvciwgewogICAgbWF0Y2hFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudHMsIGV4cHJlc3Npb24pIHsKICAgICAgdmFyIG1hdGNoID0gUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoLAogICAgICAgICAgcmVzdWx0cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsKICAgICAgICBpZiAobWF0Y2goZWxlbWVudCwgZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChFbGVtZW50LmV4dGVuZChlbGVtZW50KSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSwKCiAgICBmaW5kRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudHMsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICAgIGluZGV4ID0gaW5kZXggfHwgMDsKICAgICAgdmFyIG1hdGNoSW5kZXggPSAwLCBlbGVtZW50OwogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBlbGVtZW50ID0gZWxlbWVudHNbaV07CiAgICAgICAgaWYgKFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaChlbGVtZW50LCBleHByZXNzaW9uKSAmJiBpbmRleCA9PT0gbWF0Y2hJbmRleCsrKSB7CiAgICAgICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGZpbmRDaGlsZEVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9ucykgewogICAgICB2YXIgc2VsZWN0b3IgPSBleHByZXNzaW9ucy50b0FycmF5KCkuam9pbignLCAnKTsKICAgICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3Qoc2VsZWN0b3IsIGVsZW1lbnQgfHwgZG9jdW1lbnQpOwogICAgfQogIH0pOwp9KSgpOwo="></script>
    <script type="text/javascript"
            src="data:text/javascript;base64,Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtCi8vIGR1bmdlb24vbWFwX3N0eWxlLmpzCi8vCi8vIGNvcHlyaWdodCAoYykgMjAxMS0yMDE3IGRyb3cgPGRyb3dAYmluLnNoPgovLyBhbGwgcmlnaHRzIHJlc2VydmVkLgoKLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtCi8vIHVwZGF0ZSBpbWFnZQoKICBmdW5jdGlvbiB1cGRhdGVfaW1nIChmaWVsZCkgewogICAgdmFyIHF1ZXJ5ID0gewogICAgICAnY2FjaGVfaWQnOiAgICAgICAkKCdpbi1jYWNoZV9pZCcpLnZhbHVlLAogICAgICAnbWFwX3N0eWxlJzogICAgICAkKCdpbi1tYXBfc3R5bGUnKS5nZXRWYWx1ZSgpLAogICAgICAnZ3JpZCc6ICAgICAgICAgICAkKCdpbi1ncmlkJykuZ2V0VmFsdWUoKQogICAgfTsKICAgIHZhciBvcHRzID0geyAnbWV0aG9kJzogJ2dldCcsICdwYXJhbWV0ZXJzJzogcXVlcnksCiAgICAgICdvblN1Y2Nlc3MnOiBmdW5jdGlvbiAocmVxKSB7IHVwZGF0ZV9pbWdfc3JjKHJlcSk7IH0sCiAgICAgICdvbkZhaWx1cmUnOiBmdW5jdGlvbiAocmVxKSB7IHVwZGF0ZV9pbWdfZXJyb3IocmVxLnN0YXR1c1RleHQpOyB9LAogICAgICAnb25FeGNlcHRpb24nOiBmdW5jdGlvbiAocmVxLGVycikgeyB1cGRhdGVfaW1nX2Vycm9yKCdTeXN0ZW0gRXJyb3InKTsgfQogICAgfTsKICAgIG5ldyBBamF4LlJlcXVlc3QoJy9mYW50YXN5L2R1bmdlb24vbGliL2ltYWdlLmNnaScsb3B0cyk7CiAgICAkKCd3b3JraW5nJykuc2hvdygpOyAkKCd2YXJpYW50cycpLmhpZGUoKTsKICAgIHJldHVybiB0cnVlOwogIH0KICBmdW5jdGlvbiB1cGRhdGVfaW1nX3NyYyAocmVxKSB7CiAgICBpZiAocmVxLnJlc3BvbnNlSlNPTikgewogICAgICB1cGRhdGUgPSByZXEucmVzcG9uc2VKU09OOwogICAgfSBlbHNlIGlmIChyZXEucmVzcG9uc2VUZXh0KSB7CiAgICAgIHVwZGF0ZSA9IHJlcS5yZXNwb25zZVRleHQuZXZhbEpTT04oKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB1cGRhdGVfaW1nX2Vycm9yKCdObyByZXNwb25zZScpOwogICAgfQogICAgJCgnbWFwX2ltZycpLnNyYyA9IHVwZGF0ZS51cmk7CiAgICAkKCd3b3JraW5nJykuaGlkZSgpOyAkKCd2YXJpYW50cycpLnNob3coKTsKICB9CiAgZnVuY3Rpb24gdXBkYXRlX2ltZ19lcnJvciAodGV4dCkgewogICAgYWxlcnQodGV4dCk7ICQoJ3dvcmtpbmcnKS5oaWRlKCk7ICQoJ3ZhcmlhbnRzJykuc2hvdygpOwogIH0KCi8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLQovLyBkb3dubG9hZCBmaWxlCgogIGZ1bmN0aW9uIGRvd25sb2FkX2ZpbGUgKGZvcm0pIHsKICAgIHZhciBxdWVyeSA9IHsKICAgICAgJ2NhY2hlX2lkJzogJCgnaW4tY2FjaGVfaWQnKS52YWx1ZSwKICAgIH07CiAgICB2YXIgb3B0cyA9IHsgJ21ldGhvZCc6ICdnZXQnLCAncGFyYW1ldGVycyc6IHF1ZXJ5LAogICAgICAnb25TdWNjZXNzJzogZnVuY3Rpb24gKHJlcSkgeyBkb3dubG9hZF9maWxlX3NyYyhyZXEpOyB9LAogICAgICAnb25GYWlsdXJlJzogZnVuY3Rpb24gKHJlcSkgeyBkb3dubG9hZF9maWxlX2Vycm9yKHJlcS5zdGF0dXNUZXh0KTsgfSwKICAgICAgJ29uRXhjZXB0aW9uJzogZnVuY3Rpb24gKHJlcSxlcnIpIHsgZG93bmxvYWRfZmlsZV9lcnJvcignU3lzdGVtIEVycm9yJyk7IH0KICAgIH07CiAgICBuZXcgQWpheC5SZXF1ZXN0KGZvcm0uYWN0aW9uLG9wdHMpOwogICAgJCgnd29ya2luZycpLnNob3coKTsgJCgndmFyaWFudHMnKS5oaWRlKCk7CiAgfQogIGZ1bmN0aW9uIGRvd25sb2FkX2ZpbGVfc3JjIChyZXEpIHsKICAgIGlmIChyZXEucmVzcG9uc2VKU09OKSB7CiAgICAgIHJlc3BvbnNlID0gcmVxLnJlc3BvbnNlSlNPTjsKICAgIH0gZWxzZSBpZiAocmVxLnJlc3BvbnNlVGV4dCkgewogICAgICByZXNwb25zZSA9IHJlcS5yZXNwb25zZVRleHQuZXZhbEpTT04oKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBkb3dubG9hZF9maWxlX2Vycm9yKCdObyByZXNwb25zZScpOwogICAgfQogICAgd2luZG93LmxvY2F0aW9uID0gcmVzcG9uc2UudXJpOwogICAgJCgnd29ya2luZycpLmhpZGUoKTsgJCgndmFyaWFudHMnKS5zaG93KCk7CiAgfQogIGZ1bmN0aW9uIGRvd25sb2FkX2ZpbGVfZXJyb3IgKHRleHQpIHsKICAgIGFsZXJ0KHRleHQpOyAkKCd3b3JraW5nJykuaGlkZSgpOyAkKCd2YXJpYW50cycpLnNob3coKTsKICB9CgovLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0K"></script>
</head>
<body>
<h1>The Labyrinth</h1>
<h2 class="center">Level 5</h2>
<p class="map"><img id="map_img"
                    src="data:image/png;base64,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"
                    alt="" usemap="#dungeon"/></p>
<p class="legend"><img
        src="data:image/gif;base64,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"
        alt=""/></p>
<div>
    <map id="dungeon" name="dungeon">
        <area href="#a" alt="Rune of Paralyzation" title="Rune of Paralyzation" shape="rect" coords="770,14,784,28"/>
        <area href="#c" alt="An iron chandelier hangs from the ceiling here"
              title="An iron chandelier hangs from the ceiling here" shape="rect" coords="826,98,840,112"/>
        <area href="#e" alt="Part of the ceiling has collapsed into the corridor"
              title="Part of the ceiling has collapsed into the corridor" shape="rect" coords="70,350,84,364"/>
        <area href="#i" alt="Shrine of Evil" title="Shrine of Evil" shape="rect" coords="882,378,896,392"/>
        <area href="#m" alt="Arrow Blaster" title="Arrow Blaster" shape="rect" coords="602,406,616,420"/>
        <area href="#n" alt="A group of demonic faces have been carved into the walls"
              title="A group of demonic faces have been carved into the walls" shape="rect" coords="266,882,280,896"/>
        <area href="#r" alt="A group of demonic faces have been carved into the walls"
              title="A group of demonic faces have been carved into the walls" shape="rect" coords="798,938,812,952"/>
        <area href="#s" alt="Someone has scrawled &quot;The Arrows of Gisuinio looted this place&quot; here"
              title="Someone has scrawled &quot;The Arrows of Gisuinio looted this place&quot; here" shape="rect"
              coords="854,966,868,980"/>
        <area href="#u" alt="A chute descends from the corridor into a natural cavern below"
              title="A chute descends from the corridor into a natural cavern below" shape="rect"
              coords="994,1218,1008,1232"/>
        <area href="#v" alt="Several alcoves are cut into the walls here"
              title="Several alcoves are cut into the walls here" shape="rect" coords="182,1274,196,1288"/>
        <area href="#1" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="42,14,112,84"/>
        <area href="#2" alt="30' x 50', 1 x Chimera" title="30' x 50', 1 x Chimera" shape="rect"
              coords="154,14,196,84"/>
        <area href="#3" alt="30' x 30', 1 x Ghost" title="30' x 30', 1 x Ghost" shape="rect" coords="210,14,252,56"/>
        <area href="#4" alt="30' x 30', 1 x Umber Hulk" title="30' x 30', 1 x Umber Hulk" shape="rect"
              coords="294,14,336,56"/>
        <area href="#5" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="406,14,476,84"/>
        <area href="#6" alt="30' x 50', 1 x Otyugh, Guillotine Blade" title="30' x 50', 1 x Otyugh, Guillotine Blade"
              shape="rect" coords="574,14,616,84"/>
        <area href="#7" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="826,14,868,84"/>
        <area href="#8" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="350,42,392,84"/>
        <area href="#9" alt="30' x 50', Magic Missle Trap, Hidden Treasure"
              title="30' x 50', Magic Missle Trap, Hidden Treasure" shape="rect" coords="490,42,532,112"/>
        <area href="#10" alt="30' x 50', Hobgoblin Warlord and 1 x Hobgoblin"
              title="30' x 50', Hobgoblin Warlord and 1 x Hobgoblin" shape="rect" coords="630,42,672,112"/>
        <area href="#11" alt="50' x 50', 1 x Stone Giant and 1 x Cave Bear"
              title="50' x 50', 1 x Stone Giant and 1 x Cave Bear" shape="rect" coords="686,42,756,112"/>
        <area href="#12" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="770,42,812,84"/>
        <area href="#13" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="882,42,952,112"/>
        <area href="#14" alt="30' x 30', Half-Red Dragon Veteran and 1 x Thug"
              title="30' x 30', Half-Red Dragon Veteran and 1 x Thug" shape="rect" coords="966,42,1008,84"/>
        <area href="#15" alt="50' x 30', 1 x Chimera" title="50' x 30', 1 x Chimera" shape="rect"
              coords="210,70,280,112"/>
        <area href="#16" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="294,70,336,140"/>
        <area href="#17" alt="50' x 30', Hobgoblin Warlord and 1 x Hobgoblin"
              title="50' x 30', Hobgoblin Warlord and 1 x Hobgoblin" shape="rect" coords="14,98,84,140"/>
        <area href="#18" alt="50' x 50', 1 x Beholder Zombie" title="50' x 50', 1 x Beholder Zombie" shape="rect"
              coords="98,98,168,168"/>
        <area href="#19" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="350,98,420,168"/>
        <area href="#20" alt="30' x 50', Magic Missle Trap" title="30' x 50', Magic Missle Trap" shape="rect"
              coords="434,98,476,168"/>
        <area href="#21" alt="30' x 30', Hidden Treasure" title="30' x 30', Hidden Treasure" shape="rect"
              coords="546,98,588,140"/>
        <area href="#22" alt="30' x 50', 2 x Chuul" title="30' x 50', 2 x Chuul" shape="rect" coords="770,98,812,168"/>
        <area href="#23" alt="30' x 50', 1 x Umber Hulk" title="30' x 50', 1 x Umber Hulk" shape="rect"
              coords="966,98,1008,168"/>
        <area href="#24" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="182,126,252,168"/>
        <area href="#25" alt="30' x 50', Half-Red Dragon Veteran and 1 x Veteran"
              title="30' x 50', Half-Red Dragon Veteran and 1 x Veteran" shape="rect" coords="490,126,532,196"/>
        <area href="#26" alt="50' x 30', Wraith and 1 x Specter" title="50' x 30', Wraith and 1 x Specter" shape="rect"
              coords="602,126,672,168"/>
        <area href="#27" alt="30' x 30', Hidden Treasure" title="30' x 30', Hidden Treasure" shape="rect"
              coords="686,126,728,168"/>
        <area href="#28" alt="50' x 30', Hidden Treasure" title="50' x 30', Hidden Treasure" shape="rect"
              coords="826,126,896,168"/>
        <area href="#29" alt="30' x 30', Orc War Chief and 6 x Orc" title="30' x 30', Orc War Chief and 6 x Orc"
              shape="rect" coords="42,154,84,196"/>
        <area href="#30" alt="50' x 50', Roper and 1 x Piercer" title="50' x 50', Roper and 1 x Piercer" shape="rect"
              coords="266,154,336,224"/>
        <area href="#31" alt="30' x 50', Wraith and 1 x Wight" title="30' x 50', Wraith and 1 x Wight" shape="rect"
              coords="546,154,588,224"/>
        <area href="#32" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="98,182,140,252"/>
        <area href="#33" alt="50' x 30', Half-Red Dragon Veteran and 1 x Thug, Hidden Treasure"
              title="50' x 30', Half-Red Dragon Veteran and 1 x Thug, Hidden Treasure" shape="rect"
              coords="154,182,224,224"/>
        <area href="#34" alt="50' x 30', Thunder Blaster, Hidden Treasure"
              title="50' x 30', Thunder Blaster, Hidden Treasure" shape="rect" coords="350,182,420,224"/>
        <area href="#35" alt="50' x 30', 1 x Otyugh" title="50' x 30', 1 x Otyugh" shape="rect"
              coords="602,182,672,224"/>
        <area href="#36" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="686,182,728,252"/>
        <area href="#37" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="742,182,812,224"/>
        <area href="#38" alt="30' x 30', Red Dragon Wyrmling and 1 x Kobold, Hidden Treasure"
              title="30' x 30', Red Dragon Wyrmling and 1 x Kobold, Hidden Treasure" shape="rect"
              coords="826,182,868,224"/>
        <area href="#39" alt="30' x 50', 1 x Chimera" title="30' x 50', 1 x Chimera" shape="rect"
              coords="882,182,924,252"/>
        <area href="#40" alt="30' x 50', Poison Gas Trap" title="30' x 50', Poison Gas Trap" shape="rect"
              coords="938,182,980,252"/>
        <area href="#41" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="14,210,56,252"/>
        <area href="#42" alt="50' x 50', 1 x Cyclops" title="50' x 50', 1 x Cyclops" shape="rect"
              coords="434,210,504,280"/>
        <area href="#43" alt="30' x 50', 1 x Black Pudding" title="30' x 50', 1 x Black Pudding" shape="rect"
              coords="154,238,196,308"/>
        <area href="#44" alt="30' x 30', Hobgoblin Warlord and 1 x Hobgoblin"
              title="30' x 30', Hobgoblin Warlord and 1 x Hobgoblin" shape="rect" coords="210,238,252,280"/>
        <area href="#45" alt="30' x 50', 2 x Ghost" title="30' x 50', 2 x Ghost" shape="rect" coords="266,238,308,308"/>
        <area href="#46" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="322,238,364,308"/>
        <area href="#47" alt="30' x 30', Ice Spear Trap, Hidden Treasure"
              title="30' x 30', Ice Spear Trap, Hidden Treasure" shape="rect" coords="378,238,420,280"/>
        <area href="#48" alt="30' x 30', 1 x Black Pudding" title="30' x 30', 1 x Black Pudding" shape="rect"
              coords="518,238,560,280"/>
        <area href="#49" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="574,238,616,308"/>
        <area href="#50" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="630,238,672,280"/>
        <area href="#51" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="742,238,784,280"/>
        <area href="#52" alt="30' x 30', 1 x Chimera" title="30' x 30', 1 x Chimera" shape="rect"
              coords="798,238,840,280"/>
        <area href="#53" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="42,266,112,336"/>
        <area href="#54" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="854,266,896,336"/>
        <area href="#55" alt="50' x 30', Grick Alpha and 1 x Grick, Falling Cage Trap"
              title="50' x 30', Grick Alpha and 1 x Grick, Falling Cage Trap" shape="rect" coords="910,266,980,308"/>
        <area href="#56" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="210,294,252,364"/>
        <area href="#57" alt="30' x 50', 2 x Flameskull" title="30' x 50', 2 x Flameskull" shape="rect"
              coords="378,294,420,364"/>
        <area href="#58" alt="50' x 30', 1 x Black Pudding" title="50' x 30', 1 x Black Pudding" shape="rect"
              coords="434,294,504,336"/>
        <area href="#59" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="630,294,672,364"/>
        <area href="#60" alt="30' x 50', Magic Missle Trap" title="30' x 50', Magic Missle Trap" shape="rect"
              coords="686,294,728,364"/>
        <area href="#61" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="742,294,784,364"/>
        <area href="#62" alt="50' x 30', 1 x Wraith" title="50' x 30', 1 x Wraith" shape="rect"
              coords="126,322,196,364"/>
        <area href="#63" alt="50' x 30', Orc War Chief and 1 x Orc, Poisoned Net Trap"
              title="50' x 30', Orc War Chief and 1 x Orc, Poisoned Net Trap" shape="rect" coords="266,322,336,364"/>
        <area href="#64" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="518,322,560,392"/>
        <area href="#65" alt="30' x 50', Guillotine Blade, Hidden Treasure"
              title="30' x 50', Guillotine Blade, Hidden Treasure" shape="rect" coords="574,322,616,392"/>
        <area href="#66" alt="30' x 50', Half-Red Dragon Veteran and 1 x Thug"
              title="30' x 50', Half-Red Dragon Veteran and 1 x Thug" shape="rect" coords="910,322,952,392"/>
        <area href="#67" alt="30' x 30', 1 x Xorn" title="30' x 30', 1 x Xorn" shape="rect" coords="966,322,1008,364"/>
        <area href="#68" alt="30' x 50', 1 x Wraith" title="30' x 50', 1 x Wraith" shape="rect" coords="14,350,56,420"/>
        <area href="#69" alt="30' x 30', Red Dragon Wyrmling and 2 x Magma Mephit"
              title="30' x 30', Red Dragon Wyrmling and 2 x Magma Mephit" shape="rect" coords="434,350,476,392"/>
        <area href="#70" alt="50' x 30', 1 x Troll, Shrine of Law" title="50' x 30', 1 x Troll, Shrine of Law"
              shape="rect" coords="798,350,868,392"/>
        <area href="#71" alt="30' x 50', 1 x Drider" title="30' x 50', 1 x Drider" shape="rect"
              coords="70,378,112,448"/>
        <area href="#72" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="126,378,196,420"/>
        <area href="#73" alt="50' x 50', 1 x Wraith, Hidden Treasure" title="50' x 50', 1 x Wraith, Hidden Treasure"
              shape="rect" coords="210,378,280,448"/>
        <area href="#74" alt="50' x 50', 1 x Ghost" title="50' x 50', 1 x Ghost" shape="rect" coords="294,378,364,448"/>
        <area href="#75" alt="30' x 30', 2 x Flameskull" title="30' x 30', 2 x Flameskull" shape="rect"
              coords="378,378,420,420"/>
        <area href="#76" alt="30' x 50', 1 x Ettin" title="30' x 50', 1 x Ettin" shape="rect" coords="630,378,672,448"/>
        <area href="#77" alt="30' x 50', 1 x Stone Giant and 1 x Cave Bear"
              title="30' x 50', 1 x Stone Giant and 1 x Cave Bear" shape="rect" coords="686,378,728,448"/>
        <area href="#78" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="966,378,1008,448"/>
        <area href="#79" alt="30' x 30', Orc War Chief and 5 x Orc, Arrow Blaster"
              title="30' x 30', Orc War Chief and 5 x Orc, Arrow Blaster" shape="rect" coords="434,406,476,448"/>
        <area href="#80" alt="50' x 30', 1 x Beholder Zombie" title="50' x 30', 1 x Beholder Zombie" shape="rect"
              coords="490,406,560,448"/>
        <area href="#81" alt="50' x 50', 1 x Stone Giant" title="50' x 50', 1 x Stone Giant" shape="rect"
              coords="742,406,812,476"/>
        <area href="#82" alt="30' x 30', Falling Cage Trap" title="30' x 30', Falling Cage Trap" shape="rect"
              coords="826,406,868,448"/>
        <area href="#83" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="882,406,924,476"/>
        <area href="#84" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="126,434,168,476"/>
        <area href="#85" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="378,434,420,504"/>
        <area href="#86" alt="50' x 30', 2 x Chuul, Barbed Net Trap" title="50' x 30', 2 x Chuul, Barbed Net Trap"
              shape="rect" coords="14,462,84,504"/>
        <area href="#87" alt="50' x 50', Arrow Blaster" title="50' x 50', Arrow Blaster" shape="rect"
              coords="182,462,252,532"/>
        <area href="#88" alt="30' x 30', Red Dragon Wyrmling and 1 x Kobold"
              title="30' x 30', Red Dragon Wyrmling and 1 x Kobold" shape="rect" coords="266,462,308,504"/>
        <area href="#89" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="434,462,476,504"/>
        <area href="#90" alt="50' x 50', Roper and 1 x Piercer, Shrine of Evil, Hidden Treasure"
              title="50' x 50', Roper and 1 x Piercer, Shrine of Evil, Hidden Treasure" shape="rect"
              coords="490,462,560,532"/>
        <area href="#91" alt="30' x 50', Drider and 1 x Giant Spider" title="30' x 50', Drider and 1 x Giant Spider"
              shape="rect" coords="574,462,616,532"/>
        <area href="#92" alt="50' x 30', 2 x Bone Naga" title="50' x 30', 2 x Bone Naga" shape="rect"
              coords="630,462,700,504"/>
        <area href="#93" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="938,462,980,532"/>
        <area href="#94" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="98,490,168,560"/>
        <area href="#95" alt="30' x 30', Hidden Treasure" title="30' x 30', Hidden Treasure" shape="rect"
              coords="322,490,364,532"/>
        <area href="#96" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="714,490,756,532"/>
        <area href="#97" alt="50' x 30', Roper and 2 x Piercer, Concealed Pit with Spikes, Hidden Treasure"
              title="50' x 30', Roper and 2 x Piercer, Concealed Pit with Spikes, Hidden Treasure" shape="rect"
              coords="770,490,840,532"/>
        <area href="#98" alt="30' x 50', 1 x Wraith" title="30' x 50', 1 x Wraith" shape="rect"
              coords="854,490,896,560"/>
        <area href="#99" alt="50' x 50', 1 x Beholder Zombie" title="50' x 50', 1 x Beholder Zombie" shape="rect"
              coords="14,518,84,588"/>
        <area href="#100" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="266,518,308,560"/>
        <area href="#101" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="378,518,448,588"/>
        <area href="#102" alt="50' x 30', Half-Red Dragon Veteran and 1 x Thug"
              title="50' x 30', Half-Red Dragon Veteran and 1 x Thug" shape="rect" coords="630,518,700,560"/>
        <area href="#103" alt="50' x 30', 1 x Otyugh" title="50' x 30', 1 x Otyugh" shape="rect"
              coords="182,546,252,588"/>
        <area href="#104" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="462,546,504,616"/>
        <area href="#105" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="518,546,560,616"/>
        <area href="#106" alt="30' x 50', 1 x Ghost" title="30' x 50', 1 x Ghost" shape="rect"
              coords="574,546,616,616"/>
        <area href="#107" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="714,546,756,588"/>
        <area href="#108" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="770,546,812,588"/>
        <area href="#109" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="910,546,952,588"/>
        <area href="#110" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="966,546,1008,588"/>
        <area href="#111" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="98,574,168,644"/>
        <area href="#112" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="266,574,336,644"/>
        <area href="#113" alt="30' x 50', Orc War Chief and 5 x Orc, Hidden Treasure"
              title="30' x 50', Orc War Chief and 5 x Orc, Hidden Treasure" shape="rect" coords="630,574,672,644"/>
        <area href="#114" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="826,574,896,616"/>
        <area href="#115" alt="30' x 50', 2 x Flameskull" title="30' x 50', 2 x Flameskull" shape="rect"
              coords="42,602,84,672"/>
        <area href="#116" alt="30' x 30', Earthmaw Trap" title="30' x 30', Earthmaw Trap" shape="rect"
              coords="182,602,224,644"/>
        <area href="#117" alt="30' x 30', Orc War Chief and 5 x Orc" title="30' x 30', Orc War Chief and 5 x Orc"
              shape="rect" coords="350,602,392,644"/>
        <area href="#118" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="686,602,756,672"/>
        <area href="#119" alt="30' x 50', Red Dragon Wyrmling and 8 x Kobold"
              title="30' x 50', Red Dragon Wyrmling and 8 x Kobold" shape="rect" coords="770,602,812,672"/>
        <area href="#120" alt="50' x 30', Drider and 1 x Giant Spider" title="50' x 30', Drider and 1 x Giant Spider"
              shape="rect" coords="910,602,980,644"/>
        <area href="#121" alt="30' x 30', 1 x Flameskull" title="30' x 30', 1 x Flameskull" shape="rect"
              coords="406,630,448,672"/>
        <area href="#122" alt="30' x 50', 1 x Stone Giant, Poisoned Arrow Trap"
              title="30' x 50', 1 x Stone Giant, Poisoned Arrow Trap" shape="rect" coords="462,630,504,700"/>
        <area href="#123" alt="50' x 50', 2 x Bone Naga" title="50' x 50', 2 x Bone Naga" shape="rect"
              coords="518,630,588,700"/>
        <area href="#124" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="826,630,896,672"/>
        <area href="#125" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="98,658,140,728"/>
        <area href="#126" alt="50' x 50', Orc War Chief and 6 x Orc" title="50' x 50', Orc War Chief and 6 x Orc"
              shape="rect" coords="154,658,224,728"/>
        <area href="#127" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="238,658,308,700"/>
        <area href="#128" alt="50' x 50', Roper and 2 x Piercer" title="50' x 50', Roper and 2 x Piercer" shape="rect"
              coords="322,658,392,728"/>
        <area href="#129" alt="50' x 30', Arrow Blaster" title="50' x 30', Arrow Blaster" shape="rect"
              coords="602,658,672,700"/>
        <area href="#130" alt="50' x 50', 1 x Ettin" title="50' x 50', 1 x Ettin" shape="rect"
              coords="910,658,980,728"/>
        <area href="#131" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="14,686,84,728"/>
        <area href="#132" alt="30' x 50', Guillotine Blade" title="30' x 50', Guillotine Blade" shape="rect"
              coords="406,686,448,756"/>
        <area href="#133" alt="50' x 30', Hidden Treasure" title="50' x 30', Hidden Treasure" shape="rect"
              coords="686,686,756,728"/>
        <area href="#134" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="770,686,840,756"/>
        <area href="#135" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="238,714,308,756"/>
        <area href="#136" alt="50' x 50', 1 x Stone Giant" title="50' x 50', 1 x Stone Giant" shape="rect"
              coords="462,714,532,784"/>
        <area href="#137" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="546,714,616,756"/>
        <area href="#138" alt="30' x 30', 1 x Troll" title="30' x 30', 1 x Troll" shape="rect"
              coords="630,714,672,756"/>
        <area href="#139" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="42,742,84,812"/>
        <area href="#140" alt="30' x 30', Orc War Chief and 6 x Orc" title="30' x 30', Orc War Chief and 6 x Orc"
              shape="rect" coords="98,742,140,784"/>
        <area href="#141" alt="50' x 50', Half-Red Dragon Veteran and 3 x Thug"
              title="50' x 50', Half-Red Dragon Veteran and 3 x Thug" shape="rect" coords="154,742,224,812"/>
        <area href="#142" alt="30' x 50', 1 x Drider" title="30' x 50', 1 x Drider" shape="rect"
              coords="322,742,364,812"/>
        <area href="#143" alt="50' x 50', 2 x Bone Naga" title="50' x 50', 2 x Bone Naga" shape="rect"
              coords="686,742,756,812"/>
        <area href="#144" alt="30' x 50', Half-Red Dragon Veteran and 1 x Veteran"
              title="30' x 50', Half-Red Dragon Veteran and 1 x Veteran" shape="rect" coords="854,742,896,812"/>
        <area href="#145" alt="50' x 50', 1 x Earth Elemental" title="50' x 50', 1 x Earth Elemental" shape="rect"
              coords="910,742,980,812"/>
        <area href="#146" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="238,770,280,812"/>
        <area href="#147" alt="50' x 30', 1 x Troll" title="50' x 30', 1 x Troll" shape="rect"
              coords="378,770,448,812"/>
        <area href="#148" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="546,770,588,812"/>
        <area href="#149" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="602,770,644,840"/>
        <area href="#150" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="770,770,812,812"/>
        <area href="#151" alt="50' x 30', 2 x Chuul" title="50' x 30', 2 x Chuul" shape="rect"
              coords="462,798,532,840"/>
        <area href="#152" alt="50' x 30', Poisoned Net Trap" title="50' x 30', Poisoned Net Trap" shape="rect"
              coords="42,826,112,868"/>
        <area href="#153" alt="30' x 30', Symbol of Panic" title="30' x 30', Symbol of Panic" shape="rect"
              coords="126,826,168,868"/>
        <area href="#154" alt="30' x 30', 2 x Ghost" title="30' x 30', 2 x Ghost" shape="rect"
              coords="182,826,224,868"/>
        <area href="#155" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="238,826,280,868"/>
        <area href="#156" alt="30' x 50', 1 x Otyugh" title="30' x 50', 1 x Otyugh" shape="rect"
              coords="294,826,336,896"/>
        <area href="#157" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="350,826,420,896"/>
        <area href="#158" alt="50' x 50', Red Dragon Wyrmling and 2 x Magma Mephit"
              title="50' x 50', Red Dragon Wyrmling and 2 x Magma Mephit" shape="rect" coords="658,826,728,896"/>
        <area href="#159" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="742,826,812,868"/>
        <area href="#160" alt="30' x 30', Large Electrified Floortile, Hidden Treasure"
              title="30' x 30', Large Electrified Floortile, Hidden Treasure" shape="rect" coords="826,826,868,868"/>
        <area href="#161" alt="30' x 50', Wraith and 1 x Wight" title="30' x 50', Wraith and 1 x Wight" shape="rect"
              coords="882,826,924,896"/>
        <area href="#162" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="938,826,980,896"/>
        <area href="#163" alt="50' x 30', 1 x Troll, Hidden Treasure" title="50' x 30', 1 x Troll, Hidden Treasure"
              shape="rect" coords="434,854,504,896"/>
        <area href="#164" alt="50' x 30', Roper and 1 x Piercer" title="50' x 30', Roper and 1 x Piercer" shape="rect"
              coords="518,854,588,896"/>
        <area href="#165" alt="30' x 30', Orc War Chief and 6 x Orc" title="30' x 30', Orc War Chief and 6 x Orc"
              shape="rect" coords="14,882,56,924"/>
        <area href="#166" alt="50' x 30', 1 x Chuul" title="50' x 30', 1 x Chuul" shape="rect" coords="70,882,140,924"/>
        <area href="#167" alt="30' x 50', 2 x Flameskull" title="30' x 50', 2 x Flameskull" shape="rect"
              coords="154,882,196,952"/>
        <area href="#168" alt="30' x 30', 1 x Stone Giant" title="30' x 30', 1 x Stone Giant" shape="rect"
              coords="210,882,252,924"/>
        <area href="#169" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="742,882,812,924"/>
        <area href="#170" alt="50' x 50', 1 x Ettin" title="50' x 50', 1 x Ettin" shape="rect"
              coords="266,910,336,980"/>
        <area href="#171" alt="50' x 50', 1 x Cyclops" title="50' x 50', 1 x Cyclops" shape="rect"
              coords="350,910,420,980"/>
        <area href="#172" alt="30' x 50', Teleporter Crystal" title="30' x 50', Teleporter Crystal" shape="rect"
              coords="434,910,476,980"/>
        <area href="#173" alt="30' x 50', Troll and 1 x Ogre" title="30' x 50', Troll and 1 x Ogre" shape="rect"
              coords="490,910,532,980"/>
        <area href="#174" alt="50' x 30', 1 x Flameskull" title="50' x 30', 1 x Flameskull" shape="rect"
              coords="546,910,616,952"/>
        <area href="#175" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="630,910,700,952"/>
        <area href="#176" alt="50' x 30', Troll and 1 x Ogre" title="50' x 30', Troll and 1 x Ogre" shape="rect"
              coords="826,910,896,952"/>
        <area href="#177" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="910,910,980,980"/>
        <area href="#178" alt="30' x 30', 1 x Xorn" title="30' x 30', 1 x Xorn" shape="rect" coords="42,938,84,980"/>
        <area href="#179" alt="30' x 30', 1 x Ghost" title="30' x 30', 1 x Ghost" shape="rect"
              coords="714,938,756,980"/>
        <area href="#180" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="98,966,140,1008"/>
        <area href="#181" alt="30' x 50', 1 x Stone Giant and 1 x Cave Bear"
              title="30' x 50', 1 x Stone Giant and 1 x Cave Bear" shape="rect" coords="154,966,196,1036"/>
        <area href="#182" alt="30' x 50', 1 x Cyclops" title="30' x 50', 1 x Cyclops" shape="rect"
              coords="210,966,252,1036"/>
        <area href="#183" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="546,966,616,1008"/>
        <area href="#184" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="630,966,672,1036"/>
        <area href="#185" alt="50' x 50', 1 x Xorn" title="50' x 50', 1 x Xorn" shape="rect" coords="770,966,840,1036"/>
        <area href="#186" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="42,994,84,1036"/>
        <area href="#187" alt="30' x 30', Wraith and 1 x Wight" title="30' x 30', Wraith and 1 x Wight" shape="rect"
              coords="266,994,308,1036"/>
        <area href="#188" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="322,994,392,1036"/>
        <area href="#189" alt="30' x 30', Shrine of Evil" title="30' x 30', Shrine of Evil" shape="rect"
              coords="406,994,448,1036"/>
        <area href="#190" alt="30' x 50', Red Dragon Wyrmling and 2 x Magma Mephit, Poisoned Net Trap, Hidden Treasure"
              title="30' x 50', Red Dragon Wyrmling and 2 x Magma Mephit, Poisoned Net Trap, Hidden Treasure"
              shape="rect" coords="462,994,504,1064"/>
        <area href="#191" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="686,994,728,1036"/>
        <area href="#192" alt="30' x 50', Drider and 1 x Giant Spider" title="30' x 50', Drider and 1 x Giant Spider"
              shape="rect" coords="854,994,896,1064"/>
        <area href="#193" alt="50' x 30', 1 x Beholder Zombie" title="50' x 30', 1 x Beholder Zombie" shape="rect"
              coords="910,994,980,1036"/>
        <area href="#194" alt="50' x 50', 1 x Stone Giant" title="50' x 50', 1 x Stone Giant" shape="rect"
              coords="518,1022,588,1092"/>
        <area href="#195" alt="30' x 30', 1 x Bone Naga" title="30' x 30', 1 x Bone Naga" shape="rect"
              coords="42,1050,84,1092"/>
        <area href="#196" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="98,1050,168,1092"/>
        <area href="#197" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="182,1050,252,1120"/>
        <area href="#198" alt="30' x 50', Wraith and 1 x Specter" title="30' x 50', Wraith and 1 x Specter" shape="rect"
              coords="266,1050,308,1120"/>
        <area href="#199" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="322,1050,364,1120"/>
        <area href="#200" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="378,1050,420,1120"/>
        <area href="#201" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="602,1050,644,1092"/>
        <area href="#202" alt="30' x 50', Half-Red Dragon Veteran and 3 x Thug"
              title="30' x 50', Half-Red Dragon Veteran and 3 x Thug" shape="rect" coords="658,1050,700,1120"/>
        <area href="#203" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="714,1050,756,1120"/>
        <area href="#204" alt="30' x 50', 2 x Flameskull" title="30' x 50', 2 x Flameskull" shape="rect"
              coords="770,1050,812,1120"/>
        <area href="#205" alt="30' x 50', Flamethrower" title="30' x 50', Flamethrower" shape="rect"
              coords="910,1050,952,1120"/>
        <area href="#206" alt="30' x 50', Roper and 3 x Piercer" title="30' x 50', Roper and 3 x Piercer" shape="rect"
              coords="966,1050,1008,1120"/>
        <area href="#207" alt="30' x 50', 2 x Bone Naga" title="30' x 50', 2 x Bone Naga" shape="rect"
              coords="434,1078,476,1148"/>
        <area href="#208" alt="30' x 50', Flamethrower" title="30' x 50', Flamethrower" shape="rect"
              coords="826,1078,868,1148"/>
        <area href="#209" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="42,1106,84,1176"/>
        <area href="#210" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="98,1106,140,1148"/>
        <area href="#211" alt="50' x 30', 1 x Chimera, Greater Acid Spray"
              title="50' x 30', 1 x Chimera, Greater Acid Spray" shape="rect" coords="490,1106,560,1148"/>
        <area href="#212" alt="50' x 50', 1 x Umber Hulk" title="50' x 50', 1 x Umber Hulk" shape="rect"
              coords="574,1106,644,1176"/>
        <area href="#213" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="154,1134,224,1204"/>
        <area href="#214" alt="50' x 50', Roper and 3 x Piercer, Greater Acid Spray"
              title="50' x 50', Roper and 3 x Piercer, Greater Acid Spray" shape="rect" coords="238,1134,308,1204"/>
        <area href="#215" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="322,1134,392,1176"/>
        <area href="#216" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="658,1134,728,1176"/>
        <area href="#217" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="742,1134,784,1204"/>
        <area href="#218" alt="50' x 30', Hobgoblin Warlord and 1 x Hobgoblin"
              title="50' x 30', Hobgoblin Warlord and 1 x Hobgoblin" shape="rect" coords="882,1134,952,1176"/>
        <area href="#219" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="966,1134,1008,1176"/>
        <area href="#220" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="98,1162,140,1204"/>
        <area href="#221" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="406,1162,476,1232"/>
        <area href="#222" alt="30' x 50', 1 x Drider" title="30' x 50', 1 x Drider" shape="rect"
              coords="490,1162,532,1232"/>
        <area href="#223" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="798,1162,840,1204"/>
        <area href="#224" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="322,1190,392,1232"/>
        <area href="#225" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="546,1190,616,1260"/>
        <area href="#226" alt="50' x 30', Grick Alpha and 1 x Grick" title="50' x 30', Grick Alpha and 1 x Grick"
              shape="rect" coords="630,1190,700,1232"/>
        <area href="#227" alt="50' x 50', Empty" title="50' x 50', Empty" shape="rect" coords="854,1190,924,1260"/>
        <area href="#228" alt="30' x 50', Empty" title="30' x 50', Empty" shape="rect" coords="938,1190,980,1260"/>
        <area href="#229" alt="30' x 30', Roper and 1 x Piercer" title="30' x 30', Roper and 1 x Piercer" shape="rect"
              coords="42,1218,84,1260"/>
        <area href="#230" alt="50' x 30', 1 x Bone Naga" title="50' x 30', 1 x Bone Naga" shape="rect"
              coords="98,1218,168,1260"/>
        <area href="#231" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="182,1218,252,1260"/>
        <area href="#232" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="266,1218,308,1260"/>
        <area href="#233" alt="30' x 30', Empty" title="30' x 30', Empty" shape="rect" coords="714,1218,756,1260"/>
        <area href="#234" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="770,1218,840,1260"/>
        <area href="#235" alt="50' x 30', Hidden Treasure" title="50' x 30', Hidden Treasure" shape="rect"
              coords="322,1246,392,1288"/>
        <area href="#236" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="406,1246,476,1288"/>
        <area href="#237" alt="50' x 30', Empty" title="50' x 30', Empty" shape="rect" coords="630,1246,700,1288"/>
        <area nohref="nohref" alt="Trapped and Unlocked Iron Door (60 hp)"
              title="Trapped and Unlocked Iron Door (60 hp)" shape="rect" coords="112,14,126,28"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides up)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides up)" shape="rect"
              coords="70,84,84,98"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Secret (DC 15 to find) Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="196,42,210,56"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="140,70,154,84"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="252,14,266,28"/>
        <area nohref="nohref" alt="Trapped and Unlocked Iron Door (60 hp)"
              title="Trapped and Unlocked Iron Door (60 hp)" shape="rect" coords="252,42,266,56"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="238,56,252,70"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Secret (DC 15 to find) Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="196,42,210,56"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="336,42,350,56"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="476,42,490,56"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="476,14,490,28"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)" shape="rect" coords="392,42,406,56"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="616,70,630,84"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="560,14,574,28"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Simple Wooden Door (10 hp)"
              title="Secret (DC 20 to find) Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="868,70,882,84"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)" shape="rect"
              coords="812,42,826,56"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)" shape="rect" coords="392,42,406,56"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="378,84,392,98"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="336,70,350,84"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="336,42,350,56"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="490,112,504,126"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="476,42,490,56"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="672,70,686,84"/>
        <area nohref="nohref"
              alt="Secret (DC 25 to find) Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Secret (DC 25 to find) Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              shape="rect" coords="616,98,630,112"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="616,70,630,84"/>
        <area nohref="nohref" alt="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="756,98,770,112"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="714,28,728,42"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="686,112,700,126"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="672,70,686,84"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)" shape="rect"
              coords="812,42,826,56"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp) (slides down)"
              title="Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp) (slides down)" shape="rect"
              coords="798,28,812,42"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp) (slides to one side)"
              title="Stuck Stone Door (DC 20 to break; 60 hp) (slides to one side)" shape="rect"
              coords="770,28,784,42"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="798,84,812,98"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="938,28,952,42"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="910,28,924,42"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Simple Wooden Door (10 hp)"
              title="Secret (DC 20 to find) Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="868,70,882,84"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="994,28,1008,42"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp) (slides down)"
              title="Secret (DC 20 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp) (slides down)"
              shape="rect" coords="994,84,1008,98"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="280,70,294,84"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="238,56,252,70"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="336,98,350,112"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="336,70,350,84"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp) (slides to one side)"
              title="Unlocked Good Wooden Door (15 hp) (slides to one side)" shape="rect" coords="322,140,336,154"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="280,126,294,140"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="280,70,294,84"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides up)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides up)" shape="rect"
              coords="70,84,84,98"/>
        <area nohref="nohref"
              alt="Trapped and Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp) (slides down)"
              title="Trapped and Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp) (slides down)"
              shape="rect" coords="42,140,56,154"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="126,168,140,182"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)"
              title="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)" shape="rect"
              coords="84,154,98,168"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="420,126,434,140"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="378,84,392,98"/>
        <area nohref="nohref" alt="Trapped and Unlocked Iron Door (60 hp)"
              title="Trapped and Unlocked Iron Door (60 hp)" shape="rect" coords="350,168,364,182"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="336,98,350,112"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="462,168,476,182"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="420,126,434,140"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="546,140,560,154"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="812,98,826,112"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="798,84,812,98"/>
        <area nohref="nohref" alt="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="770,168,784,182"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="756,126,770,140"/>
        <area nohref="nohref" alt="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="756,98,770,112"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp) (slides down)"
              title="Secret (DC 20 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp) (slides down)"
              shape="rect" coords="994,84,1008,98"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="994,168,1008,182"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="952,98,966,112"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="210,168,224,182"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="168,154,182,168"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="490,112,504,126"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect" coords="476,182,490,196"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides to one side)"
              title="Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides to one side)" shape="rect"
              coords="602,112,616,126"/>
        <area nohref="nohref" alt="Trapped Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)"
              title="Trapped Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)" shape="rect"
              coords="630,168,644,182"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="588,126,602,140"/>
        <area nohref="nohref" alt="Unlocked Iron Door (60 hp)" title="Unlocked Iron Door (60 hp)" shape="rect"
              coords="728,126,742,140"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="686,112,700,126"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="826,112,840,126"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="882,168,896,182"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="826,168,840,182"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)"
              title="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)" shape="rect"
              coords="84,154,98,168"/>
        <area nohref="nohref"
              alt="Trapped and Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp) (slides down)"
              title="Trapped and Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp) (slides down)"
              shape="rect" coords="42,140,56,154"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="70,196,84,210"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="28,154,42,168"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp) (slides to one side)"
              title="Unlocked Good Wooden Door (15 hp) (slides to one side)" shape="rect" coords="322,140,336,154"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="252,154,266,168"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="588,182,602,196"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="546,140,560,154"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="140,238,154,252"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="126,168,140,182"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="84,210,98,224"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="210,168,224,182"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="210,224,224,238"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="140,182,154,196"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="420,210,434,224"/>
        <area nohref="nohref" alt="Trapped and Unlocked Iron Door (60 hp)"
              title="Trapped and Unlocked Iron Door (60 hp)" shape="rect" coords="350,168,364,182"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="672,210,686,224"/>
        <area nohref="nohref" alt="Trapped Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)"
              title="Trapped Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)" shape="rect"
              coords="630,168,644,182"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)" shape="rect"
              coords="602,224,616,238"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="588,182,602,196"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="728,182,742,196"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="714,252,728,266"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="672,210,686,224"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="812,210,826,224"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="742,168,756,182"/>
        <area nohref="nohref" alt="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="770,168,784,182"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="742,224,756,238"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="728,182,742,196"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="826,168,840,182"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="812,210,826,224"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="910,168,924,182"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="882,168,896,182"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="882,252,896,266"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="980,210,994,224"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="938,168,952,182"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="14,196,28,210"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="14,252,28,266"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="504,210,518,224"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="420,238,434,252"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="420,210,434,224"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="140,238,154,252"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="252,238,266,252"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="238,224,252,238"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="210,224,224,238"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="196,238,210,252"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="308,266,322,280"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="252,238,266,252"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)" shape="rect" coords="364,266,378,280"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)"
              title="Secret (DC 15 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)"
              shape="rect" coords="322,308,336,322"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="308,266,322,280"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="420,238,434,252"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,280,420,294"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)" shape="rect" coords="364,266,378,280"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="560,238,574,252"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="546,280,560,294"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="574,224,588,238"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)" shape="rect"
              coords="602,224,616,238"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="602,308,616,322"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="560,238,574,252"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect" coords="672,266,686,280"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="630,280,644,294"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 15 to find) Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="784,238,798,252"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="742,224,756,238"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="728,238,742,252"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="728,266,742,280"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="840,238,854,252"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides to one side)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides to one side)" shape="rect"
              coords="840,266,854,280"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="826,280,840,294"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 15 to find) Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="784,238,798,252"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="112,322,126,336"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)"
              title="Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)" shape="rect"
              coords="42,336,56,350"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="896,294,910,308"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="896,322,910,336"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="882,252,896,266"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides to one side)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides to one side)" shape="rect"
              coords="840,266,854,280"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Trapped and Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect"
              coords="980,266,994,280"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="910,252,924,266"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="896,294,910,308"/>
        <area nohref="nohref" alt="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="238,280,252,294"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)" shape="rect" coords="420,322,434,336"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,280,420,294"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="364,294,378,308"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="462,336,476,350"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)" shape="rect" coords="420,322,434,336"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="630,280,644,294"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="728,350,742,364"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="686,280,700,294"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="784,350,798,364"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="770,364,784,378"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="742,364,756,378"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="728,350,742,364"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="182,308,196,322"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="182,364,196,378"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="112,322,126,336"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)"
              title="Secret (DC 15 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)"
              shape="rect" coords="322,308,336,322"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="252,350,266,364"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="560,378,574,392"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="546,308,560,322"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="602,308,616,322"/>
        <area nohref="nohref" alt="Unlocked Iron Door (60 hp)" title="Unlocked Iron Door (60 hp)" shape="rect"
              coords="574,392,588,406"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="602,392,616,406"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="560,378,574,392"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="938,308,952,322"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="896,350,910,364"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="896,322,910,336"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="994,308,1008,322"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="966,364,980,378"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="56,350,70,364"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)"
              title="Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)" shape="rect"
              coords="42,336,56,350"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="14,420,28,434"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="476,350,490,364"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="476,378,490,392"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="462,336,476,350"/>
        <area nohref="nohref"
              alt="Trapped and Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp) (magically reinforced, disadvantage to break)"
              title="Trapped and Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp) (magically reinforced, disadvantage to break)"
              shape="rect" coords="826,336,840,350"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="854,392,868,406"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="784,350,798,364"/>
        <area nohref="nohref"
              alt="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp) (slides to one side)"
              title="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp) (slides to one side)"
              shape="rect" coords="112,434,126,448"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="98,364,112,378"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="196,406,210,420"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="182,364,196,378"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp) (slides up)"
              title="Stuck Stone Door (DC 20 to break; 60 hp) (slides up)" shape="rect" coords="112,406,126,420"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="210,364,224,378"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="238,448,252,462"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="196,434,210,448"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="196,406,210,420"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="364,378,378,392"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="420,378,434,392"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="364,378,378,392"/>
        <area nohref="nohref" alt="Trapped and Unlocked Strong Wooden Door (20 hp)"
              title="Trapped and Unlocked Strong Wooden Door (20 hp)" shape="rect" coords="658,364,672,378"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)" shape="rect" coords="658,448,672,462"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="728,434,742,448"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="966,364,980,378"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="966,448,980,462"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="952,434,966,448"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="476,406,490,420"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="462,448,476,462"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="560,406,574,420"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="518,448,532,462"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="476,406,490,420"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Trapped and Unlocked Strong Wooden Door (20 hp)"
              title="Secret (DC 20 to find) Trapped and Unlocked Strong Wooden Door (20 hp)" shape="rect"
              coords="812,406,826,420"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="728,434,742,448"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="854,392,868,406"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect" coords="854,448,868,462"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Trapped and Unlocked Strong Wooden Door (20 hp)"
              title="Secret (DC 20 to find) Trapped and Unlocked Strong Wooden Door (20 hp)" shape="rect"
              coords="812,406,826,420"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Secret (DC 20 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="882,392,896,406"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="910,476,924,490"/>
        <area nohref="nohref" alt="Trapped and Unlocked Iron Door (60 hp)"
              title="Trapped and Unlocked Iron Door (60 hp)" shape="rect" coords="868,462,882,476"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="154,420,168,434"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Secret (DC 15 to find) Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect"
              coords="154,476,168,490"/>
        <area nohref="nohref"
              alt="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp) (slides to one side)"
              title="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp) (slides to one side)"
              shape="rect" coords="112,434,126,448"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="420,434,434,448"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="406,420,420,434"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="42,448,56,462"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="252,518,266,532"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="252,490,266,504"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="238,448,252,462"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="210,532,224,546"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="308,490,322,504"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="294,448,308,462"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="252,490,266,504"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="476,490,490,504"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="462,448,476,462"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="434,504,448,518"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="518,448,532,462"/>
        <area nohref="nohref"
              alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (magically reinforced, disadvantage to break)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (magically reinforced, disadvantage to break)"
              shape="rect" coords="546,532,560,546"/>
        <area nohref="nohref" alt="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="490,532,504,546"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="476,490,490,504"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="602,448,616,462"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="574,532,588,546"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)" shape="rect" coords="658,448,672,462"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp) (slides to one side)"
              title="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp) (slides to one side)" shape="rect"
              coords="630,504,644,518"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="966,448,980,462"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides down)"
              title="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides down)" shape="rect"
              coords="938,532,952,546"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Secret (DC 15 to find) Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect"
              coords="154,476,168,490"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="126,560,140,574"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="84,546,98,560"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="364,518,378,532"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)"
              title="Secret (DC 20 to find) Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)"
              shape="rect" coords="322,476,336,490"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="308,518,322,532"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="308,490,322,504"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="714,476,728,490"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="714,532,728,546"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)"
              title="Secret (DC 15 to find) Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)"
              shape="rect" coords="840,490,854,504"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)" shape="rect" coords="798,532,812,546"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp) (slides up)"
              title="Unlocked Simple Wooden Door (10 hp) (slides up)" shape="rect" coords="756,518,770,532"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="896,490,910,504"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="896,546,910,560"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="882,560,896,574"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)"
              title="Secret (DC 15 to find) Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)"
              shape="rect" coords="840,490,854,504"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="84,546,98,560"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="14,504,28,518"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="14,588,28,602"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="308,518,322,532"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="294,560,308,574"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp)" shape="rect" coords="252,546,266,560"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="252,518,266,532"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="448,546,462,560"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="448,518,462,532"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="406,504,420,518"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="434,504,448,518"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="406,588,420,602"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="364,574,378,588"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="364,518,378,532"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="700,518,714,532"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp) (slides to one side)"
              title="Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp) (slides to one side)" shape="rect"
              coords="630,504,644,518"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)" shape="rect"
              coords="658,560,672,574"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp)" shape="rect" coords="252,546,266,560"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="210,532,224,546"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="182,588,196,602"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp) (slides down)"
              title="Stuck Stone Door (DC 20 to break; 60 hp) (slides down)" shape="rect" coords="168,546,182,560"/>
        <area nohref="nohref" alt="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="490,532,504,546"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="490,616,504,630"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="448,602,462,616"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="448,546,462,560"/>
        <area nohref="nohref"
              alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (magically reinforced, disadvantage to break)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (magically reinforced, disadvantage to break)"
              shape="rect" coords="546,532,560,546"/>
        <area nohref="nohref"
              alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (magically reinforced, disadvantage to break)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (magically reinforced, disadvantage to break)"
              shape="rect" coords="546,616,560,630"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="574,532,588,546"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="602,616,616,630"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Stone Door (60 hp)"
              title="Secret (DC 20 to find) Unlocked Stone Door (60 hp)" shape="rect" coords="756,574,770,588"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="714,532,728,546"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="700,546,714,560"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="812,574,826,588"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)" shape="rect" coords="798,532,812,546"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Stone Door (60 hp)"
              title="Secret (DC 20 to find) Unlocked Stone Door (60 hp)" shape="rect" coords="756,574,770,588"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides down)"
              title="Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides down)" shape="rect"
              coords="938,532,952,546"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 20 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="910,588,924,602"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="896,546,910,560"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="966,532,980,546"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)"
              title="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)" shape="rect"
              coords="952,574,966,588"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="168,574,182,588"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="126,560,140,574"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="84,630,98,644"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="294,560,308,574"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="294,644,308,658"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="252,630,266,644"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="252,574,266,588"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="672,630,686,644"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)" shape="rect"
              coords="658,560,672,574"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="658,644,672,658"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect" coords="616,630,630,644"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="882,560,896,574"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="812,602,826,616"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="812,574,826,588"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="84,630,98,644"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="28,602,42,616"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="28,630,42,644"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="224,602,238,616"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="182,588,196,602"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="210,644,224,658"/>
        <area nohref="nohref" alt="Trapped and Unlocked Stone Door (60 hp)"
              title="Trapped and Unlocked Stone Door (60 hp)" shape="rect" coords="392,630,406,644"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="378,588,392,602"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)" shape="rect" coords="350,588,364,602"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="672,658,686,672"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="672,630,686,644"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="812,602,826,616"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 20 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="910,588,924,602"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="938,644,952,658"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="896,602,910,616"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="448,630,462,644"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="406,616,420,630"/>
        <area nohref="nohref" alt="Trapped and Unlocked Stone Door (60 hp)"
              title="Trapped and Unlocked Stone Door (60 hp)" shape="rect" coords="392,630,406,644"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="504,686,518,700"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="490,616,504,630"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="448,686,462,700"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="448,630,462,644"/>
        <area nohref="nohref"
              alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (magically reinforced, disadvantage to break)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (magically reinforced, disadvantage to break)"
              shape="rect" coords="546,616,560,630"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="546,700,560,714"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="518,700,532,714"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="504,686,518,700"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="896,658,910,672"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="854,672,868,686"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="140,714,154,728"/>
        <area nohref="nohref"
              alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides to one side)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides to one side)" shape="rect"
              coords="98,728,112,742"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="84,686,98,700"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="224,714,238,728"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp) (slides down)"
              title="Stuck Iron Door (DC 25 to break; 60 hp) (slides down)" shape="rect" coords="154,644,168,658"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="210,644,224,658"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="140,714,154,728"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="294,644,308,658"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="294,700,308,714"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="392,714,406,728"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="322,728,336,742"/>
        <area nohref="nohref" alt="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)"
              title="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)" shape="rect" coords="308,686,322,700"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Secret (DC 15 to find) Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect"
              coords="308,714,322,728"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="672,686,686,700"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="672,658,686,672"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="658,644,672,658"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="602,700,616,714"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect"
              coords="938,644,952,658"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="966,728,980,742"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="896,658,910,672"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="84,686,98,700"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="14,672,28,686"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="70,728,84,742"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="448,714,462,728"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="448,686,462,700"/>
        <area nohref="nohref" alt="Unlocked Iron Door (60 hp)" title="Unlocked Iron Door (60 hp)" shape="rect"
              coords="406,756,420,770"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="392,714,406,728"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="742,672,756,686"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="714,728,728,742"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="672,686,686,700"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="840,686,854,700"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="798,672,812,686"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="770,756,784,770"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Secret (DC 15 to find) Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect"
              coords="308,714,322,728"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="294,700,308,714"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="294,756,308,770"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="224,714,238,728"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="518,700,532,714"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="490,784,504,798"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="448,770,462,784"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="448,714,462,728"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="616,742,630,756"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="546,700,560,714"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="602,700,616,714"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="546,756,560,770"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="602,756,616,770"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="672,714,686,728"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="616,742,630,756"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="84,770,98,784"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="70,728,84,742"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="28,770,42,784"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="140,770,154,784"/>
        <area nohref="nohref"
              alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides to one side)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides to one side)" shape="rect"
              coords="98,728,112,742"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="98,784,112,798"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="84,770,98,784"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="224,798,238,812"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="182,812,196,826"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="154,812,168,826"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="140,770,154,784"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="322,728,336,742"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="308,770,322,784"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="714,728,728,742"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="742,812,756,826"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="714,812,728,826"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="840,742,854,756"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="980,770,994,784"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="980,798,994,812"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="966,728,980,742"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="938,812,952,826"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="910,812,924,826"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="280,798,294,812"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="266,812,280,826"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="224,798,238,812"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="448,798,462,812"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="448,770,462,784"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="378,756,392,770"/>
        <area nohref="nohref" alt="Unlocked Iron Door (60 hp)" title="Unlocked Iron Door (60 hp)" shape="rect"
              coords="406,756,420,770"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,812,420,826"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="588,770,602,784"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="546,756,560,770"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="644,770,658,784"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="602,756,616,770"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="588,770,602,784"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="812,770,826,784"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="812,798,826,812"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="770,756,784,770"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="490,784,504,798"/>
        <area nohref="nohref"
              alt="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp) (slides to one side)"
              title="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp) (slides to one side)" shape="rect"
              coords="490,840,504,854"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="448,826,462,840"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="448,798,462,812"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="112,854,126,868"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="70,868,84,882"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Secret (DC 15 to find) Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="126,812,140,826"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="154,812,168,826"/>
        <area nohref="nohref" alt="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)"
              title="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)" shape="rect" coords="154,868,168,882"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="112,854,126,868"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="182,812,196,826"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="210,868,224,882"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="266,812,280,826"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="266,868,280,882"/>
        <area nohref="nohref" alt="Trapped and Unlocked Strong Wooden Door (20 hp) (slides up)"
              title="Trapped and Unlocked Strong Wooden Door (20 hp) (slides up)" shape="rect"
              coords="238,868,252,882"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="336,826,350,840"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="294,812,308,826"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="294,896,308,910"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="420,882,434,896"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,812,420,826"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="406,896,420,910"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="336,826,350,840"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="714,812,728,826"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="686,896,700,910"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="644,854,658,868"/>
        <area nohref="nohref" alt="Trapped and Unlocked Iron Door (60 hp)"
              title="Trapped and Unlocked Iron Door (60 hp)" shape="rect" coords="798,812,812,826"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="742,812,756,826"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="742,868,756,882"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="868,854,882,868"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp) (slides down)"
              title="Secret (DC 20 to find) Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp) (slides down)"
              shape="rect" coords="854,812,868,826"/>
        <area nohref="nohref"
              alt="Stuck Good Wooden Door (DC 15 to break; 15 hp) (magically reinforced, disadvantage to break)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp) (magically reinforced, disadvantage to break)"
              shape="rect" coords="882,812,896,826"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="910,812,924,826"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Trapped and Unlocked Strong Wooden Door (20 hp)"
              title="Secret (DC 25 to find) Trapped and Unlocked Strong Wooden Door (20 hp)" shape="rect"
              coords="868,882,882,896"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="868,854,882,868"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="938,812,952,826"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="938,896,952,910"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)" shape="rect"
              coords="924,854,938,868"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="504,854,518,868"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="434,840,448,854"/>
        <area nohref="nohref"
              alt="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp) (slides to one side)"
              title="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp) (slides to one side)" shape="rect"
              coords="490,840,504,854"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="434,896,448,910"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="420,882,434,896"/>
        <area nohref="nohref" alt="Trapped and Unlocked Strong Wooden Door (20 hp)"
              title="Trapped and Unlocked Strong Wooden Door (20 hp)" shape="rect" coords="518,840,532,854"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="518,896,532,910"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="504,854,518,868"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="56,910,70,924"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="14,924,28,938"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="140,882,154,896"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="70,868,84,882"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="70,924,84,938"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="56,910,70,924"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="196,910,210,924"/>
        <area nohref="nohref" alt="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)"
              title="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)" shape="rect" coords="154,868,168,882"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="140,882,154,896"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="252,910,266,924"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="210,868,224,882"/>
        <area nohref="nohref" alt="Trapped and Unlocked Strong Wooden Door (20 hp) (slides up)"
              title="Trapped and Unlocked Strong Wooden Door (20 hp) (slides up)" shape="rect"
              coords="238,868,252,882"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="196,910,210,924"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp) (slides up)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp) (slides up)" shape="rect"
              coords="812,910,826,924"/>
        <area nohref="nohref" alt="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)"
              title="Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)" shape="rect" coords="742,868,756,882"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="798,924,812,938"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="728,882,742,896"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="294,896,308,910"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="322,980,336,994"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Stone Door (DC 20 to break; 60 hp) (slides down)"
              title="Secret (DC 15 to find) Stuck Stone Door (DC 20 to break; 60 hp) (slides down)" shape="rect"
              coords="252,966,266,980"/>
        <area nohref="nohref" alt="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="252,910,266,924"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="406,896,420,910"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,980,420,994"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Trapped and Stuck Iron Door (DC 25 to break; 60 hp) (slides down)"
              title="Secret (DC 20 to find) Trapped and Stuck Iron Door (DC 25 to break; 60 hp) (slides down)"
              shape="rect" coords="350,980,364,994"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="434,896,448,910"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="434,980,448,994"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="462,980,476,994"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="532,938,546,952"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="518,896,532,910"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="616,938,630,952"/>
        <area nohref="nohref" alt="Trapped and Unlocked Stone Door (60 hp)"
              title="Trapped and Unlocked Stone Door (60 hp)" shape="rect" coords="602,896,616,910"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="532,938,546,952"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="700,938,714,952"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="630,896,644,910"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="686,896,700,910"/>
        <area nohref="nohref" alt="Trapped and Unlocked Good Wooden Door (15 hp)"
              title="Trapped and Unlocked Good Wooden Door (15 hp)" shape="rect" coords="630,952,644,966"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="616,938,630,952"/>
        <area nohref="nohref"
              alt="Secret (DC 25 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Secret (DC 25 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="854,896,868,910"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp) (slides up)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp) (slides up)" shape="rect"
              coords="812,910,826,924"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="980,938,994,952"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="910,896,924,910"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="938,896,952,910"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="896,966,910,980"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Secret (DC 15 to find) Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              shape="rect" coords="896,938,910,952"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="84,938,98,952"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="70,924,84,938"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Trapped and Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect"
              coords="28,966,42,980"/>
        <area nohref="nohref" alt="Trapped and Unlocked Strong Wooden Door (20 hp)"
              title="Trapped and Unlocked Strong Wooden Door (20 hp)" shape="rect" coords="742,924,756,938"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="714,980,728,994"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="700,938,714,952"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="98,952,112,966"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)" shape="rect"
              coords="126,1008,140,1022"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="196,966,210,980"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="140,1022,154,1036"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="252,1022,266,1036"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Stuck Stone Door (DC 20 to break; 60 hp) (slides down)"
              title="Secret (DC 15 to find) Stuck Stone Door (DC 20 to break; 60 hp) (slides down)" shape="rect"
              coords="252,966,266,980"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp) (slides down)"
              title="Unlocked Good Wooden Door (15 hp) (slides down)" shape="rect" coords="210,1036,224,1050"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="196,966,210,980"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect" coords="532,994,546,1008"/>
        <area nohref="nohref" alt="Trapped and Unlocked Good Wooden Door (15 hp)"
              title="Trapped and Unlocked Good Wooden Door (15 hp)" shape="rect" coords="630,952,644,966"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="616,1022,630,1036"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="840,966,854,980"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="756,994,770,1008"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="42,980,56,994"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)" shape="rect" coords="42,1036,56,1050"/>
        <area nohref="nohref" alt="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="308,994,322,1008"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="294,1036,308,1050"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="252,1022,266,1036"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="322,980,336,994"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Trapped and Stuck Iron Door (DC 25 to break; 60 hp) (slides down)"
              title="Secret (DC 20 to find) Trapped and Stuck Iron Door (DC 25 to break; 60 hp) (slides down)"
              shape="rect" coords="350,980,364,994"/>
        <area nohref="nohref" alt="Trapped and Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Trapped and Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="322,1036,336,1050"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="378,1036,392,1050"/>
        <area nohref="nohref" alt="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="308,994,322,1008"/>
        <area nohref="nohref"
              alt="Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp) (slides to one side)"
              title="Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp) (slides to one side)"
              shape="rect" coords="448,1022,462,1036"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,980,420,994"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="434,980,448,994"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,1036,420,1050"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)" shape="rect"
              coords="504,994,518,1008"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="462,980,476,994"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="490,1064,504,1078"/>
        <area nohref="nohref"
              alt="Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp) (slides to one side)"
              title="Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp) (slides to one side)"
              shape="rect" coords="448,1022,462,1036"/>
        <area nohref="nohref" alt="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Trapped and Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="714,980,728,994"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="714,1036,728,1050"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="896,994,910,1008"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="882,1064,896,1078"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="980,994,994,1008"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="896,994,910,1008"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="588,1022,602,1036"/>
        <area nohref="nohref" alt="Trapped and Unlocked Good Wooden Door (15 hp)"
              title="Trapped and Unlocked Good Wooden Door (15 hp)" shape="rect" coords="518,1092,532,1106"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Unlocked Simple Wooden Door (10 hp)"
              title="Secret (DC 15 to find) Unlocked Simple Wooden Door (10 hp)" shape="rect"
              coords="574,1092,588,1106"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)" shape="rect" coords="42,1036,56,1050"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="42,1092,56,1106"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="154,1036,168,1050"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="98,1092,112,1106"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="84,1050,98,1064"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Secret (DC 20 to find) Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              shape="rect" coords="252,1106,266,1120"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp) (slides down)"
              title="Unlocked Good Wooden Door (15 hp) (slides down)" shape="rect" coords="210,1036,224,1050"/>
        <area nohref="nohref" alt="Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)"
              title="Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)" shape="rect"
              coords="168,1106,182,1120"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="168,1078,182,1092"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="308,1106,322,1120"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="294,1036,308,1050"/>
        <area nohref="nohref"
              alt="Secret (DC 20 to find) Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Secret (DC 20 to find) Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              shape="rect" coords="252,1106,266,1120"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)" shape="rect"
              coords="364,1050,378,1064"/>
        <area nohref="nohref" alt="Trapped and Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Trapped and Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect" coords="322,1036,336,1050"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="308,1106,322,1120"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Secret (DC 20 to find) Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect"
              coords="420,1078,434,1092"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="420,1050,434,1064"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="378,1036,392,1050"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="406,1036,420,1050"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="378,1120,392,1134"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to open)" shape="rect"
              coords="364,1050,378,1064"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="700,1078,714,1092"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="644,1050,658,1064"/>
        <area nohref="nohref"
              alt="Secret (DC 25 to find) Trapped and Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Secret (DC 25 to find) Trapped and Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              shape="rect" coords="742,1036,756,1050"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="714,1036,728,1050"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="700,1078,714,1092"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="812,1078,826,1092"/>
        <area nohref="nohref" alt="Trapped and Unlocked Iron Door (60 hp)"
              title="Trapped and Unlocked Iron Door (60 hp)" shape="rect" coords="798,1120,812,1134"/>
        <area nohref="nohref" alt="Trapped and Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp) (slides up)"
              title="Trapped and Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp) (slides up)" shape="rect"
              coords="952,1050,966,1064"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="938,1120,952,1134"/>
        <area nohref="nohref" alt="Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="994,1036,1008,1050"/>
        <area nohref="nohref" alt="Trapped and Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)"
              title="Trapped and Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="966,1036,980,1050"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="994,1120,1008,1134"/>
        <area nohref="nohref" alt="Trapped and Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp) (slides up)"
              title="Trapped and Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp) (slides up)" shape="rect"
              coords="952,1050,966,1064"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="476,1106,490,1120"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="462,1064,476,1078"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Trapped and Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 15 to find) Trapped and Unlocked Good Wooden Door (15 hp)" shape="rect"
              coords="420,1134,434,1148"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Stuck Iron Door (DC 25 to break; 60 hp)"
              title="Secret (DC 20 to find) Stuck Iron Door (DC 25 to break; 60 hp)" shape="rect"
              coords="420,1078,434,1092"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="868,1078,882,1092"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="812,1078,826,1092"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="84,1162,98,1176"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="42,1092,56,1106"/>
        <area nohref="nohref" alt="Unlocked Iron Door (60 hp)" title="Unlocked Iron Door (60 hp)" shape="rect"
              coords="42,1176,56,1190"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="28,1106,42,1120"/>
        <area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (10 hp)"
              title="Trapped and Unlocked Simple Wooden Door (10 hp)" shape="rect" coords="140,1106,154,1120"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="98,1092,112,1106"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Secret (DC 15 to find) Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              shape="rect" coords="126,1148,140,1162"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="84,1106,98,1120"/>
        <area nohref="nohref" alt="Trapped and Unlocked Good Wooden Door (15 hp)"
              title="Trapped and Unlocked Good Wooden Door (15 hp)" shape="rect" coords="518,1092,532,1106"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="518,1148,532,1162"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="476,1106,490,1120"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="644,1106,658,1120"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)" shape="rect" coords="644,1134,658,1148"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Unlocked Simple Wooden Door (10 hp)"
              title="Secret (DC 15 to find) Unlocked Simple Wooden Door (10 hp)" shape="rect"
              coords="574,1092,588,1106"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="560,1162,574,1176"/>
        <area nohref="nohref" alt="Unlocked Iron Door (60 hp)" title="Unlocked Iron Door (60 hp)" shape="rect"
              coords="182,1204,196,1218"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="154,1204,168,1218"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="308,1134,322,1148"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="238,1204,252,1218"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect" coords="266,1204,280,1218"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="378,1120,392,1134"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="308,1134,322,1148"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="714,1176,728,1190"/>
        <area nohref="nohref" alt="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)" shape="rect" coords="644,1134,658,1148"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="728,1190,742,1204"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="952,1162,966,1176"/>
        <area nohref="nohref" alt="Stuck Iron Door (DC 25 to break; 60 hp) (slides down)"
              title="Stuck Iron Door (DC 25 to break; 60 hp) (slides down)" shape="rect" coords="882,1120,896,1134"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="938,1120,952,1134"/>
        <area nohref="nohref" alt="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect"
              coords="994,1120,1008,1134"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="994,1176,1008,1190"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="966,1176,980,1190"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="952,1162,966,1176"/>
        <area nohref="nohref"
              alt="Secret (DC 15 to find) Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              title="Secret (DC 15 to find) Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)"
              shape="rect" coords="126,1148,140,1162"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)" shape="rect" coords="98,1204,112,1218"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="84,1162,98,1176"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="476,1162,490,1176"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="406,1148,420,1162"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="392,1190,406,1204"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="532,1162,546,1176"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="532,1190,546,1204"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="518,1148,532,1162"/>
        <area nohref="nohref" alt="Unlocked Good Wooden Door (15 hp)" title="Unlocked Good Wooden Door (15 hp)"
              shape="rect" coords="476,1162,490,1176"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="798,1148,812,1162"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="798,1204,812,1218"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="392,1190,406,1204"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="308,1218,322,1232"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Secret (DC 15 to find) Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="616,1246,630,1260"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="616,1218,630,1232"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="532,1190,546,1204"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect"
              coords="630,1176,644,1190"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="630,1232,644,1246"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="616,1218,630,1232"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="854,1176,868,1190"/>
        <area nohref="nohref" alt="Stuck Strong Wooden Door (DC 15 to break; 20 hp)"
              title="Stuck Strong Wooden Door (DC 15 to break; 20 hp)" shape="rect" coords="910,1260,924,1274"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="854,1260,868,1274"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)"
              title="Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)" shape="rect"
              coords="980,1218,994,1232"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="966,1176,980,1190"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="84,1246,98,1260"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="28,1246,42,1260"/>
        <area nohref="nohref" alt="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)"
              title="Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="154,1204,168,1218"/>
        <area nohref="nohref" alt="Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)"
              title="Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)" shape="rect" coords="98,1204,112,1218"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="98,1260,112,1274"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="154,1260,168,1274"/>
        <area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="84,1246,98,1260"/>
        <area nohref="nohref" alt="Unlocked Iron Door (60 hp)" title="Unlocked Iron Door (60 hp)" shape="rect"
              coords="182,1204,196,1218"/>
        <area nohref="nohref" alt="Stuck Stone Door (DC 20 to break; 60 hp)"
              title="Stuck Stone Door (DC 20 to break; 60 hp)" shape="rect" coords="238,1204,252,1218"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="238,1260,252,1274"/>
        <area nohref="nohref" alt="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)"
              title="Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)" shape="rect" coords="308,1218,322,1232"/>
        <area nohref="nohref" alt="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)"
              title="Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)" shape="rect" coords="266,1204,280,1218"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="756,1218,770,1232"/>
        <area nohref="nohref" alt="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)"
              title="Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)" shape="rect"
              coords="742,1260,756,1274"/>
        <area nohref="nohref" alt="Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect" coords="840,1218,854,1232"/>
        <area nohref="nohref" alt="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="798,1204,812,1218"/>
        <area nohref="nohref" alt="Unlocked Stone Door (60 hp)" title="Unlocked Stone Door (60 hp)" shape="rect"
              coords="756,1218,770,1232"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides down)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides down)" shape="rect"
              coords="392,1246,406,1260"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp)" shape="rect" coords="308,1274,322,1288"/>
        <area nohref="nohref" alt="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)"
              title="Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)" shape="rect" coords="476,1246,490,1260"/>
        <area nohref="nohref" alt="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)"
              title="Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)" shape="rect"
              coords="476,1274,490,1288"/>
        <area nohref="nohref" alt="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides down)"
              title="Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides down)" shape="rect"
              coords="392,1246,406,1260"/>
        <area nohref="nohref" alt="Unlocked Simple Wooden Door (10 hp)" title="Unlocked Simple Wooden Door (10 hp)"
              shape="rect" coords="700,1274,714,1288"/>
        <area nohref="nohref" alt="Unlocked Strong Wooden Door (20 hp)" title="Unlocked Strong Wooden Door (20 hp)"
              shape="rect" coords="700,1246,714,1260"/>
        <area nohref="nohref" alt="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)"
              title="Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)" shape="rect"
              coords="630,1232,644,1246"/>
        <area nohref="nohref" alt="Trapped and Unlocked Strong Wooden Door (20 hp)"
              title="Trapped and Unlocked Strong Wooden Door (20 hp)" shape="rect" coords="616,1274,630,1288"/>
        <area nohref="nohref" alt="Secret (DC 15 to find) Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)"
              title="Secret (DC 15 to find) Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)" shape="rect"
              coords="616,1246,630,1260"/>
    </map>
</div>

<table class="stats standard">
    <tr>
        <td class="section">General</td>
        <td>
            <table class="section">
                <tr>
                    <td class="key">Dungeon History</td>
                    <td class="value">The dungeon was created by hobgoblins as a temple. It was eventually conquered by
                        invaders, and has lain empty for many years until recently.
                    </td>
                </tr>
                <tr>
                    <td class="key">Dungeon Walls</td>
                    <td class="value">Superior Masonry (DC 20 to climb)</td>
                </tr>
                <tr>
                    <td class="key">Dungeon Floor</td>
                    <td class="value">Flagstone</td>
                </tr>
                <tr>
                    <td class="key">Temperature</td>
                    <td class="value">Cool</td>
                </tr>
                <tr>
                    <td class="key">Illumination</td>
                    <td class="value">Dark (individual creatures may carry lights)</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section">Corridors</td>
        <td>
            <table class="section">
                <tr>
                    <td class="key"><a id="a" name="a">a</a></td>
                    <td class="value">Rune of Paralyzation: DC 15 to find, DC 10 to disable; affects all targets within
                        10 ft., DC 11 save or become paralyzed for 1d4 rounds
                    </td>
                </tr>
                <tr>
                    <td class="key"><a id="c" name="c">c</a></td>
                    <td class="value">An iron chandelier hangs from the ceiling here</td>
                </tr>
                <tr>
                    <td class="key"><a id="e" name="e">e</a></td>
                    <td class="value">Part of the ceiling has collapsed into the corridor</td>
                </tr>
                <tr>
                    <td class="key"><a id="i" name="i">i</a></td>
                    <td class="value">Shrine of Evil: DC 20 to find, DC 10 to disable; affects good creatures which
                        touch the shrine, DC 12 save or take 4d10 damage
                    </td>
                </tr>
                <tr>
                    <td class="key"><a id="m" name="m">m</a></td>
                    <td class="value">Arrow Blaster: DC 10 to find, DC 15 to disable; +4 to hit against up to three
                        targets within 10 ft., 2d10 piercing damage
                    </td>
                </tr>
                <tr>
                    <td class="key"><a id="n" name="n">n</a></td>
                    <td class="value">A group of demonic faces have been carved into the walls</td>
                </tr>
                <tr>
                    <td class="key"><a id="r" name="r">r</a></td>
                    <td class="value">A group of demonic faces have been carved into the walls</td>
                </tr>
                <tr>
                    <td class="key"><a id="s" name="s">s</a></td>
                    <td class="value">Someone has scrawled "The Arrows of Gisuinio looted this place" here</td>
                </tr>
                <tr>
                    <td class="key"><a id="u" name="u">u</a></td>
                    <td class="value">A chute descends from the corridor into a natural cavern below</td>
                </tr>
                <tr>
                    <td class="key"><a id="v" name="v">v</a></td>
                    <td class="value">Several alcoves are cut into the walls here</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section">Wandering<br/>Monsters</td>
        <td>
            <table class="section">
                <tr>
                    <td class="key">1</td>
                    <td class="value">Wraith (cr 5, mm 302) and 1 x Wight (cr 3, mm 300), consumed by disease and
                        madness
                    </td>
                </tr>
                <tr>
                    <td class="key">2</td>
                    <td class="value">Troll (cr 5, mm 291) and 1 x Ogre (cr 2, mm 237), hunting for food</td>
                </tr>
                <tr>
                    <td class="key">3</td>
                    <td class="value">Troll (cr 5, mm 291) and 1 x Ogre (cr 2, mm 237), scouting from another part of
                        the dungeon
                    </td>
                </tr>
                <tr>
                    <td class="key">4</td>
                    <td class="value">Drider (cr 6, mm 120) and 1 x Giant Spider (cr 1, mm 328), scouting from another
                        part of the dungeon
                    </td>
                </tr>
                <tr>
                    <td class="key">5</td>
                    <td class="value">1 x Ghost (cr 4, mm 147), investigating a strange noise</td>
                </tr>
                <tr>
                    <td class="key">6</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 1 x Veteran (cr 3, mm 350), bloodied
                        and fleeing a more powerful enemy
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="1" name="1">Room #1</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Falling
                        Block: DC 15 to find, DC 10 to disable; affects all targets within a 10 ft. square area, DC 10
                        save or take 2d10 damage</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides up)<p
                            class="icon">&rarr; &nbsp; Leads to <a href="#17">room #17</a>, inhabited by Hobgoblin
                        Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="2" name="2">Room #2</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 15 to find) Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15
                        hp)<p class="icon">&#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#3">room #3</a>, inhabited by 1 x Ghost</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A magical idol of a goddess of dwarves in the east side of the room heals all
                        wounds of whomever offers a prayer (but only once), and a forge and anvil sit in the north-east
                        corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Chimera (cr 6, mm 39); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="3" name="3">Room #3</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 15 to find) Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15
                        hp)<p class="icon">&#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#2">room #2</a>, inhabited by 1 x Chimera</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Contact
                        Poison: DC 15 to find, DC 15 to disable; affects each creature which touches the trigger, DC 14
                        save or take 4d10 damage</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Arrow Trap: DC 10 to find, DC 10 to disable; +5 to hit against one target, 2d10 piercing
                        damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#15">room #15</a>, inhabited by 1 x Chimera</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Ghost (cr 4, mm 147); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="4" name="4">Room #4</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#8">room #8</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tile labyrinth covers the floor, and someone has scrawled "When the Wound is
                        healed, the Sword of Faith shall be restored" on the south wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Umber Hulk (cr 5, mm 292); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="5" name="5">Room #5</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#8">room #8</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Fire Spray: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft.
                        cone, DC 15 save or take 4d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#9">room #9</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="6" name="6">Room #6</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#10">room #10</a>,
                        inhabited by Hobgoblin Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A set of demonic war masks hangs on the north wall, and a small table and pile of
                        books sit in the center of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Otyugh (cr 5, mm 248); 1800 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Guillotine Blade: DC 10 to find, DC 15 to disable; +7 to hit against one target,
                        4d10 slashing damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="7" name="7">Room #7</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)<p
                            class="icon">&rarr; &nbsp; Leads to <a href="#12">room #12</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed within the mouth of a gargantuan skull carved from stone</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#13">room #13</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A simple fireplace sits against the south wall, and a broken door lies in the
                        north-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="8" name="8">Room #8</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#4">room #4</a>, inhabited by 1 x Umber Hulk</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#16">room #16</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#5">room #5</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#19">room #19</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="9" name="9">Room #9</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Fire Spray: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft.
                        cone, DC 15 save or take 4d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#5">room #5</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp;
                        Arrow Trap: DC 10 to find, DC 15 to disable; +6 to hit against one target, 4d10 piercing
                        damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#25">room #25</a>, inhabited by Half-Red Dragon
                            Veteran and 1 x Veteran</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Magic Missle Trap: DC 15 to find, DC 10 to disable; one target, 2d10 force
                        damage
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 25 to find) Locked Iron Chest (DC 20 to unlock, DC 30 to break; 60 hp)
                        <hr/>
                        <p>800 cp, 5000 sp, 1600 gp, 170 pp, Porcelain Vase carved with Knotwork (250 gp), Silver Cloth
                            Cloak (250 gp), Porcelain Bowl set with Chrysoprase (250 gp), Sable Talisman set with Quartz
                            (250 gp), Silver Cloth Sash (250 gp), Spell Scroll (Hex) (common, dmg 200), Spell Scroll
                            (Wrathful Smite) (common, dmg 200), 4 x Potion of Healing (common, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="10" name="10">Room #10</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#6">room #6</a>, inhabited
                        by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Secret (DC 25 to find) Locked Strong Wooden Door (DC 15 to open, DC 20 to break;
                        20 hp)<p class="icon">&#9416; &nbsp; The door is concealed behind a statue of Death, and opened
                            by placing a coin in his open hand</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#11">room #11</a>, inhabited by 1 x Stone Giant and 1 x Cave Bear</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A chute falls into the room from above, and an altar of evil sits in the east side
                        of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Hobgoblin Warlord (cr 6, mm 187) and 1 x Hobgoblin (cr 1/2, mm 186); 2400 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="11" name="11">Room #11</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#10">room #10</a>, inhabited by Hobgoblin Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">
                        &#9417; &nbsp; One-way Door: DC 10 to find, DC 15 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#22">room #22</a>, inhabited by 2 x Chuul</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#27">room #27</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Part of the ceiling has collapsed into the room, and a circle of tall stones
                        stands in the north-east corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156) and 1 x Cave Bear (cr 2, mm 334); 3350 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="12" name="12">Room #12</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp) (slides to one side)</td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp) (slides down)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to one side)<p
                            class="icon">&rarr; &nbsp; Leads to <a href="#7">room #7</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#22">room #22</a>, inhabited by 2 x Chuul</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow shaft descends from the room into a natural cavern below, and a stone
                        sarcophagus sits in the south side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="13" name="13">Room #13</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed within the mouth of a gargantuan skull carved from stone</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#7">room #7</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#23">room #23</a>, inhabited by 1 x Umber Hulk</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A group of draconic faces have been carved into the north wall, and someone has
                        scrawled "eight, five, one" in draconic script on the north wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="14" name="14">Room #14</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 20 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15
                        hp) (slides down)<p class="icon">&#9416; &nbsp; The door is concealed behind an area of
                            fungus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#23">room #23</a>, inhabited by 1 x Umber Hulk
                        </p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 1 x Thug (cr 1/2, mm 350); 1900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="15" name="15">Room #15</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Arrow Trap: DC 10 to find, DC 10 to disable; +5 to hit against one target, 2d10 piercing
                        damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#3">room #3</a>, inhabited by 1 x Ghost</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#16">room #16</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow shaft falls into the room from above, and the ceiling is covered with
                        cobwebs
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Chimera (cr 6, mm 39); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="16" name="16">Room #16</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#15">room #15</a>, inhabited by 1 x Chimera</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#8">room #8</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#19">room #19</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp) (slides to one side)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#30">room #30</a>, inhabited by Roper and 1 x Piercer</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Akad stands here, slain by a basilisk" on the east wall, and
                        the south and east walls are covered with veins of metal
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="17" name="17">Room #17</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides up)<p
                            class="icon">&rarr; &nbsp; Leads to <a href="#1">room #1</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp) (slides
                        down)<p class="icon">&#9417; &nbsp; One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#29">room #29</a>, inhabited by Orc War Chief
                            and 6 x Orc</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">An enchanted pool in the center of the room summons a water elemental to serve
                        whomever drinks from it (but only once), and a pile of iron spikes lies in the north-east corner
                        of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Hobgoblin Warlord (cr 6, mm 187) and 1 x Hobgoblin (cr 1/2, mm 186); 2400 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="18" name="18">Room #18</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)<p
                            class="icon">&#9417; &nbsp; One-way Door: DC 15 to find, DC 15 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#29">room #29</a>, inhabited by Orc War Chief
                            and 6 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#24">room #24</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#32">room #32</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tile mosaic of geometric patterns covers the floor, and someone has scrawled
                        "Look to the right" on the west wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Beholder Zombie (cr 5, mm 316); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="19" name="19">Room #19</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#8">room #8</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#16">room #16</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#20">room #20</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Falling
                        Block: DC 10 to find, DC 10 to disable; affects all targets within a 10 ft. square area, DC 15
                        save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#34">room #34</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A large table and pile of books sit in the north-west corner of the room, and
                        someone has scrawled "The Knights of Adaccic looted this place" on the south wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="20" name="20">Room #20</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#19">room #19</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Magic Missle Trap: DC 10 to find, DC 15 to disable; one target, 2d10 force
                        damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="21" name="21">Room #21</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#26">room #26</a>, inhabited by Wraith and 1 x Specter</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#31">room #31</a>, inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stack of crates filled with rocks stands against the east wall, and several
                        barrel staves are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 15 to find) Locked Good Wooden Chest (DC 15 to unlock, DC 20 to break;
                        15 hp)
                        <hr/>
                        <p>400 cp, 7000 sp, 2400 gp, 110 pp, Chrysoberyl (100 gp), Coral (100 gp), 2 x Garnet (100 gp),
                            3 x Jade (100 gp), 2 x Jet (100 gp), 3 x Pearl (100 gp), Spinel (100 gp), +1 Ammunition (50
                            blowgun needles) (uncommon, dmg 150), Dust of Dryness (uncommon, dmg 166), Potion of Growth
                            (uncommon, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="22" name="22">Room #22</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#12">room #12</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">
                        &#9417; &nbsp; One-way Door: DC 10 to find, DC 15 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#11">room #11</a>, inhabited by 1 x Stone Giant
                            and 1 x Cave Bear</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp;
                        Arrow Trap: DC 10 to find, DC 15 to disable; +6 to hit against one target, 4d10 piercing
                        damage</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">
                        &#9417; &nbsp; Teleporter Crystal: DC 15 to find, DC 10 to disable; affects each creature which
                        touches the crystal, DC 10 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#37">room #37</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Part of the ceiling has collapsed into the room, and someone has scrawled "You
                        cannot kill it with wizardry" in blood on the north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Chuul (cr 4, mm 40); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="23" name="23">Room #23</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 20 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15
                        hp) (slides down)<p class="icon">&#9416; &nbsp; The door is concealed behind an area of
                            fungus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#14">room #14</a>, inhabited by Half-Red Dragon
                            Veteran and 1 x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#13">room #13</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A wooden platform hangs over a deep pit in the south side of the room, and a pile
                        of rotten fruit lies in the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Umber Hulk (cr 5, mm 292); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="24" name="24">Room #24</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#18">room #18</a>, inhabited by 1 x Beholder Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within a horrific torture device</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#30">room #30</a>, inhabited by Roper and 1 x
                            Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#33">room #33</a>, inhabited by Half-Red Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A group of monstrous faces have been carved into the west wall, and a ruined
                        gauntlet lies in the north-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="25" name="25">Room #25</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp;
                        Arrow Trap: DC 10 to find, DC 15 to disable; +6 to hit against one target, 4d10 piercing
                        damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#9">room #9</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 1 x Veteran (cr 3, mm 350); 2500 xp
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="26" name="26">Room #26</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides to one side)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#21">room #21</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)<p class="icon">
                        &#9417; &nbsp; Falling Block: DC 10 to find, DC 10 to disable; affects all targets within a 10
                        ft. square area, DC 11 save or take 2d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#35">room #35</a>, inhabited by 1 x Otyugh</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tile mosaic of ancient mythology covers the floor, and howling can be heard in
                        the south side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Wraith (cr 5, mm 302) and 1 x Specter (cr 1, mm 279); 2000 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="27" name="27">Room #27</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#11">room #11</a>, inhabited by 1 x Stone Giant and 1 x Cave
                        Bear</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Iron Door (60 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Trapped and Unlocked Iron Chest (60 hp)<p>Ice Dart Trap: DC 15 to find, DC 15 to
                        disable; +3 to hit against one target, 2d10 cold damage</p>
                        <hr/>
                        <p>600 cp, 7000 sp, 1900 gp, 80 pp, Bolt of Silk (25 gp), Box of Perfumed Candles (25 gp),
                            Carved Wooden Staff (25 gp), Pewter Brooch (25 gp), Leather Belt with Copper Buckle (25 gp),
                            Polished Stone Vase (25 gp), Iron Flute (25 gp), +1 Ammunition (20 arrows) (uncommon, dmg
                            150), Driftglobe (uncommon, dmg 166), Keoghtom's Ointment (uncommon, dmg 179)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="28" name="28">Room #28</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#38">room #38</a>, inhabited by Red Dragon Wyrmling and 1 x
                        Kobold</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#39">room #39</a>, inhabited by 1 x Chimera</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Part of the north wall has collapsed into the room, and a large table and simple
                        cabinet sit in the south-east corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 15 to find) Locked Simple Wooden Chest (DC 25 to unlock, DC 15 to
                        break; 10 hp)
                        <hr/>
                        <p>500 cp, 5000 sp, 2100 gp, 90 pp, Chrysoberyl (100 gp), Coral (100 gp), 2 x Garnet (100 gp),
                            Jet (100 gp), 2 x Pearl (100 gp), Spinel (100 gp), Robe of Eyes (rare, dmg 193)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="29" name="29">Room #29</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp) (slides
                        down)<p class="icon">&#9417; &nbsp; One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#17">room #17</a>, inhabited by Hobgoblin
                            Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)<p
                            class="icon">&#9417; &nbsp; One-way Door: DC 15 to find, DC 15 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#18">room #18</a>, inhabited by 1 x Beholder
                            Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A large kiln and coal bin sit in the north-east corner of the room, and a rotting
                        odor fills the north side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 6 x Orc (cr 1/2, mm 246); 1700 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="30" name="30">Room #30</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp) (slides to one side)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#16">room #16</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within a horrific torture device</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#24">room #24</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tile labyrinth covers the floor, and someone has scrawled "Stay low" in goblin
                        runes on the east wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 1 x Piercer (cr 1/2, mm 252); 1900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="31" name="31">Room #31</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#21">room #21</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#35">room #35</a>,
                        inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#49">room #49</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Thora was here" on the east wall, and the ceiling is covered
                        with cracks
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Wraith (cr 5, mm 302) and 1 x Wight (cr 3, mm 300); 2500 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="32" name="32">Room #32</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#18">room #18</a>,
                        inhabited by 1 x Beholder Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#33">room #33</a>, inhabited by Half-Red Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#43">room #43</a>, inhabited by 1 x Black Pudding</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="33" name="33">Room #33</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#24">room #24</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#32">room #32</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#44">room #44</a>, inhabited by Hobgoblin Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A forge and anvil sit in the west side of the room, and a corroded iron key hangs
                        from a hook on the north and south walls
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 1 x Thug (cr 1/2, mm 350); 1900 xp</td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 25 to find) Trapped and Locked Iron Chest (DC 15 to unlock, DC 30 to
                        break; 60 hp)<p>Contact Poison: DC 10 to find, DC 10 to disable; affects each creature which
                            touches the trigger, DC 16 save or take 10d10 damage</p>
                        <hr/>
                        <p>900 cp, 2000 sp, 2100 gp, 80 pp, 2 x Amber (100 gp), 2 x Chrysoberyl (100 gp), Coral (100
                            gp), Jade (100 gp), Pearl (100 gp), Spinel (100 gp), 3 x Tourmaline (100 gp), Spell Scroll
                            (Tenser's Floating Disk) (common, dmg 200)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="34" name="34">Room #34</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Falling
                        Block: DC 10 to find, DC 10 to disable; affects all targets within a 10 ft. square area, DC 15
                        save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#19">room #19</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#42">room #42</a>, inhabited by 1 x Cyclops</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Thunder Blaster: DC 15 to find, DC 15 to disable; affects all targets within a 20
                        ft. cone, DC 13 save or take 4d10 thunder damage and become deafened for 1d4 rounds
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 20 to find) Locked Simple Wooden Chest (DC 25 to unlock, DC 15 to
                        break; 10 hp)
                        <hr/>
                        <p>1000 cp, 5000 sp, 2400 gp, 110 pp, Dragonscale Talisman inlaid with Brass (250 gp),
                            Dragonscale Talisman inlaid with Bronze (250 gp), Silver Cloth Coat (250 gp), Ornate Silver
                            Mirror set with Rhodochrosite (250 gp), Carved Wooden Staff studded with Gold (250 gp), Fine
                            Steel Rapier set with Chalcedony (250 gp), Porcelain Orb (250 gp), Spell Scroll (Ensnaring
                            Strike) (common, dmg 200), Spell Scroll (Healing Word) (common, dmg 200), Spell Scroll
                            (Blur) (uncommon, dmg 200), 2 x Potion of Healing (common, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="35" name="35">Room #35</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)<p class="icon">
                        &#9417; &nbsp; Falling Block: DC 10 to find, DC 10 to disable; affects all targets within a 10
                        ft. square area, DC 11 save or take 2d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#26">room #26</a>, inhabited by Wraith and 1 x
                            Specter</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#31">room #31</a>,
                        inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; One-way Door: DC 15 to find, DC 15 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#36">room #36</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#49">room #49</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Otyugh (cr 5, mm 248); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="36" name="36">Room #36</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; One-way Door: DC 15 to find, DC 15 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#35">room #35</a>, inhabited by 1 x Otyugh</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#37">room #37</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#51">room #51</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="37" name="37">Room #37</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">
                        &#9417; &nbsp; Teleporter Crystal: DC 15 to find, DC 10 to disable; affects each creature which
                        touches the crystal, DC 10 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#22">room #22</a>, inhabited by 2 x Chuul</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#36">room #36</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#38">room #38</a>, inhabited by Red Dragon Wyrmling and 1 x Kobold</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#51">room #51</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A chute falls into the room from above, and several pieces of blood-soaked
                        clothing are scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="38" name="38">Room #38</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#28">room #28</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#37">room #37</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Red Dragon Wyrmling (cr 4, mm 98) and 1 x Kobold (cr 1/8, mm 195); 1125 xp</td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 25 to find) Locked Simple Wooden Chest (DC 25 to unlock, DC 15 to
                        break; 10 hp)
                        <hr/>
                        <p>800 cp, 8000 sp, 2100 gp, 120 pp, Wood Framed Painting (250 gp), Brass Cloth Robe (250 gp),
                            Rhodochrosite Orb (250 gp), Quartz Bowl (250 gp), Gold Chalice (250 gp), Potion of Animal
                            Friendship (uncommon, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="39" name="39">Room #39</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#28">room #28</a></p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#54">room #54</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#55">room #55</a>, inhabited by Grick Alpha and 1 x Grick</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Chimera (cr 6, mm 39); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="40" name="40">Room #40</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Poison Gas Trap: DC 10 to find, DC 10 to disable; affects all targets within a 10
                        ft. square area, DC 15 save or take 4d10 poison damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="41" name="41">Room #41</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="42" name="42">Room #42</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#34">room #34</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#47">room #47</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Several alcoves are cut into the north wall, and someone has scrawled "Upon the
                        solstice in the Year of Mist, in the Labyrinth of Ghosts, the Crimson Cathedral shall be
                        restored" on the north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Cyclops (cr 6, mm 45); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="43" name="43">Room #43</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#32">room #32</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#44">room
                        #44</a>, inhabited by Hobgoblin Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#62">room #62</a>, inhabited by 1 x Wraith</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A wooden platform hangs over a deep pit in the north-east corner of the room, and
                        a pile of trash lies in the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Black Pudding (cr 4, mm 241); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="44" name="44">Room #44</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#33">room #33</a>, inhabited by Half-Red Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#43">room
                        #43</a>, inhabited by 1 x Black Pudding</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#45">room #45</a>,
                        inhabited by 2 x Ghost</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p
                            class="icon">&#9417; &nbsp; Fire Spray: DC 20 to find, DC 10 to disable; affects all targets
                        within a 20 ft. cone, DC 12 save or take 4d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#56">room #56</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Save yourself, kill the others" in blood on the east wall,
                        and several pieces of spoiled meat are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Hobgoblin Warlord (cr 6, mm 187) and 1 x Hobgoblin (cr 1/2, mm 186); 2400 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="45" name="45">Room #45</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#44">room #44</a>,
                        inhabited by Hobgoblin Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#46">room #46</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A chute descends from the room into a natural cavern below, and someone has
                        scrawled "Ingerdg Ljotgedotr was here" on the south wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Ghost (cr 4, mm 147); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="46" name="46">Room #46</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#45">room #45</a>, inhabited by 2 x Ghost</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#47">room #47</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#57">room #57</a>, inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 15 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to
                        one side)<p class="icon">&#9416; &nbsp; The door is concealed behind a pile of skulls</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 15 to find, DC 10 to disable; affects each
                            creature which touches the trigger, DC 14 save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#63">room #63</a>, inhabited by Orc War Chief
                            and 1 x Orc</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="47" name="47">Room #47</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#46">room #46</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#42">room #42</a>,
                        inhabited by 1 x Cyclops</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#57">room #57</a>,
                        inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Spirals of white stones cover the floor, and someone has scrawled "It's a trap" on
                        the west wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Ice Spear Trap: DC 15 to find, DC 15 to disable; +7 to hit against one target,
                        4d10 cold damage
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 20 to find) Unlocked Simple Wooden Chest (10 hp)
                        <hr/>
                        <p>800 cp, 5000 sp, 2500 gp, 130 pp, Electrum Cloth Ribbon (25 gp), Silk Gloves trimmed with
                            Ermine (25 gp), Leather Belt (25 gp), Pewter Sundial (25 gp), Copper Cloth Hunter's Cap (25
                            gp), Polished Stone Comb (25 gp), Polished Stone Medallion (25 gp), Iron Signet Ring (25
                            gp), Portable Hole (rare, dmg 185)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="48" name="48">Room #48</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#49">room #49</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A shallow pit lies in the west side of the room, and various torture devices are
                        scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Black Pudding (cr 4, mm 241); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="49" name="49">Room #49</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#31">room #31</a>, inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides down)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#35">room #35</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#48">room #48</a>, inhabited by 1 x Black Pudding</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#65">room #65</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="50" name="50">Room #50</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#59">room #59</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stream of oil flows along a channel in the floor, and several iron blobs are
                        scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="51" name="51">Room #51</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#37">room #37</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#36">room #36</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Stuck Simple Wooden Door (DC 10 to break; 10
                        hp)<p class="icon">&#9416; &nbsp; The door is concealed behind a statue of a demonic sorceress,
                            and opened by moving her hand</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 10 to find, DC 10 to disable; affects each
                            creature which touches the trigger, DC 11 save or take 2d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#52">room #52</a>, inhabited by 1 x Chimera</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="52" name="52">Room #52</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Stuck Simple Wooden Door (DC 10 to break; 10
                        hp)<p class="icon">&#9416; &nbsp; The door is concealed behind a statue of a demonic sorceress,
                            and opened by moving her hand</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 10 to find, DC 10 to disable; affects each
                            creature which touches the trigger, DC 11 save or take 2d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#51">room #51</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides to one side)<p
                            class="icon">&rarr; &nbsp; Leads to <a href="#54">room #54</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The ceiling is covered with bloodstains, and a pile of broken arrows lies in the
                        center of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Chimera (cr 6, mm 39); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="53" name="53">Room #53</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#62">room #62</a>, inhabited by 1 x Wraith</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)<p
                            class="icon">&#9417; &nbsp; Symbol of Panic: DC 15 to find, DC 15 to disable; affects all
                        targets within 10 ft., DC 11 save or become frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#68">room #68</a>, inhabited by 1 x Wraith</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Several alcoves are cut into the north and east walls, and a rotting journal lies
                        in the center of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="54" name="54">Room #54</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#39">room #39</a>,
                        inhabited by 1 x Chimera</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides to one side)<p
                            class="icon">&rarr; &nbsp; Leads to <a href="#52">room #52</a>, inhabited by 1 x Chimera</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#55">room #55</a>, inhabited by Grick Alpha and 1 x Grick</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#66">room #66</a>, inhabited by Half-Red Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="55" name="55">Room #55</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#39">room #39</a>, inhabited by 1 x Chimera</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#54">room #54</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)<p
                            class="icon">&#9417; &nbsp; Ice Dart Trap: DC 15 to find, DC 15 to disable; +6 to hit
                        against one target, 4d10 cold damage</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#66">room #66</a>,
                        inhabited by Half-Red Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Grick Alpha (cr 7, mm 173) and 1 x Grick (cr 2, mm 173); 3350 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Falling Cage Trap: DC 15 to find, DC 10 to disable; affects all targets within a
                        10 ft. square area, DC 11 save or become confined
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="56" name="56">Room #56</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p
                            class="icon">&#9417; &nbsp; Fire Spray: DC 20 to find, DC 10 to disable; affects all targets
                        within a 20 ft. cone, DC 12 save or take 4d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#44">room #44</a>, inhabited by Hobgoblin
                            Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#63">room #63</a>, inhabited by Orc War Chief and 1 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#73">room #73</a>, inhabited by 1 x Wraith</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The walls have been engraved with endless spirals, and lit candles are scattered
                        across the floor
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="57" name="57">Room #57</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#47">room #47</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#46">room #46</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#58">room #58</a>, inhabited by 1 x Black Pudding</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stone stair ascends towards the east wall, and someone has scrawled "It is
                        awake" in goblin runes on the west wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Flameskull (cr 4, mm 134); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="58" name="58">Room #58</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#57">room #57</a>, inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#69">room #69</a>,
                        inhabited by Red Dragon Wyrmling and 2 x Magma Mephit</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow shaft falls into the room from above, and someone has scrawled "The Wands
                        of Hireholm looted this place" on the west wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Black Pudding (cr 4, mm 241); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="59" name="59">Room #59</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#50">room #50</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp)<p class="icon">&#9417; &nbsp;
                        One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#76">room #76</a>, inhabited by 1 x Ettin</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Death comes on silent wings" in draconic script on the south
                        wall, and an iron chain hangs from the ceiling in the south side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="60" name="60">Room #60</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#61">room #61</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Magic Missle Trap: DC 15 to find, DC 15 to disable; one target, 2d10 force
                        damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="61" name="61">Room #61</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#60">room #60</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#70">room #70</a>,
                        inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Arrow Trap: DC 15 to find, DC 15 to disable; +6 to hit against
                        one target, 4d10 piercing damage</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Part of the north wall has collapsed into the room, and a crushed helm lies in the
                        south side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="62" name="62">Room #62</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#43">room #43</a>, inhabited by 1 x Black Pudding</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#53">room #53</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +3 to hit against one target, 2d10
                        piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#72">room #72</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Several corpses are impaled upon iron spikes on the ceiling, and a pair of dice
                        lies in the north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Wraith (cr 5, mm 302); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="63" name="63">Room #63</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 15 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides to
                        one side)<p class="icon">&#9416; &nbsp; The door is concealed behind a pile of skulls</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 15 to find, DC 10 to disable; affects each
                            creature which touches the trigger, DC 14 save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#46">room #46</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#56">room #56</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow pit covered by iron bars lies in the south-west corner of the room, and
                        several torches are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 1 x Orc (cr 1/2, mm 246); 1200 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Poisoned Net Trap: DC 10 to find, DC 10 to disable; affects all targets within a
                        10 ft. square area, DC 14 save or take 4d10 poison damage and become restrained, half damage on
                        a successful save
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="64" name="64">Room #64</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Falling Block: DC 15 to find, DC 10 to disable; affects all
                        targets within a 10 ft. square area, DC 13 save or take 4d10 damage</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#65">room #65</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A well lies in the east side of the room, and a group of draconic faces have been
                        carved into the east wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="65" name="65">Room #65</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#49">room #49</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#64">room #64</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Unlocked Iron Door (60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stone stair ascends towards the south wall, and someone has scrawled "Atud has
                        no beard" in dwarvish runes on the south wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Guillotine Blade: DC 15 to find, DC 15 to disable; +11 to hit against one target,
                        10d10 slashing damage
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 20 to find) Locked Iron Chest (DC 15 to unlock, DC 30 to break; 60 hp)
                        <hr/>
                        <p>800 cp, 3000 sp, 2200 gp, 90 pp, Amber (100 gp), Amethyst (100 gp), 2 x Coral (100 gp), 2 x
                            Jade (100 gp), Spinel (100 gp), Tourmaline (100 gp)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="66" name="66">Room #66</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#55">room #55</a>,
                        inhabited by Grick Alpha and 1 x Grick</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#54">room #54</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Fire Spray: DC 10 to find, DC 15 to disable; affects all targets
                        within a 20 ft. cone, DC 12 save or take 4d10 fire damage</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "six, eight, one, four" on the west wall, and several pieces
                        of rotten bread are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 1 x Thug (cr 1/2, mm 350); 1900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="67" name="67">Room #67</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#78">room #78</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Abandon all hope" in orcish runes on the north wall, and a
                        broken wooden chest lies in the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Xorn (cr 5, mm 304); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="68" name="68">Room #68</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)<p
                            class="icon">&#9417; &nbsp; Symbol of Panic: DC 15 to find, DC 15 to disable; affects all
                        targets within 10 ft., DC 11 save or become frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#53">room #53</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Wraith (cr 5, mm 302); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="69" name="69">Room #69</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#58">room #58</a>,
                        inhabited by 1 x Black Pudding</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#75">room #75</a>, inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Red Dragon Wyrmling (cr 4, mm 98) and 2 x Magma Mephit (cr 1/2, mm 216); 1300 xp
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="70" name="70">Room #70</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp) (magically
                        reinforced, disadvantage to break)<p class="icon">&#9417; &nbsp; Teleporter Crystal: DC 15 to
                            find, DC 15 to disable; affects each creature which touches the crystal, DC 13 save or be
                            teleported to another location</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#61">room #61</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#82">room #82</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A ruined siege weapon sits in the center of the room, and a swarm of crawling
                        insects covers the floor
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Troll (cr 5, mm 291); 1800 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Shrine of Law: DC 20 to find, DC 10 to disable; affects chaotic creatures which
                        touch the shrine, DC 14 save or take 4d10 damage and be stunned for 1 round
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="71" name="71">Room #71</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp) (slides up)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#72">room #72</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)
                        (slides to one side)<p class="icon">&#9417; &nbsp; Contact Poison: DC 10 to find, DC 10 to
                            disable; affects each creature which touches the trigger, DC 13 save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#84">room #84</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stair ascends to a catwalk hanging between the east and west walls, and spirals
                        of gray stones cover the floor
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Drider (cr 6, mm 120); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="72" name="72">Room #72</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +3 to hit against one target, 2d10
                        piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#62">room #62</a>, inhabited by 1 x Wraith</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp) (slides up)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#71">room #71</a>, inhabited by 1 x Drider</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#73">room #73</a>, inhabited by 1 x Wraith</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#84">room #84</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="73" name="73">Room #73</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#56">room #56</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#72">room #72</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#87">room #87</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Spirals of blue stones cover the floor, and someone has scrawled a large X on the
                        north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Wraith (cr 5, mm 302); 1800 xp</td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 25 to find) Unlocked Simple Wooden Chest (10 hp)
                        <hr/>
                        <p>600 cp, 7000 sp, 2300 gp, 110 pp, Silver Candlesticks inlaid with Copper (250 gp), Small
                            Tapestry (250 gp), Bronze Cloth Gown (250 gp), Gold Cloth Sash (250 gp), Gilded Wooden Bowl
                            (250 gp), Gold Goblet (250 gp)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="74" name="74">Room #74</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#75">room #75</a>, inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#88">room #88</a>, inhabited by Red Dragon Wyrmling and 1 x
                        Kobold</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A balcony hangs from the east wall, and several iron cages are scattered
                        throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Ghost (cr 4, mm 147); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="75" name="75">Room #75</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#74">room #74</a>, inhabited by 1 x Ghost</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#69">room #69</a>, inhabited by Red Dragon Wyrmling and 2 x Magma Mephit</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#85">room #85</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A magical statue in the south-east corner of the room speaks riddles and cryptic
                        prophecies, and iron chains hang from the ceiling in the east side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Flameskull (cr 4, mm 134); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="76" name="76">Room #76</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp)<p class="icon">&#9417; &nbsp;
                        One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#59">room #59</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#92">room #92</a>, inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Ettin (cr 4, mm 132); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="77" name="77">Room #77</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#81">room #81</a>,
                        inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156) and 1 x Cave Bear (cr 2, mm 334); 3350 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="78" name="78">Room #78</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#67">room #67</a>,
                        inhabited by 1 x Xorn</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#93">room #93</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A mural of legendary monsters covers the ceiling, and several pieces of trash are
                        scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="79" name="79">Room #79</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#85">room #85</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#80">room #80</a>, inhabited by 1 x Beholder Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#89">room #89</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Ecix fell here, slain by shadows" on the south wall, and
                        several iron spikes are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 5 x Orc (cr 1/2, mm 246); 1600 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Arrow Blaster: DC 10 to find, DC 15 to disable; +5 to hit against up to three
                        targets within 10 ft., 2d10 piercing damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="80" name="80">Room #80</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#79">room #79</a>, inhabited by Orc War Chief and 5 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#90">room #90</a>, inhabited by Roper and 1 x Piercer</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Beholder Zombie (cr 5, mm 316); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="81" name="81">Room #81</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#77">room #77</a>,
                        inhabited by 1 x Stone Giant and 1 x Cave Bear</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 20 to find) Trapped and Unlocked Strong Wooden Door (20 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 10 to find, DC 10 to disable; affects each
                            creature which touches the trigger, DC 16 save or take 10d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#82">room #82</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A shallow pit lies in the north-east corner of the room, and a sundered helm lies
                        in the north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156); 2900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="82" name="82">Room #82</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#70">room #70</a>, inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 20 to find) Trapped and Unlocked Strong Wooden Door (20 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 10 to find, DC 10 to disable; affects each
                            creature which touches the trigger, DC 16 save or take 10d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#81">room #81</a>, inhabited by 1 x Stone Giant
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Beneath the altar" on the north wall, and screaming can be
                        faintly heard near the west wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Falling Cage Trap: DC 10 to find, DC 10 to disable; affects all targets within a
                        10 ft. square area, DC 10 save or become confined
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="83" name="83">Room #83</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)<p
                            class="icon">&#9416; &nbsp; The door is located near the ceiling and concealed behind an
                        area of slime</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Rune of
                        Dread: DC 15 to find, DC 15 to disable; affects all targets within 10 ft., DC 10 save or become
                        frightened for 1d4 rounds</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">An enchanted pool in the north-east corner of the room petrifies whomever drinks
                        from it, and a bent dagger lies in the south-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="84" name="84">Room #84</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#72">room #72</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)
                        (slides to one side)<p class="icon">&#9417; &nbsp; Contact Poison: DC 10 to find, DC 10 to
                            disable; affects each creature which touches the trigger, DC 13 save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#71">room #71</a>, inhabited by 1 x Drider</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p
                            class="icon">&#9416; &nbsp; A stone statue and section of wall pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; Thunderstone Mine: DC 15 to find, DC 15 to disable; affects all
                            targets within 20 ft., DC 13 save or take 4d10 thunder damage and become deafened for 1d4
                            rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#94">room #94</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="85" name="85">Room #85</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#75">room #75</a>, inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#79">room #79</a>,
                        inhabited by Orc War Chief and 5 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#101">room #101</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "The Black Shields killed a rust monster here" on the east
                        wall, and a pair of boots lies in the north side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="86" name="86">Room #86</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#99">room #99</a>, inhabited by 1 x Beholder Zombie</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Chuul (cr 4, mm 40); 2200 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Barbed Net Trap: DC 10 to find, DC 10 to disable; affects all targets within a 10
                        ft. square area, DC 11 save or take 2d10 damage and become restrained
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="87" name="87">Room #87</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#73">room #73</a>, inhabited by 1 x Wraith</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#88">room #88</a>, inhabited by Red Dragon Wyrmling and 1 x Kobold</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#100">room #100</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#103">room #103</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Arrow Blaster: DC 15 to find, DC 10 to disable; +3 to hit against up to three
                        targets within 10 ft., 2d10 piercing damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="88" name="88">Room #88</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#74">room #74</a>, inhabited by 1 x Ghost</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#87">room #87</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#95">room #95</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tile labyrinth covers the floor, and an iron chandelier hangs from the ceiling
                        in the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Red Dragon Wyrmling (cr 4, mm 98) and 1 x Kobold (cr 1/8, mm 195); 1125 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="89" name="89">Room #89</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#79">room #79</a>, inhabited by Orc War Chief and 5 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed behind a statue of an elemental
                        salamander, and opened by setting it aflame</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#90">room #90</a>, inhabited by Roper and 1 x
                            Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#101">room #101</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stone stair ascends towards the south wall, and various torture devices are
                        scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="90" name="90">Room #90</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#80">room #80</a>, inhabited by 1 x Beholder Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed behind a statue of an elemental
                        salamander, and opened by setting it aflame</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#89">room #89</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">
                        &#9417; &nbsp; Guillotine Blade: DC 10 to find, DC 10 to disable; +4 to hit against one target,
                        2d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#104">room #104</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (magically reinforced,
                        disadvantage to break)<p class="icon">&rarr; &nbsp; Leads to <a href="#105">room #105</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 1 x Piercer (cr 1/2, mm 252); 1900 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Shrine of Evil: DC 10 to find, DC 15 to disable; affects good creatures which
                        touch the shrine, DC 14 save or take 4d10 damage
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Locked Iron Chest (DC 25 to unlock, DC 30 to break; 60 hp)
                        <hr/>
                        <p>600 cp, 11000 sp, 1700 gp, 90 pp, Silk Cloak trimmed with Ermine (250 gp), Marble Mask inlaid
                            with Fine Steel (250 gp), Platinum Pendant inlaid with Brass (250 gp), Tooled Leather
                            Coinpurse inlaid with Copper (250 gp), Glass Eye (250 gp), Brass Cloth Gown (250 gp), Spinel
                            Dice (pair) set with Chalcedony (250 gp), Fox Fur Bracers (250 gp), Potion of Healing
                            (common, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="91" name="91">Room #91</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +8 to hit against one target, 4d10
                        piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#106">room #106</a>, inhabited by 1 x Ghost</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Drider (cr 6, mm 120) and 1 x Giant Spider (cr 1, mm 328); 2500 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="92" name="92">Room #92</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#76">room #76</a>, inhabited by 1 x Ettin</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp) (slides to one
                        side)<p class="icon">&rarr; &nbsp; Leads to <a href="#102">room #102</a>, inhabited by Half-Red
                            Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled a basic map of the dungeon on the south wall, and a rattling
                        noise can be heard in the south side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Bone Naga (cr 4, mm 233); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="93" name="93">Room #93</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#78">room #78</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides down)
                        <p class="icon">&#9417; &nbsp; Guillotine Blade: DC 15 to find, DC 15 to disable; +6 to hit
                            against one target, 4d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#109">room #109</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#110">room #110</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="94" name="94">Room #94</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p
                            class="icon">&#9416; &nbsp; A stone statue and section of wall pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; Thunderstone Mine: DC 15 to find, DC 15 to disable; affects all
                            targets within 20 ft., DC 13 save or take 4d10 thunder damage and become deafened for 1d4
                            rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#84">room #84</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)<p
                            class="icon">&#9416; &nbsp; The door is located above a small stone dais and concealed by an
                        illusion</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#99">room #99</a>, inhabited by 1 x Beholder
                            Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp) (slides down)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#103">room #103</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#111">room #111</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Jagged steel blades project from cracks in the south and west walls, and a pile of
                        empty flasks lies in the south-west corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="95" name="95">Room #95</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 20 to find) Locked Strong Wooden Door (DC 10 to open, DC 20 to break;
                        20 hp)<p class="icon">&#9416; &nbsp; The door is located several feet above the floor and
                            concealed behind a pile of broken stone</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#88">room #88</a>, inhabited by Red Dragon Wyrmling and 1 x Kobold</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#100">room #100</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#101">room #101</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 15 to find) Unlocked Simple Wooden Chest (10 hp)
                        <hr/>
                        <p>600 cp, 4000 sp, 2300 gp, 100 pp, Carnelian (50 gp), Chalcedony (50 gp), Citrine (50 gp),
                            Jasper (50 gp), Onyx (50 gp), Zircon (50 gp), Potion of Greater Healing (uncommon, dmg
                            187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="96" name="96">Room #96</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#102">room
                        #102</a>, inhabited by Half-Red Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp) (slides up)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#97">room #97</a>, inhabited by Roper and 2 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#107">room #107</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A faded and torn tapestry hangs from the north wall, and a crushed helm lies in
                        the east side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="97" name="97">Room #97</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp) (slides up)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#96">room #96</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 15 to find) Locked Strong Wooden Door (DC 25 to open, DC 20 to break;
                        20 hp)<p class="icon">&#9416; &nbsp; The door is concealed within the mouth of a demonic face
                            carved from stone</p>
                        <p class="icon">&#9417; &nbsp; One-way Door: DC 15 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#98">room #98</a>, inhabited by 1 x Wraith</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#108">room #108</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 2 x Piercer (cr 1/2, mm 252); 2000 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Concealed Pit with Spikes: DC 15 to find, DC 15 to disable; affects all targets
                        entering a 10 ft. square area, DC 12 save or take 4d10 damage
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 20 to find) Locked Good Wooden Chest (DC 25 to unlock, DC 20 to break;
                        15 hp)
                        <hr/>
                        <p>900 cp, 3000 sp, 2800 gp, 60 pp, Amethyst (100 gp), Coral (100 gp), Garnet (100 gp), Jade
                            (100 gp), 2 x Jet (100 gp), Pearl (100 gp), Spinel (100 gp), 3 x Tourmaline (100 gp), Spell
                            Scroll (Daylight) (uncommon, dmg 200), Potion of Water Breathing (uncommon, dmg 188)</p>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="98" name="98">Room #98</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 15 to find) Locked Strong Wooden Door (DC 25 to open, DC 20 to break;
                        20 hp)<p class="icon">&#9416; &nbsp; The door is concealed within the mouth of a demonic face
                            carved from stone</p>
                        <p class="icon">&#9417; &nbsp; One-way Door: DC 15 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#97">room #97</a>, inhabited by Roper and 2 x
                            Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#109">room #109</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#114">room #114</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Wraith (cr 5, mm 302); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="99" name="99">Room #99</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#86">room #86</a>, inhabited by 2 x Chuul</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)<p
                            class="icon">&#9416; &nbsp; The door is located above a small stone dais and concealed by an
                        illusion</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#94">room #94</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Beholder Zombie (cr 5, mm 316); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="100" name="100">Room #100</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#87">room #87</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#103">room #103</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#95">room #95</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#112">room #112</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="101" name="101">Room #101</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#85">room #85</a></p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#89">room #89</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#95">room #95</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#104">room #104</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#117">room #117</a>, inhabited by Orc War Chief and 5 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="102" name="102">Room #102</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp) (slides to one
                        side)<p class="icon">&rarr; &nbsp; Leads to <a href="#92">room #92</a>, inhabited by 2 x Bone
                            Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#96">room
                        #96</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#107">room #107</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#113">room #113</a>, inhabited by Orc War Chief and 5 x Orc</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 1 x Thug (cr 1/2, mm 350); 1900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="103" name="103">Room #103</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#87">room #87</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp) (slides down)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#94">room #94</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#111">room #111</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#100">room #100</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#112">room #112</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#116">room #116</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A magical mirror on the west wall answers questions with lies and falsehoods, and
                        someone has scrawled "Good spot for ambush" in goblin runes on the north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Otyugh (cr 5, mm 248); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="104" name="104">Room #104</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">
                        &#9417; &nbsp; Guillotine Blade: DC 10 to find, DC 10 to disable; +4 to hit against one target,
                        2d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#90">room #90</a>, inhabited by Roper and 1 x
                            Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#101">room #101</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +7 to hit against one target, 4d10 piercing
                        damage</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#122">room #122</a>, inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A corroded iron key hangs from a hook on the east wall, and a ruined gauntlet lies
                        in the east side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="105" name="105">Room #105</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (magically reinforced,
                        disadvantage to break)<p class="icon">&rarr; &nbsp; Leads to <a href="#90">room #90</a>,
                            inhabited by Roper and 1 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (magically reinforced,
                        disadvantage to break)<p class="icon">&rarr; &nbsp; Leads to <a href="#123">room #123</a>,
                            inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="106" name="106">Room #106</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +8 to hit against one target, 4d10
                        piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#91">room #91</a>, inhabited by Drider and 1 x
                            Giant Spider</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "The Blade of Charity is reforged" on the west wall, and a
                        pile of blood-soaked clothing lies in the north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Ghost (cr 4, mm 147); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="107" name="107">Room #107</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#96">room #96</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#102">room #102</a>,
                        inhabited by Half-Red Dragon Veteran and 1 x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Stone Door (60 hp)<p class="icon">&#9416; &nbsp;
                        The door is located several feet above the floor and designed to make noise when opened</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#108">room #108</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="108" name="108">Room #108</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Iron Door (DC 20 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#97">room #97</a>, inhabited by Roper and 2 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Stone Door (60 hp)<p class="icon">&#9416; &nbsp;
                        The door is located several feet above the floor and designed to make noise when opened</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#107">room #107</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#114">room
                        #114</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stream of quicksilver flows along a channel in the floor, and spirals of black
                        stones cover the floor
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="109" name="109">Room #109</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 25 to open, DC 30 to break; 60 hp) (slides down)
                        <p class="icon">&#9417; &nbsp; Guillotine Blade: DC 15 to find, DC 15 to disable; +6 to hit
                            against one target, 4d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#93">room #93</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#98">room #98</a>, inhabited by 1 x Wraith</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides
                        down)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#110">room #110</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#120">room #120</a>, inhabited by Drider and 1 x
                            Giant Spider</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tapestry of a water god hangs from the south wall, and someone has scrawled an
                        alien symbol on the west wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="110" name="110">Room #110</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#93">room #93</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp) (slides
                        down)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#109">room #109</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="111" name="111">Room #111</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#94">room #94</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#115">room #115</a>,
                        inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#103">room #103</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp) (slides down)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#126">room #126</a>, inhabited by Orc War Chief and 6 x Orc</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow shaft descends from the room into a plundered tomb below, and a pile of
                        shattered weapons lies in the east side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="112" name="112">Room #112</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#100">room #100</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#103">room #103</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#127">room
                        #127</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The floor is covered in perfect hexagonal tiles, and someone has scrawled "The
                        Legion of the Crown killed a blue dragon here" on the north wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="113" name="113">Room #113</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#102">room #102</a>, inhabited by Half-Red Dragon Veteran and 1 x Thug
                    </p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#118">room #118</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#129">room #129</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 5 x Orc (cr 1/2, mm 246); 1600 xp</td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 25 to find) Locked Simple Wooden Chest (DC 20 to unlock, DC 15 to
                        break; 10 hp)
                        <hr/>
                        <p>600 cp, 7000 sp, 2900 gp, 60 pp, Carnelian (50 gp), 2 x Chalcedony (50 gp), Chrysoprase (50
                            gp), Citrine (50 gp), 2 x Moonstone (50 gp), 2 x Onyx (50 gp), 2 x Quartz (50 gp), 2 x
                            Sardonyx (50 gp), Star rose quartz (50 gp), 2 x Zircon (50 gp), Adamantine Armor (chain
                            mail) (uncommon, dmg 150), Amulet of Proof Against Detection and Location (uncommon, dmg
                            150)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="114" name="114">Room #114</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#98">room #98</a>, inhabited by 1 x Wraith</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#108">room
                        #108</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#119">room #119</a>, inhabited by Red Dragon Wyrmling and 8 x Kobold</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed behind a statue of a troll archer, and
                        opened by pulling an arrow in its quiver</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#120">room #120</a>, inhabited by Drider and 1 x
                            Giant Spider</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A clanking sound can be faintly heard near the east wall, and several pieces of
                        broken glass are scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="115" name="115">Room #115</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#111">room #111</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A well lies in the west side of the room, and the floor is covered in perfect
                        hexagonal tiles
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Flameskull (cr 4, mm 134); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="116" name="116">Room #116</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#103">room #103</a>,
                        inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#126">room #126</a>, inhabited by Orc War Chief and 6 x Orc</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Earthmaw Trap: DC 10 to find, DC 10 to disable; +7 to hit against one target, 4d10
                        piercing damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="117" name="117">Room #117</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)<p class="icon">&#9416;
                        &nbsp; A bookcase and concealed door pivots smoothly</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#101">room #101</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Unlocked Stone Door (60 hp)<p class="icon">&#9417; &nbsp; Rune of
                        Fear: DC 15 to find, DC 15 to disable; affects all targets within 10 ft., DC 12 save or become
                        frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#121">room #121</a>, inhabited by 1 x Flameskull
                        </p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A faded and torn tapestry hangs from the east wall, and several pieces of rotten
                        fruit are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 5 x Orc (cr 1/2, mm 246); 1600 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="118" name="118">Room #118</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#113">room #113</a>,
                        inhabited by Orc War Chief and 5 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; Teleporter Crystal: DC 10 to find, DC 10 to disable; affects each creature which
                        touches the crystal, DC 10 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#129">room #129</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#133">room #133</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A simple fireplace sits against the east wall, and the ceiling is covered with
                        cracks
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="119" name="119">Room #119</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#114">room #114</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#134">room #134</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Part of the ceiling has collapsed into the room, and spirals of white stones cover
                        the floor
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Red Dragon Wyrmling (cr 4, mm 98) and 8 x Kobold (cr 1/8, mm 195); 1300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="120" name="120">Room #120</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#109">room #109</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed behind a statue of a troll archer, and
                        opened by pulling an arrow in its quiver</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#114">room #114</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p
                            class="icon">&#9416; &nbsp; The door is located above a small stone dais and concealed
                        behind an area of fungus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#130">room #130</a>, inhabited by 1 x Ettin</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A rope ascends to a wooden platform in the south-east corner of the room, and a
                        pile of barrel staves lies in the north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Drider (cr 6, mm 120) and 1 x Giant Spider (cr 1, mm 328); 2500 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="121" name="121">Room #121</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Unlocked Stone Door (60 hp)<p class="icon">&#9417; &nbsp; Rune of
                        Fear: DC 15 to find, DC 15 to disable; affects all targets within 10 ft., DC 12 save or become
                        frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#117">room #117</a>, inhabited by Orc War Chief
                            and 5 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#122">room #122</a>, inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Numerous pillars line the east and west walls, and several pieces of rotting wood
                        are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Flameskull (cr 4, mm 134); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="122" name="122">Room #122</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#104">room #104</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#121">room #121</a>, inhabited by 1 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is located above a small stone dais and concealed by an
                        illusion</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#132">room #132</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; Acid Spray: DC 20 to find, DC 20 to disable; affects all targets within a 20 ft.
                        cone, DC 14 save or take 2d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#123">room #123</a>, inhabited by 2 x Bone Naga
                        </p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156); 2900 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Poisoned Arrow Trap: DC 10 to find, DC 10 to disable; +6 to hit against one
                        target, 4d10 piercing/poison damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="123" name="123">Room #123</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (magically reinforced,
                        disadvantage to break)<p class="icon">&rarr; &nbsp; Leads to <a href="#105">room #105</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; Acid Spray: DC 20 to find, DC 20 to disable; affects all targets within a 20 ft.
                        cone, DC 14 save or take 2d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#122">room #122</a>, inhabited by 1 x Stone
                            Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#136">room #136</a>, inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within the mouth of a gargantuan skull
                        carved from stone</p>
                        <p class="icon">&#9417; &nbsp; Teleporter Crystal: DC 15 to find, DC 10 to disable; affects each
                            creature which touches the crystal, DC 10 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#137">room #137</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Bone Naga (cr 4, mm 233); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="124" name="124">Room #124</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#130">room #130</a>, inhabited by 1 x Ettin</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A ruined siege weapon sits in the north side of the room, and someone has scrawled
                        "The thief will betray you" in blood on the south wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="125" name="125">Room #125</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#131">room #131</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#126">room #126</a>, inhabited by Orc War Chief and 6 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides to one
                        side)<p class="icon">&rarr; &nbsp; Leads to <a href="#140">room #140</a>, inhabited by Orc War
                            Chief and 6 x Orc</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="126" name="126">Room #126</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp) (slides down)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#111">room #111</a></p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#116">room #116</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#125">room #125</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#135">room #135</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 6 x Orc (cr 1/2, mm 246); 1700 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="127" name="127">Room #127</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#112">room
                        #112</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#128">room #128</a>, inhabited by Roper and 2 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#135">room #135</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="128" name="128">Room #128</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#127">room #127</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Secret (DC 15 to find) Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">
                        &#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#135">room #135</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#132">room #132</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#142">room #142</a>, inhabited by 1 x Drider</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 2 x Piercer (cr 1/2, mm 252); 2000 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="129" name="129">Room #129</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#113">room #113</a>, inhabited by Orc War Chief and 5 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; Teleporter Crystal: DC 10 to find, DC 10 to disable; affects each creature which
                        touches the crystal, DC 10 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#118">room #118</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#133">room #133</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#137">room #137</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A chute descends from the room into the next dungeon level down, and a pile of
                        iron spikes lies in the south-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Arrow Blaster: DC 10 to find, DC 15 to disable; +4 to hit against up to three
                        targets within 10 ft., 2d10 piercing damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="130" name="130">Room #130</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 20 to find) Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p
                            class="icon">&#9416; &nbsp; The door is located above a small stone dais and concealed
                        behind an area of fungus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#120">room #120</a>, inhabited by Drider and 1 x
                            Giant Spider</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#124">room #124</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#145">room #145</a>,
                        inhabited by 1 x Earth Elemental</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Several iron cages are scattered throughout the room, and a bloody journal lies in
                        the north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Ettin (cr 4, mm 132); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="131" name="131">Room #131</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#125">room #125</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#139">room #139</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="132" name="132">Room #132</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#128">room #128</a>, inhabited by Roper and 2 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is located above a small stone dais and concealed by an
                        illusion</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#122">room #122</a>, inhabited by 1 x Stone
                            Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#136">room #136</a>, inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Iron Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#147">room
                        #147</a>, inhabited by 1 x Troll</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Guillotine Blade: DC 15 to find, DC 15 to disable; +8 to hit against one target,
                        4d10 slashing damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="133" name="133">Room #133</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#118">room #118</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#129">room #129</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#138">room #138</a>, inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#143">room #143</a>, inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The floor is covered in square tiles, alternating white and black, and a ruined
                        siege weapon sits in the north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 15 to find) Locked Iron Chest (DC 20 to unlock, DC 30 to break; 60 hp)
                        <hr/>
                        <p>800 cp, 4000 sp, 1600 gp, 110 pp, Amber (100 gp), 2 x Chrysoberyl (100 gp), Coral (100 gp),
                            Garnet (100 gp), Jade (100 gp), 2 x Jet (100 gp), Spinel (100 gp), Tourmaline (100 gp), Oil
                            of Slipperiness (uncommon, dmg 184), Potion of Fire Breath (uncommon, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="134" name="134">Room #134</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#119">room #119</a>, inhabited by Red Dragon Wyrmling and 8 x
                        Kobold</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#144">room #144</a>, inhabited by Half-Red Dragon Veteran and 1 x Veteran</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#150">room #150</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="135" name="135">Room #135</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#127">room #127</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#126">room #126</a>, inhabited by Orc War Chief and 6 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 15 to find) Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">
                        &#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#128">room #128</a>, inhabited by Roper and 2 x
                            Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stair ascends to a balcony hanging from the north wall, and the scent of urine
                        fills the north-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="136" name="136">Room #136</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#123">room #123</a>, inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#132">room #132</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#147">room #147</a>, inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#151">room #151</a>,
                        inhabited by 2 x Chuul</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The south and west walls have been engraved with incoherent labyrinths, and a
                        warped spear lies in the south side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156); 2900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="137" name="137">Room #137</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Secret (DC 15 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within the mouth of a gargantuan skull
                        carved from stone</p>
                        <p class="icon">&#9417; &nbsp; Teleporter Crystal: DC 15 to find, DC 10 to disable; affects each
                            creature which touches the crystal, DC 10 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#123">room #123</a>, inhabited by 2 x Bone Naga
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#129">room #129</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#138">room #138</a>,
                        inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#148">room #148</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#149">room #149</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tile labyrinth covers the floor, and several candles are scattered throughout
                        the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="138" name="138">Room #138</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#137">room #137</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#133">room #133</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled an incomplete drawing of a dragon on the north wall, and
                        several pieces of rotten bread are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Troll (cr 5, mm 291); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="139" name="139">Room #139</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#131">room #131</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#140">room #140</a>, inhabited by Orc War Chief and 6 x Orc</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The scent of urine fills the north side of the room, and several barrel staves are
                        scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="140" name="140">Room #140</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp) (slides to one
                        side)<p class="icon">&rarr; &nbsp; Leads to <a href="#125">room #125</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#139">room #139</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#141">room #141</a>, inhabited by Half-Red Dragon Veteran and 3 x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow shaft descends from the room into a midden chamber below, and a stone
                        dais and throne sits in the south side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 6 x Orc (cr 1/2, mm 246); 1700 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="141" name="141">Room #141</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#140">room #140</a>, inhabited by Orc War Chief and 6 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#146">room #146</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#153">room #153</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#154">room #154</a>, inhabited by 2 x Ghost</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 3 x Thug (cr 1/2, mm 350); 2100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="142" name="142">Room #142</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#128">room #128</a>, inhabited by Roper and 2 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stream of acid flows along a channel in the floor, and the floor is covered with
                        dust
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Drider (cr 6, mm 120); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="143" name="143">Room #143</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#133">room #133</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#158">room #158</a>, inhabited by Red Dragon Wyrmling and 2 x Magma Mephit</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#159">room #159</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Bone Naga (cr 4, mm 233); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="144" name="144">Room #144</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#134">room #134</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Secret (DC 20 to find) Locked Simple Wooden Door (DC 15 to open, DC 15 to break;
                        10 hp) (slides down)<p class="icon">&#9416; &nbsp; The door is located near the ceiling and
                            concealed within a mosaic of vile acts</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#160">room #160</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp) (magically reinforced, disadvantage
                        to break)<p class="icon">&rarr; &nbsp; Leads to <a href="#161">room #161</a>, inhabited by
                            Wraith and 1 x Wight</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Twist the cog to reset the trap" on the west wall, and acid
                        drips from the ceiling in the south-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 1 x Veteran (cr 3, mm 350); 2500 xp
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="145" name="145">Room #145</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#130">room #130</a>,
                        inhabited by 1 x Ettin</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp;
                        Symbol of Panic: DC 15 to find, DC 10 to disable; affects all targets within 10 ft., DC 14 save
                        or become frightened for 1d4 rounds</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#161">room #161</a>, inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&#9417;
                        &nbsp; One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#162">room #162</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A group of demonic faces have been carved into the south wall, and someone has
                        scrawled "door, straight, straight, door, right, straight" on the east wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Earth Elemental (cr 5, mm 124); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="146" name="146">Room #146</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#141">room #141</a>, inhabited by Half-Red Dragon Veteran and 3 x Thug</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Earthmaw Trap: DC 10 to find, DC 15 to disable; +12 to hit against one target,
                        10d10 piercing damage</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#155">room #155</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled an evil symbol on the north wall, and several rotten apples
                        are scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="147" name="147">Room #147</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Unlocked Iron Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#132">room
                        #132</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#136">room #136</a>, inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#151">room #151</a>, inhabited by 2 x Chuul</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#157">room #157</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A faded and torn tapestry hangs from the west wall, and someone has scrawled
                        "Hofni Hrostison has no beard" in dwarvish runes on the south wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Troll (cr 5, mm 291); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="148" name="148">Room #148</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#137">room #137</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Acid Spray: DC 20 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 13
                        save or take 2d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#149">room #149</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tapestry of ancient mythology hangs from the north wall, and a rusted gauntlet
                        lies in the north-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="149" name="149">Room #149</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#137">room #137</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Acid Spray: DC 20 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 13
                        save or take 2d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#148">room #148</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tapestry of legendary monsters hangs from the north wall, and someone has
                        scrawled a crude drawing of a succubus on the north wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="150" name="150">Room #150</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#134">room #134</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Guillotine
                        Blade: DC 10 to find, DC 10 to disable; +4 to hit against one target, 2d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#159">room #159</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="151" name="151">Room #151</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#136">room #136</a>,
                        inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#147">room #147</a>, inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp) (slides to one
                        side)<p class="icon">&rarr; &nbsp; Leads to <a href="#163">room #163</a>, inhabited by 1 x Troll
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp)<p class="icon">&#9417; &nbsp;
                        Magic Missle Trap: DC 10 to find, DC 10 to disable; one target, 2d10 force damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#164">room #164</a>, inhabited by Roper and 1 x
                            Piercer</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Part of the east wall has collapsed into the room, and a foul odor fills the
                        room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Chuul (cr 4, mm 40); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="152" name="152">Room #152</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#153">room #153</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#166">room #166</a>,
                        inhabited by 1 x Chuul</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Poisoned Net Trap: DC 10 to find, DC 10 to disable; affects all targets within a
                        10 ft. square area, DC 15 save or take 4d10 poison damage and become restrained, half damage on
                        a successful save
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="153" name="153">Room #153</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Secret (DC 15 to find) Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15
                        hp)<p class="icon">&#9416; &nbsp; The door is concealed behind a tapestry of an undead god</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#141">room #141</a>,
                        inhabited by Half-Red Dragon Veteran and 3 x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#152">room #152</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#167">room #167</a>, inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Symbol of Panic: DC 20 to find, DC 10 to disable; affects all targets within 10
                        ft., DC 11 save or become frightened for 1d4 rounds
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="154" name="154">Room #154</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#141">room #141</a>, inhabited by Half-Red Dragon Veteran and 3 x Thug</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#168">room #168</a>, inhabited by 1 x Stone Giant</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A toppled statue lies in the south side of the room, and the sound of rushing
                        water can be faintly heard near the north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Ghost (cr 4, mm 147); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="155" name="155">Room #155</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#146">room #146</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp) (slides up)<p class="icon">&#9417;
                        &nbsp; Guillotine Blade: DC 10 to find, DC 10 to disable; +8 to hit against one target, 4d10
                        slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#168">room #168</a>, inhabited by 1 x Stone
                            Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp; Acid
                        Spray: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 11 save or
                        take 2d10 acid damage for 1d4 rounds</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="156" name="156">Room #156</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#157">room
                        #157</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#170">room #170</a>, inhabited by 1 x Ettin</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Otyugh (cr 5, mm 248); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="157" name="157">Room #157</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#147">room #147</a>,
                        inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#156">room
                        #156</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; Fire Spray: DC 15 to find, DC 20 to disable; affects all targets within a 20 ft. cone, DC
                        15 save or take 4d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#163">room #163</a>, inhabited by 1 x Troll</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp; Acid
                        Spray: DC 10 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 19 save or
                        take 4d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#171">room #171</a>, inhabited by 1 x Cyclops
                        </p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Never trust an elf" in dwarvish runes on the east wall, and
                        a ruined chain shirt lies in the north-west corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="158" name="158">Room #158</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#143">room #143</a>, inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#169">room #169</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#175">room #175</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Red Dragon Wyrmling (cr 4, mm 98) and 2 x Magma Mephit (cr 1/2, mm 216); 1300 xp
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="159" name="159">Room #159</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#143">room #143</a>, inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Guillotine
                        Blade: DC 10 to find, DC 10 to disable; +4 to hit against one target, 2d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#150">room #150</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#169">room #169</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A circle of tall stones stands in the center of the room, and several corroded
                        iron spikes are scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="160" name="160">Room #160</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 20 to find) Locked Simple Wooden Door (DC 15 to open, DC 15 to break;
                        10 hp) (slides down)<p class="icon">&#9416; &nbsp; The door is located near the ceiling and
                            concealed within a mosaic of vile acts</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#144">room #144</a>, inhabited by Half-Red
                            Dragon Veteran and 1 x Veteran</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#161">room #161</a>, inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Large Electrified Floortile: DC 20 to find, DC 15 to disable; affects all targets
                        within a 20 ft. square area, DC 16 save or take 10d10 lightning damage
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 25 to find) Locked Simple Wooden Chest (DC 20 to unlock, DC 15 to
                        break; 10 hp)
                        <hr/>
                        <p>900 cp, 7000 sp, 2600 gp, 130 pp, Amber (100 gp), Chrysoberyl (100 gp), 3 x Coral (100 gp), 3
                            x Garnet (100 gp), Jade (100 gp), 3 x Jet (100 gp), 2 x Spinel (100 gp)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="161" name="161">Room #161</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp) (magically reinforced, disadvantage
                        to break)<p class="icon">&rarr; &nbsp; Leads to <a href="#144">room #144</a>, inhabited by
                            Half-Red Dragon Veteran and 1 x Veteran</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#145">room #145</a>, inhabited by 1 x Earth Elemental</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#160">room #160</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Secret (DC 25 to find) Trapped and Unlocked Strong Wooden Door (20 hp)<p
                            class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; One-way Door: DC 15 to find, DC 15 to disable</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to
                        open)<p class="icon">&rarr; &nbsp; Leads to <a href="#162">room #162</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#177">room #177</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Sharpen thy spear and ready thy shield" on the north wall,
                        and a blood-soaked blanket lies in the east side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Wraith (cr 5, mm 302) and 1 x Wight (cr 3, mm 300); 2500 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="162" name="162">Room #162</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&#9417;
                        &nbsp; One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#145">room #145</a>, inhabited by 1 x Earth
                            Elemental</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to
                        open)<p class="icon">&rarr; &nbsp; Leads to <a href="#161">room #161</a>, inhabited by Wraith
                            and 1 x Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Rune of Fear: DC 15 to find, DC 10 to disable; affects all
                        targets within 10 ft., DC 12 save or become frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#177">room #177</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Several square holes are cut into the ceiling and floor, and a tapestry of a god
                        of darkness hangs from the south wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="163" name="163">Room #163</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 15 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Contact Poison: DC 15 to find, DC 15 to disable; affects each
                        creature which touches the trigger, DC 15 save or take 4d10 damage</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp) (slides to one
                        side)<p class="icon">&rarr; &nbsp; Leads to <a href="#151">room #151</a>, inhabited by 2 x Chuul
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; Fire Spray: DC 15 to find, DC 20 to disable; affects all targets within a 20 ft. cone, DC
                        15 save or take 4d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#157">room #157</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#164">room #164</a>,
                        inhabited by Roper and 1 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#172">room #172</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A chute descends from the room into a plundered tomb below, and several bent
                        copper coins are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Troll (cr 5, mm 291); 1800 xp</td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Locked Simple Wooden Chest (DC 15 to unlock, DC 15 to break; 10 hp)
                        <hr/>
                        <p>400 cp, 3000 sp, 1900 gp, 140 pp, Small Vial of Perfume (25 gp), Leather Ribbon (25 gp),
                            Leather Belt with Silver Buckle (25 gp), Feathered Belt (25 gp), Copper Cloth Hunter's Cap
                            (25 gp), Potion of Resistance (acid) (uncommon, dmg 188), Potion of Resistance (poison)
                            (uncommon, dmg 188), Spell Scroll (Hold Person) (uncommon, dmg 200), Potion of Greater
                            Healing (uncommon, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="164" name="164">Room #164</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp)<p class="icon">&#9417; &nbsp;
                        Magic Missle Trap: DC 10 to find, DC 10 to disable; one target, 2d10 force damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#151">room #151</a>, inhabited by 2 x Chuul</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#163">room #163</a>,
                        inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#173">room #173</a>, inhabited by Troll and 1 x Ogre</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stream of blood flows along a channel in the floor, and several iron cages are
                        scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 1 x Piercer (cr 1/2, mm 252); 1900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="165" name="165">Room #165</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within a mosaic of ghoulish carnage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#166">room #166</a>, inhabited by 1 x Chuul</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 10 to open, DC 20 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Numerous pillars line the east and west walls, and several adventurer corpses are
                        scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Orc War Chief (cr 4, mm 246) and 6 x Orc (cr 1/2, mm 246); 1700 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="166" name="166">Room #166</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#152">room #152</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Good Wooden Door (DC 15 to break; 15 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed within a mosaic of ghoulish carnage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#165">room #165</a>, inhabited by Orc War Chief
                            and 6 x Orc</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; One-way Door: DC 15 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#167">room #167</a>, inhabited by 2 x Flameskull
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#178">room #178</a>, inhabited by 1 x Xorn</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Chuul (cr 4, mm 40); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="167" name="167">Room #167</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#153">room #153</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; One-way Door: DC 15 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#166">room #166</a>, inhabited by 1 x Chuul</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Electrified Lock: DC 15 to find, DC 15 to disable; affects each
                        creature which touches the lock, DC 16 save or take 10d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#168">room #168</a>, inhabited by 1 x Stone
                            Giant</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Sharpen thy axe and ready thy shield" on the west wall, and
                        several adventurer corpses are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Flameskull (cr 4, mm 134); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="168" name="168">Room #168</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#154">room #154</a>, inhabited by 2 x Ghost</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp) (slides up)<p class="icon">&#9417;
                        &nbsp; Guillotine Blade: DC 10 to find, DC 10 to disable; +8 to hit against one target, 4d10
                        slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#155">room #155</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Electrified Lock: DC 15 to find, DC 15 to disable; affects each
                        creature which touches the lock, DC 16 save or take 10d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#167">room #167</a>, inhabited by 2 x Flameskull
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; Ice Dart Trap: DC 15 to find, DC 15 to disable; +5 to hit against one target,
                        2d10 cold damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#170">room #170</a>, inhabited by 1 x Ettin</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The ceiling is covered with bloodstains, and a pile of iron blobs lies in the
                        north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156); 2900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="169" name="169">Room #169</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Stone Door (DC 20 to open, DC 25 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#159">room #159</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#158">room #158</a>, inhabited by Red Dragon Wyrmling and 2 x
                        Magma Mephit</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp) (slides up)<p class="icon">
                        &#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +5 to hit against one target, 2d10
                        piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#176">room #176</a>, inhabited by Troll and 1 x
                            Ogre</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp)<p class="icon">&#9417; &nbsp; Fire
                        Spray: DC 10 to find, DC 10 to disable; affects all targets within a 20 ft. cone, DC 16 save or
                        take 10d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#179">room #179</a>, inhabited by 1 x Ghost</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stream of oil flows along a channel in the floor, and a set of demonic war masks
                        hangs on the south wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="170" name="170">Room #170</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#156">room #156</a>, inhabited by 1 x Otyugh</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Trapped and Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">
                        &#9417; &nbsp; Ice Dart Trap: DC 15 to find, DC 15 to disable; +5 to hit against one target,
                        2d10 cold damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#168">room #168</a>, inhabited by 1 x Stone
                            Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Secret (DC 15 to find) Stuck Stone Door (DC 20 to break; 60 hp) (slides down)<p
                            class="icon">&#9416; &nbsp; The door is opened by speaking a command word</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#182">room #182</a>, inhabited by 1 x Cyclops
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#188">room #188</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A ladder ascends to a catwalk hanging between the north and south walls, and
                        various torture devices are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Ettin (cr 4, mm 132); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="171" name="171">Room #171</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp; Acid
                        Spray: DC 10 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 19 save or
                        take 4d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#157">room #157</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Secret (DC 20 to find) Trapped and Stuck Iron Door (DC 25 to break; 60 hp) (slides
                        down)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +7 to hit against
                            one target, 4d10 piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#188">room #188</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#189">room #189</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Cyclops (cr 6, mm 45); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="172" name="172">Room #172</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#163">room #163</a>, inhabited by 1 x Troll</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#189">room #189</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#190">room #190</a>, inhabited by Red Dragon Wyrmling and 2 x Magma Mephit</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tapestry of vile acts hangs from the east wall, and a fountain of water sits
                        against the west wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Teleporter Crystal: DC 15 to find, DC 15 to disable; affects each creature which
                        touches the crystal, DC 11 save or be teleported to another location
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="173" name="173">Room #173</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#164">room #164</a>, inhabited by Roper and 1 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#174">room #174</a>, inhabited by 1 x Flameskull</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Troll (cr 5, mm 291) and 1 x Ogre (cr 2, mm 237); 2250 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="174" name="174">Room #174</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Stone Door (60 hp)<p class="icon">&#9417; &nbsp; Contact
                        Poison: DC 10 to find, DC 10 to disable; affects each creature which touches the trigger, DC 11
                        save or take 2d10 damage</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 25 to open, DC 20 to break; 20 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#173">room #173</a>, inhabited by Troll and 1 x Ogre</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#175">room #175</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A magical mirror on the east wall answers questions with lies and falsehoods, and
                        a crater has been blasted into the floor in the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Flameskull (cr 4, mm 134); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="175" name="175">Room #175</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#158">room #158</a>, inhabited by Red Dragon Wyrmling and 2 x Magma Mephit</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#174">room #174</a>, inhabited by 1 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#179">room #179</a>,
                        inhabited by 1 x Ghost</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Good Wooden Door (15 hp)<p class="icon">&#9417; &nbsp;
                        Teleporter Crystal: DC 15 to find, DC 20 to disable; affects each creature which touches the
                        crystal, DC 15 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#184">room #184</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="176" name="176">Room #176</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 25 to find) Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15
                        hp)<p class="icon">&#9416; &nbsp; The door is concealed within the mouth of a gargantuan skull
                            carved from stone</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp) (slides up)<p class="icon">
                        &#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +5 to hit against one target, 2d10
                        piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#169">room #169</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 15 to find) Locked Simple Wooden Door (DC 10 to open, DC 15 to break;
                        10 hp)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#177">room #177</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Troll (cr 5, mm 291) and 1 x Ogre (cr 2, mm 237); 2250 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="177" name="177">Room #177</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#161">room #161</a>, inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Rune of Fear: DC 15 to find, DC 10 to disable; affects all
                        targets within 10 ft., DC 12 save or become frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#162">room #162</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Secret (DC 15 to find) Locked Simple Wooden Door (DC 10 to open, DC 15 to break;
                        10 hp)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#176">room #176</a>, inhabited by Troll and 1 x
                            Ogre</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A ruined siege weapon sits in the north-east corner of the room, and someone has
                        scrawled "Stay right" in goblin runes on the west wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="178" name="178">Room #178</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#166">room #166</a>, inhabited by 1 x Chuul</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)<p
                            class="icon">&#9417; &nbsp; Electrified Lock: DC 10 to find, DC 15 to disable; affects each
                        creature which touches the lock, DC 11 save or take 2d10 lightning damage</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#186">room #186</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Xorn (cr 5, mm 304); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="179" name="179">Room #179</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp)<p class="icon">&#9417; &nbsp; Fire
                        Spray: DC 10 to find, DC 10 to disable; affects all targets within a 20 ft. cone, DC 16 save or
                        take 10d10 fire damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#169">room #169</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#175">room #175</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Earthmaw Trap: DC 10 to find, DC 15 to disable; +8 to hit against one target, 4d10 piercing
                        damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#191">room #191</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A ruined siege weapon sits in the west side of the room, and laughter can be heard
                        in the south-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Ghost (cr 4, mm 147); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="180" name="180">Room #180</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to
                        open)
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="181" name="181">Room #181</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#182">room #182</a>, inhabited by 1 x Cyclops</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#196">room #196</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156) and 1 x Cave Bear (cr 2, mm 334); 3350 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="182" name="182">Room #182</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#181">room #181</a>, inhabited by 1 x Stone Giant and 1 x Cave Bear</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Secret (DC 15 to find) Stuck Stone Door (DC 20 to break; 60 hp) (slides down)<p
                            class="icon">&#9416; &nbsp; The door is opened by speaking a command word</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#170">room #170</a>, inhabited by 1 x Ettin</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#187">room #187</a>, inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp) (slides down)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#197">room #197</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Part of the west wall has collapsed into the room, and a toppled statue lies in
                        the east side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Cyclops (cr 6, mm 45); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="183" name="183">Room #183</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="184" name="184">Room #184</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Good Wooden Door (15 hp)<p class="icon">&#9417; &nbsp;
                        Teleporter Crystal: DC 15 to find, DC 20 to disable; affects each creature which touches the
                        crystal, DC 15 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#175">room #175</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A ladder ascends to a wooden platform in the north-east corner of the room, and a
                        large demonic idol with ruby eyes sits in the north-west corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="185" name="185">Room #185</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Xorn (cr 5, mm 304); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="186" name="186">Room #186</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#178">room #178</a>,
                        inhabited by 1 x Xorn</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&#9417; &nbsp; Guillotine Blade: DC 15 to find, DC 10 to disable; +8 to hit
                            against one target, 4d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#195">room #195</a>, inhabited by 1 x Bone Naga
                        </p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A chute falls into the room from above, and the scent of urine fills the room</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="187" name="187">Room #187</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#182">room #182</a>, inhabited by 1 x Cyclops</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p
                            class="icon">&#9417; &nbsp; Electrified Lock: DC 15 to find, DC 10 to disable; affects each
                        creature which touches the lock, DC 14 save or take 4d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#188">room #188</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#198">room #198</a>,
                        inhabited by Wraith and 1 x Specter</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Skeletons hang from chains and manacles against the north and east walls, and a
                        dagger hilt lies in the east side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Wraith (cr 5, mm 302) and 1 x Wight (cr 3, mm 300); 2500 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="188" name="188">Room #188</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#170">room #170</a>,
                        inhabited by 1 x Ettin</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Secret (DC 20 to find) Trapped and Stuck Iron Door (DC 25 to break; 60 hp) (slides
                        down)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +7 to hit against
                            one target, 4d10 piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#171">room #171</a>, inhabited by 1 x Cyclops
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)<p
                            class="icon">&#9417; &nbsp; Electrified Lock: DC 15 to find, DC 10 to disable; affects each
                        creature which touches the lock, DC 14 save or take 4d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#187">room #187</a>, inhabited by Wraith and 1 x
                            Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Acid Spray: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 13
                        save or take 2d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#199">room #199</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#200">room #200</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The north and west walls have been engraved with geometric patterns, and clouds of
                        flying insects fill the south-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="189" name="189">Room #189</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#171">room #171</a>,
                        inhabited by 1 x Cyclops</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#172">room #172</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)
                        (slides to one side)<p class="icon">&#9416; &nbsp; A stone column and section of wall pivots
                            open when a command word is spoken</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#190">room #190</a>, inhabited by Red Dragon
                            Wyrmling and 2 x Magma Mephit</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#200">room #200</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A cold spot can be felt in the north-east corner of the room, and a rotting
                        backpack lies in the south-east corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Shrine of Evil: DC 10 to find, DC 15 to disable; affects good creatures which
                        touch the shrine, DC 15 save or take 4d10 damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="190" name="190">Room #190</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#172">room #172</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)
                        (slides to one side)<p class="icon">&#9416; &nbsp; A stone column and section of wall pivots
                            open when a command word is spoken</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#189">room #189</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides up)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#207">room #207</a>, inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Red Dragon Wyrmling (cr 4, mm 98) and 2 x Magma Mephit (cr 1/2, mm 216); 1300 xp
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Poisoned Net Trap: DC 10 to find, DC 15 to disable; affects all targets within a
                        10 ft. square area, DC 14 save or take 4d10 poison damage and become restrained, half damage on
                        a successful save
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 20 to find) Locked Iron Chest (DC 25 to unlock, DC 30 to break; 60 hp)
                        <hr/>
                        <p>400 cp, 7000 sp, 2200 gp, 140 pp, Leather Boots with Copper Buckles (25 gp), Carved Wooden
                            Miniature (of a Ship) (25 gp), Rabbit Fur Vest (25 gp), Iron Scroll Case (25 gp), Pewter
                            Choker (25 gp)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="191" name="191">Room #191</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Earthmaw Trap: DC 10 to find, DC 15 to disable; +8 to hit against one target, 4d10 piercing
                        damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#179">room #179</a>, inhabited by 1 x Ghost</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#203">room #203</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="192" name="192">Room #192</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#193">room
                        #193</a>, inhabited by 1 x Beholder Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">An altar of evil sits in the south-east corner of the room, and a charred club
                        lies in the north side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Drider (cr 6, mm 120) and 1 x Giant Spider (cr 1, mm 328); 2500 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="193" name="193">Room #193</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#192">room
                        #192</a>, inhabited by Drider and 1 x Giant Spider</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)<p
                            class="icon">&#9417; &nbsp; Electrified Lock: DC 15 to find, DC 15 to disable; affects each
                        creature which touches the lock, DC 14 save or take 4d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#206">room #206</a>, inhabited by Roper and 3 x
                            Piercer</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A rustling noise can be heard in the north-west corner of the room, and a rotting
                        tome lies in the north-west corner of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Beholder Zombie (cr 5, mm 316); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="194" name="194">Room #194</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Unlocked Good Wooden Door (15 hp)<p class="icon">&#9417; &nbsp;
                        Electrified Lock: DC 15 to find, DC 10 to disable; affects each creature which touches the lock,
                        DC 12 save or take 4d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#211">room #211</a>, inhabited by 1 x Chimera
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Secret (DC 15 to find) Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed behind a tapestry of ghoulish carnage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#212">room #212</a>, inhabited by 1 x Umber Hulk
                        </p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A rope ascends to a balcony hanging from the east wall, and a rusted axe lies in
                        the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Stone Giant (cr 7, mm 156); 2900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="195" name="195">Room #195</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&#9417; &nbsp; Guillotine Blade: DC 15 to find, DC 10 to disable; +8 to hit
                            against one target, 4d10 slashing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#186">room #186</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#196">room #196</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#209">room #209</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The north and west walls have been engraved with incoherent labyrinths, and
                        someone has scrawled "Ran out of time" in blood on the south wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Bone Naga (cr 4, mm 233); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="196" name="196">Room #196</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#181">room #181</a>, inhabited by 1 x Stone Giant and 1 x Cave Bear</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#195">room #195</a>, inhabited by 1 x Bone Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#197">room #197</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#210">room #210</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="197" name="197">Room #197</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp) (slides down)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#182">room #182</a>, inhabited by 1 x Cyclops</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#196">room #196</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Trapped and Locked Iron Door (DC 15 to open, DC 30 to break; 60 hp)<p
                            class="icon">&#9417; &nbsp; Ice Dart Trap: DC 15 to find, DC 15 to disable; +6 to hit
                        against one target, 4d10 cold damage</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 20 to find) Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20
                        to break; 20 hp)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; Rune of Dread: DC 15 to find, DC 15 to disable; affects all
                            targets within 10 ft., DC 10 save or become frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#198">room #198</a>, inhabited by Wraith and 1 x
                            Specter</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="198" name="198">Room #198</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#187">room #187</a>,
                        inhabited by Wraith and 1 x Wight</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 20 to find) Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20
                        to break; 20 hp)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; Rune of Dread: DC 15 to find, DC 15 to disable; affects all
                            targets within 10 ft., DC 10 save or become frightened for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#197">room #197</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#199">room #199</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">An iron sarcophagus sits in the south side of the room, and a charred wooden chest
                        lies in the south side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Wraith (cr 5, mm 302) and 1 x Specter (cr 1, mm 279); 2000 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="199" name="199">Room #199</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">&#9417; &nbsp;
                        Acid Spray: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 13
                        save or take 2d10 acid damage for 1d4 rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#188">room #188</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#198">room #198</a>, inhabited by Wraith and 1 x Specter</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to
                        open)<p class="icon">&rarr; &nbsp; Leads to <a href="#200">room #200</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A chute falls into the room from above, and a simple wooden table and workbench
                        sit in the south-west corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="200" name="200">Room #200</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#188">room #188</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#189">room #189</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp) (stuck, disadvantage to
                        open)<p class="icon">&rarr; &nbsp; Leads to <a href="#199">room #199</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Secret (DC 20 to find) Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">
                        &#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#207">room #207</a>, inhabited by 2 x Bone Naga
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#215">room #215</a></p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="201" name="201">Room #201</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#202">room #202</a>, inhabited by Half-Red Dragon Veteran and 3
                        x Thug</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A mural of arcane patterns covers the ceiling, and a charred blanket lies in the
                        south-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="202" name="202">Room #202</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#201">room #201</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#212">room #212</a>, inhabited by 1 x Umber Hulk</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#203">room #203</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stack of water-filled barrels stands against the west wall, and someone has
                        scrawled "Explosive runes" on the east wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Half-Red Dragon Veteran (cr 5, mm 180) and 3 x Thug (cr 1/2, mm 350); 2100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="203" name="203">Room #203</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#191">room #191</a></p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Secret (DC 25 to find) Trapped and Locked Simple Wooden Door (DC 10 to open, DC 15
                        to break; 10 hp)<p class="icon">&#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 10 to find, DC 15 to disable; affects each
                            creature which touches the trigger, DC 13 save or take 4d10 damage</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#202">room #202</a>, inhabited by Half-Red Dragon Veteran and 3 x Thug</p>
                    </td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A stream of oil flows along a channel in the floor, and a crater has been blasted
                        into the floor in the west side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="204" name="204">Room #204</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#208">room #208</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Iron Door (60 hp)<p class="icon">&#9417; &nbsp; Rune of
                        Dread: DC 15 to find, DC 15 to disable; affects all targets within 10 ft., DC 12 save or become
                        frightened for 1d4 rounds</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Howling can be heard in the north-west corner of the room, and a rusted iron box
                        lies in the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Flameskull (cr 4, mm 134); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="205" name="205">Room #205</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp) (slides up)<p
                            class="icon">&#9417; &nbsp; Teleporter Crystal: DC 10 to find, DC 15 to disable; affects
                        each creature which touches the crystal, DC 11 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#206">room #206</a>, inhabited by Roper and 3 x
                            Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#218">room #218</a>,
                        inhabited by Hobgoblin Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Sporadic knocking can be faintly heard near the west wall, and a warped holy
                        symbol lies in the east side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Flamethrower: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft.
                        cone, DC 15 save or take 4d10 fire damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="206" name="206">Room #206</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Trapped and Locked Strong Wooden Door (DC 20 to open, DC 20 to break; 20 hp)<p
                            class="icon">&#9417; &nbsp; Electrified Lock: DC 15 to find, DC 15 to disable; affects each
                        creature which touches the lock, DC 14 save or take 4d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#193">room #193</a>, inhabited by 1 x Beholder
                            Zombie</p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Trapped and Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)<p
                            class="icon">&#9417; &nbsp; One-way Door: DC 15 to find, DC 10 to disable</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Trapped and Locked Stone Door (DC 15 to open, DC 25 to break; 60 hp) (slides up)<p
                            class="icon">&#9417; &nbsp; Teleporter Crystal: DC 10 to find, DC 15 to disable; affects
                        each creature which touches the crystal, DC 11 save or be teleported to another location</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#205">room #205</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Earthmaw Trap: DC 10 to find, DC 10 to disable; +5 to hit against one target,
                        2d10 piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#219">room #219</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 3 x Piercer (cr 1/2, mm 252); 2100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="207" name="207">Room #207</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#190">room #190</a>, inhabited by Red Dragon Wyrmling and 2 x Magma Mephit</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Secret (DC 20 to find) Stuck Iron Door (DC 25 to break; 60 hp)<p class="icon">
                        &#9416; &nbsp; A bookcase and concealed door pivots smoothly</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#200">room #200</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Unlocked Good Wooden Door (15 hp)<p
                            class="icon">&#9416; &nbsp; The door is located several feet above the floor and concealed
                        by an illusion</p>
                        <p class="icon">&#9417; &nbsp; Contact Poison: DC 15 to find, DC 10 to disable; affects each
                            creature which touches the trigger, DC 12 save or take 4d10 damage</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#211">room #211</a>, inhabited by 1 x Chimera</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A fountain decorated with three gargoyles sits in the north side of the room, and
                        a pile of rotten rope lies in the west side of the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">2 x Bone Naga (cr 4, mm 233); 2200 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="208" name="208">Room #208</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#204">room #204</a>, inhabited by 2 x Flameskull</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Flamethrower: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft.
                        cone, DC 19 save or take 10d10 fire damage
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="209" name="209">Room #209</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#195">room #195</a>, inhabited by 1 x Bone Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#210">room #210</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#220">room #220</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Iron Door (60 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="210" name="210">Room #210</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#196">room #196</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#209">room #209</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9417; &nbsp;
                        Arrow Trap: DC 10 to find, DC 10 to disable; +4 to hit against one target, 2d10 piercing
                        damage</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Locked Good Wooden Door (DC 15 to open, DC 15
                        to break; 15 hp)<p class="icon">&#9416; &nbsp; The door is concealed by an illusion</p>
                        <p class="icon">&#9417; &nbsp; Falling Block: DC 10 to find, DC 10 to disable; affects all
                            targets within a 10 ft. square area, DC 14 save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#220">room #220</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The scent of smoke fills the south side of the room, and a pile of barrel staves
                        lies in the north-west corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="211" name="211">Room #211</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Unlocked Good Wooden Door (15 hp)<p class="icon">&#9417; &nbsp;
                        Electrified Lock: DC 15 to find, DC 10 to disable; affects each creature which touches the lock,
                        DC 12 save or take 4d10 lightning damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#194">room #194</a>, inhabited by 1 x Stone
                            Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#207">room #207</a>, inhabited by 2 x Bone Naga</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#222">room #222</a>, inhabited by 1 x Drider</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "Oropheg died here" on the east wall, and several pieces of
                        rotten leather are scattered throughout the room
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Chimera (cr 6, mm 39); 2300 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Greater Acid Spray: DC 15 to find, DC 15 to disable; affects all targets within a
                        20 ft. cone, DC 14 save or take 2d10 acid damage for 1d4 rounds
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="212" name="212">Room #212</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 15 to find) Unlocked Simple Wooden Door (10 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed behind a tapestry of ghoulish carnage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#194">room #194</a>, inhabited by 1 x Stone
                            Giant</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Locked Good Wooden Door (DC 25 to open, DC 15 to break; 15 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#202">room #202</a>, inhabited by Half-Red Dragon Veteran and 3
                        x Thug</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)<p class="icon">&#9416;
                        &nbsp; The door is located several feet above the floor and concealed behind a tapestry of vile
                        acts</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#216">room #216</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed behind a statue of a terrified maiden, and
                        opened by breaking her neck</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#226">room #226</a>, inhabited by Grick Alpha
                            and 1 x Grick</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Umber Hulk (cr 5, mm 292); 1800 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="213" name="213">Room #213</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Thunderstone Mine: DC 10 to find, DC 15 to disable; affects all
                        targets within 20 ft., DC 12 save or take 4d10 thunder damage and become deafened for 1d4
                        rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#230">room #230</a>, inhabited by 1 x Bone Naga
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Unlocked Iron Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#231">room
                        #231</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A magical statue in the south side of the room speaks riddles and cryptic
                        prophecies, and a stone ramp ascends towards the south wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="214" name="214">Room #214</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#215">room #215</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#231">room #231</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#232">room #232</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A tile mosaic of geometric patterns covers the floor, and someone has scrawled
                        "Rancis' Marauders killed four ogres here" on the west wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 3 x Piercer (cr 1/2, mm 252); 2100 xp</td>
                </tr>
                <tr>
                    <td class="key">Trap</td>
                    <td class="value">Greater Acid Spray: DC 15 to find, DC 10 to disable; affects all targets within a
                        20 ft. cone, DC 17 save or take 4d10 acid damage for 1d4 rounds
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="215" name="215">Room #215</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#200">room #200</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#214">room #214</a>, inhabited by Roper and 3 x Piercer</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="216" name="216">Room #216</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Secret (DC 20 to find) Unlocked Good Wooden Door (15 hp)<p class="icon">&#9416;
                        &nbsp; The door is located several feet above the floor and concealed behind a tapestry of vile
                        acts</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#212">room #212</a>, inhabited by 1 x Umber Hulk
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; Acid Spray: DC 15 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC
                        13 save or take 2d10 acid damage for 1d4 rounds</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A cube of solid stone stands in the north-west corner of the room, and someone has
                        scrawled "Ran out of rope" on the south wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="217" name="217">Room #217</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="218" name="218">Room #218</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Stuck Iron Door (DC 25 to break; 60 hp) (slides down)</td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#205">room #205</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#219">room #219</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Various torture devices are scattered throughout the room, and someone has
                        scrawled "Save yourself, kill the others" on the south wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Hobgoblin Warlord (cr 6, mm 187) and 1 x Hobgoblin (cr 1/2, mm 186); 2400 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="219" name="219">Room #219</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">
                        &#9417; &nbsp; Earthmaw Trap: DC 10 to find, DC 10 to disable; +5 to hit against one target,
                        2d10 piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#206">room #206</a>, inhabited by Roper and 3 x
                            Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#218">room #218</a>, inhabited by Hobgoblin Warlord and 1 x Hobgoblin</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#228">room #228</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="220" name="220">Room #220</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Locked Good Wooden Door (DC 15 to open, DC 15
                        to break; 15 hp)<p class="icon">&#9416; &nbsp; The door is concealed by an illusion</p>
                        <p class="icon">&#9417; &nbsp; Falling Block: DC 10 to find, DC 10 to disable; affects all
                            targets within a 10 ft. square area, DC 14 save or take 4d10 damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#210">room #210</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#209">room #209</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed behind a statue of Death, and opened by placing a coin in his open
                        hand</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#230">room #230</a>, inhabited by 1 x Bone Naga
                        </p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="221" name="221">Room #221</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#224">room #224</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#222">room #222</a>, inhabited by 1 x Drider</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="222" name="222">Room #222</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#211">room #211</a>, inhabited by 1 x Chimera</p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Good Wooden Door (15 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#221">room #221</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#225">room #225</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Drider (cr 6, mm 120); 2300 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="223" name="223">Room #223</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#234">room #234</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The floor is covered in square tiles, alternating white and black, and a clanking
                        sound can be heard in the south-east corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="224" name="224">Room #224</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#232">room #232</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 10 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#221">room #221</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "The cleric will betray you" on the east wall, and a pile of
                        barrel staves lies in the east side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="225" name="225">Room #225</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#222">room #222</a>, inhabited by 1 x Drider</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#226">room #226</a>,
                        inhabited by Grick Alpha and 1 x Grick</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)
                        <p class="icon">&#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +3 to hit against
                            one target, 2d10 piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#237">room #237</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Someone has scrawled "white, black, gray, azure, ruby" on the west wall, and the
                        north and west walls are covered with sword cuts
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="226" name="226">Room #226</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Secret (DC 25 to find) Stuck Simple Wooden Door (DC 10 to break; 10 hp)<p
                            class="icon">&#9416; &nbsp; The door is concealed behind a statue of a terrified maiden, and
                        opened by breaking her neck</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#212">room #212</a>, inhabited by 1 x Umber Hulk
                        </p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#225">room #225</a></p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#237">room #237</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Grick Alpha (cr 7, mm 173) and 1 x Grick (cr 2, mm 173); 3350 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="227" name="227">Room #227</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#234">room #234</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Stuck Strong Wooden Door (DC 15 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A mural of arcane patterns covers the ceiling, and several barrel staves are
                        scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="228" name="228">Room #228</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#219">room #219</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Secret (DC 25 to find) Locked Stone Door (DC 10 to open, DC 25 to break; 60 hp)<p
                            class="icon">&#9416; &nbsp; The door is located near the ceiling and opened by speaking a
                        command word</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">The floor is covered in perfect hexagonal tiles, and lit candles are scattered
                        across the floor
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="229" name="229">Room #229</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#230">room #230</a>,
                        inhabited by 1 x Bone Naga</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">Various torture devices are scattered throughout the room, and unintelligible
                        whispering can be faintly heard near the north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">Roper (cr 5, mm 261) and 1 x Piercer (cr 1/2, mm 252); 1900 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="230" name="230">Room #230</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Secret (DC 25 to find) Unlocked Good Wooden Door (15 hp)<p class="icon">&#9416;
                        &nbsp; The door is concealed behind a statue of Death, and opened by placing a coin in his open
                        hand</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#220">room #220</a></p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Trapped and Locked Good Wooden Door (DC 20 to open, DC 15 to break; 15 hp)<p
                            class="icon">&#9417; &nbsp; Thunderstone Mine: DC 10 to find, DC 15 to disable; affects all
                        targets within 20 ft., DC 12 save or take 4d10 thunder damage and become deafened for 1d4
                        rounds</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#213">room #213</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway<p class="icon">&rarr; &nbsp; Leads to <a href="#229">room #229</a>,
                        inhabited by Roper and 1 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry #1</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">South Entry #2</td>
                    <td class="value">Locked Simple Wooden Door (DC 25 to open, DC 15 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A forge and anvil sit in the center of the room, and someone has scrawled "The
                        dwarf will betray you" in blood on the north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Bone Naga (cr 4, mm 233); 1100 xp</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="231" name="231">Room #231</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry #1</td>
                    <td class="value">Unlocked Iron Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#213">room
                        #213</a></p></td>
                </tr>
                <tr>
                    <td class="detail">North Entry #2</td>
                    <td class="value">Stuck Stone Door (DC 20 to break; 60 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#214">room #214</a>, inhabited by Roper and 3 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 15 to open, DC 15 to break; 10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A mural of vile acts covers the ceiling, and several adventurer corpses are
                        scattered throughout the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="232" name="232">Room #232</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Iron Door (DC 10 to open, DC 30 to break; 60 hp)<p class="icon">&rarr;
                        &nbsp; Leads to <a href="#214">room #214</a>, inhabited by Roper and 3 x Piercer</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Wooden Portcullis (lift DC 20, DC 15 to break; 30 hp)<p class="icon">&rarr; &nbsp;
                        Leads to <a href="#224">room #224</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="233" name="233">Room #233</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#237">room #237</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#234">room
                        #234</a></p></td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Locked Strong Wooden Door (DC 15 to open, DC 20 to break; 20 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow shaft falls into the room from above, and a pile of empty bottles lies in
                        the south-west corner of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="234" name="234">Room #234</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&#9417;
                        &nbsp; One-way Door: DC 10 to find, DC 10 to disable</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#223">room #223</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Unlocked Stone Door (60 hp)<p class="icon">&rarr; &nbsp; Leads to <a href="#233">room
                        #233</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Good Wooden Door (DC 15 to break; 15 hp)<p class="icon">&rarr; &nbsp; Leads
                        to <a href="#227">room #227</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A mural of arcane patterns covers the ceiling, and a stone dais and throne sits in
                        the east side of the room
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="235" name="235">Room #235</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides down)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#236">room #236</a></p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A wooden platform hangs over a deep pit in the west side of the room, and someone
                        has scrawled "Allan was here" on the north wall
                    </td>
                </tr>
                <tr>
                    <td class="key">Hidden Treasure</td>
                    <td class="value">Hidden (DC 15 to find) Unlocked Simple Wooden Chest (10 hp)
                        <hr/>
                        <p>500 cp, 8000 sp, 2500 gp, 120 pp, 3 x Carnelian (50 gp), Citrine (50 gp), Jasper (50 gp),
                            Moonstone (50 gp), Onyx (50 gp), Quartz (50 gp), Sardonyx (50 gp), Star rose quartz (50 gp),
                            Potion of Supreme Healing (very rare, dmg 187)</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="236" name="236">Room #236</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Stuck Simple Wooden Door (DC 10 to break; 10 hp) (slides down)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#235">room #235</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Iron Portcullis (DC 20 to lift, DC 25 to break; 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Locked Good Wooden Door (DC 10 to open, DC 15 to break; 15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A carved stone statue stands in the east side of the room, and someone has
                        scrawled "In the Valley of Pearls, when the Lion is broken, the Crimson Circle shall triumph" on
                        the north wall
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="237" name="237">Room #237</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Simple Wooden Door (DC 20 to open, DC 15 to break; 10 hp)<p class="icon">
                        &rarr; &nbsp; Leads to <a href="#226">room #226</a>, inhabited by Grick Alpha and 1 x Grick</p>
                    </td>
                </tr>
                <tr>
                    <td class="detail">West Entry #1</td>
                    <td class="value">Secret (DC 15 to find) Trapped and Stuck Good Wooden Door (DC 15 to break; 15 hp)
                        <p class="icon">&#9416; &nbsp; The door is concealed within an upright sarcophagus</p>
                        <p class="icon">&#9417; &nbsp; Arrow Trap: DC 10 to find, DC 10 to disable; +3 to hit against
                            one target, 2d10 piercing damage</p>
                        <p class="icon">&rarr; &nbsp; Leads to <a href="#225">room #225</a></p></td>
                </tr>
                <tr>
                    <td class="detail">West Entry #2</td>
                    <td class="value">Trapped and Unlocked Strong Wooden Door (20 hp)<p class="icon">&#9417; &nbsp; Fire
                        Spray: DC 10 to find, DC 15 to disable; affects all targets within a 20 ft. cone, DC 17 save or
                        take 10d10 fire damage</p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #1</td>
                    <td class="value">Unlocked Strong Wooden Door (20 hp)<p class="icon">&rarr; &nbsp; Leads to <a
                            href="#233">room #233</a></p></td>
                </tr>
                <tr>
                    <td class="detail">East Entry #2</td>
                    <td class="value">Unlocked Simple Wooden Door (10 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="key">Room Features</td>
                    <td class="value">A narrow shaft falls into the room from above, and spirals of black stones cover
                        the floor
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- END OF CONTENT -->

<div class="footnotes">
    <p>The Labyrinth
        <br/>http://donjon.bin.sh/</p>

    <p>Some content used under the terms of the
        <a href="data:text/html;base64,PCEtLSNpbmNsdWRlIHZpcnR1YWw9Ii9za2luL2h0bWw1Lmh0bWwiLS0+CiAgPHRpdGxlPmRvbmpvbjsgT3BlbiBHYW1pbmcgTGljZW5zZTwvdGl0bGU+CjwhLS0jaW5jbHVkZSB2aXJ0dWFsPSIvc2tpbi9iZWdpbi5odG1sIi0tPgoKICA8aDE+T1BFTiBHQU1FIExJQ0VOU0UgVmVyc2lvbiAxLjBhPC9oMT4KCiAgPHA+VGhlIGZvbGxvd2luZyB0ZXh0IGlzIHRoZSBwcm9wZXJ0eSBvZiBXaXphcmRzIG9mIHRoZSBDb2FzdCwgSW5jLiAKICBhbmQgaXMgQ29weXJpZ2h0IDIwMDAgV2l6YXJkcyBvZiB0aGUgQ29hc3QsIEluYyAoIldpemFyZHMiKS4gIEFsbAogIFJpZ2h0cyBSZXNlcnZlZC48L3A+CgogIDxwPjEuICBEZWZpbml0aW9uczoKICAgIChhKSAiQ29udHJpYnV0b3JzIiBtZWFucyB0aGUgY29weXJpZ2h0IGFuZC9vciB0cmFkZW1hcmsgb3duZXJzIHdobwogICAgICAgIGhhdmUgY29udHJpYnV0ZWQgT3BlbiBHYW1lIENvbnRlbnQ7CiAgICAoYikgIkRlcml2YXRpdmUgTWF0ZXJpYWwiIG1lYW5zIGNvcHlyaWdodGVkIG1hdGVyaWFsIGluY2x1ZGluZwogICAgICAgIGRlcml2YXRpdmUgd29ya3MgYW5kIHRyYW5zbGF0aW9ucyAoaW5jbHVkaW5nIGludG8gb3RoZXIKICAgICAgICBjb21wdXRlciBsYW5ndWFnZXMpLCBwb3RhdGlvbiwgbW9kaWZpY2F0aW9uLCBjb3JyZWN0aW9uLAogICAgICAgIGFkZGl0aW9uLCBleHRlbnNpb24sIHVwZ3JhZGUsIGltcHJvdmVtZW50LCBjb21waWxhdGlvbiwKICAgICAgICBhYnJpZGdtZW50IG9yIG90aGVyIGZvcm0gaW4gd2hpY2ggYW4gZXhpc3Rpbmcgd29yayBtYXkgYmUKICAgICAgICByZWNhc3QsIHRyYW5zZm9ybWVkIG9yIGFkYXB0ZWQ7CiAgICAoYykgIkRpc3RyaWJ1dGUiIG1lYW5zIHRvIHJlcHJvZHVjZSwgbGljZW5zZSwgcmVudCwgbGVhc2UsIHNlbGwsCiAgICAgICAgYnJvYWRjYXN0LCBwdWJsaWNseSBkaXNwbGF5LCB0cmFuc21pdCBvciBvdGhlcndpc2UgZGlzdHJpYnV0ZTsKICAgIChkKSAiT3BlbiBHYW1lIENvbnRlbnQiIG1lYW5zIHRoZSBnYW1lIG1lY2hhbmljIGFuZCBpbmNsdWRlcyB0aGUKICAgICAgICBtZXRob2RzLCBwcm9jZWR1cmVzLCBwcm9jZXNzZXMgYW5kIHJvdXRpbmVzIHRvIHRoZSBleHRlbnQgc3VjaAogICAgICAgIGNvbnRlbnQgZG9lcyBub3QgZW1ib2R5IHRoZSBQcm9kdWN0IElkZW50aXR5IGFuZCBpcyBhbgogICAgICAgIGVuaGFuY2VtZW50IG92ZXIgdGhlIHByaW9yIGFydCBhbmQgYW55IGFkZGl0aW9uYWwgY29udGVudAogICAgICAgIGNsZWFybHkgaWRlbnRpZmllZCBhcyBPcGVuIEdhbWUgQ29udGVudCBieSB0aGUgQ29udHJpYnV0b3IsIGFuZAogICAgICAgIG1lYW5zIGFueSB3b3JrIGNvdmVyZWQgYnkgdGhpcyBMaWNlbnNlLCBpbmNsdWRpbmcgdHJhbnNsYXRpb25zCiAgICAgICAgYW5kIGRlcml2YXRpdmUgd29ya3MgdW5kZXIgY29weXJpZ2h0IGxhdywgYnV0IHNwZWNpZmljYWxseQogICAgICAgIGV4Y2x1ZGVzIFByb2R1Y3QgSWRlbnRpdHkuCiAgICAoZSkgIlByb2R1Y3QgSWRlbnRpdHkiIG1lYW5zIHByb2R1Y3QgYW5kIHByb2R1Y3QgbGluZSBuYW1lcywgbG9nb3MKICAgICAgICBhbmQgaWRlbnRpZnlpbmcgbWFya3MgaW5jbHVkaW5nIHRyYWRlIGRyZXNzOyBhcnRpZmFjdHM7CiAgICAgICAgY3JlYXR1cmVzIGNoYXJhY3RlcnM7IHN0b3JpZXMsIHN0b3J5bGluZXMsIHBsb3RzLCB0aGVtYXRpYwogICAgICAgIGVsZW1lbnRzLCBkaWFsb2d1ZSwgaW5jaWRlbnRzLCBsYW5ndWFnZSwgYXJ0d29yaywgc3ltYm9scywKICAgICAgICBkZXNpZ25zLCBkZXBpY3Rpb25zLCBsaWtlbmVzc2VzLCBmb3JtYXRzLCBwb3NlcywgY29uY2VwdHMsCiAgICAgICAgdGhlbWVzIGFuZCBncmFwaGljLCBwaG90b2dyYXBoaWMgYW5kIG90aGVyIHZpc3VhbCBvciBhdWRpbwogICAgICAgIHJlcHJlc2VudGF0aW9uczsgbmFtZXMgYW5kIGRlc2NyaXB0aW9ucyBvZiBjaGFyYWN0ZXJzLCBzcGVsbHMsCiAgICAgICAgZW5jaGFudG1lbnRzLCBwZXJzb25hbGl0aWVzLCB0ZWFtcywgcGVyc29uYXMsIGxpa2VuZXNzZXMgYW5kCiAgICAgICAgc3BlY2lhbCBhYmlsaXRpZXM7IHBsYWNlcywgbG9jYXRpb25zLCBlbnZpcm9ubWVudHMsIGNyZWF0dXJlcywKICAgICAgICBlcXVpcG1lbnQsIG1hZ2ljYWwgb3Igc3VwZXJuYXR1cmFsIGFiaWxpdGllcyBvciBlZmZlY3RzLCBsb2dvcywKICAgICAgICBzeW1ib2xzLCBvciBncmFwaGljIGRlc2lnbnM7IGFuZCBhbnkgb3RoZXIgdHJhZGVtYXJrIG9yCiAgICAgICAgcmVnaXN0ZXJlZCB0cmFkZW1hcmsgY2xlYXJseSBpZGVudGlmaWVkIGFzIFByb2R1Y3QgaWRlbnRpdHkgYnkKICAgICAgICB0aGUgb3duZXIgb2YgdGhlIFByb2R1Y3QgSWRlbnRpdHksIGFuZCB3aGljaCBzcGVjaWZpY2FsbHkKICAgICAgICBleGNsdWRlcyB0aGUgT3BlbiBHYW1lIENvbnRlbnQ7CiAgICAoZikgIlRyYWRlbWFyayIgbWVhbnMgdGhlIGxvZ29zLCBuYW1lcywgbWFyaywgc2lnbiwgbW90dG8sIGRlc2lnbnMKICAgICAgICB0aGF0IGFyZSB1c2VkIGJ5IGEgQ29udHJpYnV0b3IgdG8gaWRlbnRpZnkgaXRzZWxmIG9yIGl0cwogICAgICAgIHByb2R1Y3RzIG9yIHRoZSBhc3NvY2lhdGVkIHByb2R1Y3RzIGNvbnRyaWJ1dGVkIHRvIHRoZSBPcGVuCiAgICAgICAgR2FtZSBMaWNlbnNlIGJ5IHRoZSBDb250cmlidXRvcgogICAgKGcpICJVc2UiLCAiVXNlZCIgb3IgIlVzaW5nIiBtZWFucyB0byB1c2UsIERpc3RyaWJ1dGUsIGNvcHksIGVkaXQsCiAgICAgICAgZm9ybWF0LCBtb2RpZnksIHRyYW5zbGF0ZSBhbmQgb3RoZXJ3aXNlIGNyZWF0ZSBEZXJpdmF0aXZlCiAgICAgICAgTWF0ZXJpYWwgb2YgT3BlbiBHYW1lIENvbnRlbnQuCiAgICAoaCkgIllvdSIgb3IgIllvdXIiIG1lYW5zIHRoZSBsaWNlbnNlZSBpbiB0ZXJtcyBvZiB0aGlzIGFncmVlbWVudC48L3A+CgogIDxwPjIuICBUaGUgTGljZW5zZToKICAgIFRoaXMgTGljZW5zZSBhcHBsaWVzIHRvIGFueSBPcGVuIEdhbWUgQ29udGVudCB0aGF0IGNvbnRhaW5zIGEKICAgIG5vdGljZSBpbmRpY2F0aW5nIHRoYXQgdGhlIE9wZW4gR2FtZSBDb250ZW50IG1heSBvbmx5IGJlIFVzZWQgdW5kZXIKICAgIGFuZCBpbiB0ZXJtcyBvZiB0aGlzIExpY2Vuc2UuICBZb3UgbXVzdCBhZmZpeCBzdWNoIGEgbm90aWNlIHRvIGFueQogICAgT3BlbiBHYW1lIENvbnRlbnQgdGhhdCB5b3UgVXNlLiAgTm8gdGVybXMgbWF5IGJlIGFkZGVkIHRvIG9yCiAgICBzdWJ0cmFjdGVkIGZyb20gdGhpcyBMaWNlbnNlIGV4Y2VwdCBhcyBkZXNjcmliZWQgYnkgdGhlIExpY2Vuc2UKICAgIGl0c2VsZi4gIE5vIG90aGVyIHRlcm1zIG9yIGNvbmRpdGlvbnMgbWF5IGJlIGFwcGxpZWQgdG8gYW55IE9wZW4KICAgIEdhbWUgQ29udGVudCBkaXN0cmlidXRlZCB1c2luZyB0aGlzIExpY2Vuc2UuPC9wPgoKICA8cD4zLiAgT2ZmZXIgYW5kIEFjY2VwdGFuY2U6CiAgICBCeSBVc2luZyB0aGUgT3BlbiBHYW1lIENvbnRlbnQgWW91IGluZGljYXRlIFlvdXIgYWNjZXB0YW5jZSBvZiB0aGUKICAgIHRlcm1zIG9mIHRoaXMgTGljZW5zZS48L3A+CgogIDxwPjQuICBHcmFudCBhbmQgQ29uc2lkZXJhdGlvbjoKICAgIEluIGNvbnNpZGVyYXRpb24gZm9yIGFncmVlaW5nIHRvIHVzZSB0aGlzIExpY2Vuc2UsIHRoZSBDb250cmlidXRvcnMKICAgIGdyYW50IFlvdSBhIHBlcnBldHVhbCwgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1leGNsdXNpdmUKICAgIGxpY2Vuc2Ugd2l0aCB0aGUgZXhhY3QgdGVybXMgb2YgdGhpcyBMaWNlbnNlIHRvIFVzZSwgdGhlIE9wZW4gR2FtZQogICAgQ29udGVudC48L3A+CgogIDxwPjUuICBSZXByZXNlbnRhdGlvbiBvZiBBdXRob3JpdHkgdG8gQ29udHJpYnV0ZToKICAgIElmIFlvdSBhcmUgY29udHJpYnV0aW5nIG9yaWdpbmFsIG1hdGVyaWFsIGFzIE9wZW4gR2FtZSBDb250ZW50LCBZb3UKICAgIHJlcHJlc2VudCB0aGF0IFlvdXIgQ29udHJpYnV0aW9ucyBhcmUgWW91ciBvcmlnaW5hbCBjcmVhdGlvbiBhbmQvb3IKICAgIFlvdSBoYXZlIHN1ZmZpY2llbnQgcmlnaHRzIHRvIGdyYW50IHRoZSByaWdodHMgY29udmV5ZWQgYnkgdGhpcwogICAgTGljZW5zZS48L3A+CgogIDxwPjYuICBOb3RpY2Ugb2YgTGljZW5zZSBDb3B5cmlnaHQ6CiAgICBZb3UgbXVzdCB1cGRhdGUgdGhlIENPUFlSSUdIVCBOT1RJQ0UgcG9ydGlvbiBvZiB0aGlzIExpY2Vuc2UgdG8KICAgIGluY2x1ZGUgdGhlIGV4YWN0IHRleHQgb2YgdGhlIENPUFlSSUdIVCBOT1RJQ0Ugb2YgYW55IE9wZW4gR2FtZQogICAgQ29udGVudCBZb3UgYXJlIGNvcHlpbmcsIG1vZGlmeWluZyBvciBkaXN0cmlidXRpbmcsIGFuZCBZb3UgbXVzdAogICAgYWRkIHRoZSB0aXRsZSwgdGhlIGNvcHlyaWdodCBkYXRlLCBhbmQgdGhlIGNvcHlyaWdodCBob2xkZXIncyBuYW1lCiAgICB0byB0aGUgQ09QWVJJR0hUIE5PVElDRSBvZiBhbnkgb3JpZ2luYWwgT3BlbiBHYW1lIENvbnRlbnQgeW91CiAgICBEaXN0cmlidXRlLjwvcD4KCiAgPHA+Ny4gIFVzZSBvZiBQcm9kdWN0IElkZW50aXR5OgogICAgWW91IGFncmVlIG5vdCB0byBVc2UgYW55IFByb2R1Y3QgSWRlbnRpdHksIGluY2x1ZGluZyBhcyBhbgogICAgaW5kaWNhdGlvbiBhcyB0byBjb21wYXRpYmlsaXR5LCBleGNlcHQgYXMgZXhwcmVzc2x5IGxpY2Vuc2VkIGluCiAgICBhbm90aGVyLCBpbmRlcGVuZGVudCBBZ3JlZW1lbnQgd2l0aCB0aGUgb3duZXIgb2YgZWFjaCBlbGVtZW50IG9mCiAgICB0aGF0IFByb2R1Y3QgSWRlbnRpdHkuICBZb3UgYWdyZWUgbm90IHRvIGluZGljYXRlIGNvbXBhdGliaWxpdHkgb3IKICAgIGNvLWFkYXB0YWJpbGl0eSB3aXRoIGFueSBUcmFkZW1hcmsgb3IgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgaW4KICAgIGNvbmp1bmN0aW9uIHdpdGggYSB3b3JrIGNvbnRhaW5pbmcgT3BlbiBHYW1lIENvbnRlbnQgZXhjZXB0IGFzCiAgICBleHByZXNzbHkgbGljZW5zZWQgaW4gYW5vdGhlciwgaW5kZXBlbmRlbnQgQWdyZWVtZW50IHdpdGggdGhlIG93bmVyCiAgICBvZiBzdWNoIFRyYWRlbWFyayBvciBSZWdpc3RlcmVkIFRyYWRlbWFyay4gIFRoZSB1c2Ugb2YgYW55IFByb2R1Y3QKICAgIElkZW50aXR5IGluIE9wZW4gR2FtZSBDb250ZW50IGRvZXMgbm90IGNvbnN0aXR1dGUgYSBjaGFsbGVuZ2UgdG8KICAgIHRoZSBvd25lcnNoaXAgb2YgdGhhdCBQcm9kdWN0IElkZW50aXR5LiAgVGhlIG93bmVyIG9mIGFueSBQcm9kdWN0CiAgICBJZGVudGl0eSB1c2VkIGluIE9wZW4gR2FtZSBDb250ZW50IHNoYWxsIHJldGFpbiBhbGwgcmlnaHRzLCB0aXRsZQogICAgYW5kIGludGVyZXN0IGluIGFuZCB0byB0aGF0IFByb2R1Y3QgSWRlbnRpdHkuPC9wPgoKICA8cD44LiAgSWRlbnRpZmljYXRpb246CiAgICBJZiB5b3UgZGlzdHJpYnV0ZSBPcGVuIEdhbWUgQ29udGVudCBZb3UgbXVzdCBjbGVhcmx5IGluZGljYXRlIHdoaWNoCiAgICBwb3J0aW9ucyBvZiB0aGUgd29yayB0aGF0IHlvdSBhcmUgZGlzdHJpYnV0aW5nIGFyZSBPcGVuIEdhbWUKICAgIENvbnRlbnQuPC9wPgoKICA8cD45LiAgVXBkYXRpbmcgdGhlIExpY2Vuc2U6CiAgICBXaXphcmRzIG9yIGl0cyBkZXNpZ25hdGVkIEFnZW50cyBtYXkgcHVibGlzaCB1cGRhdGVkIHZlcnNpb25zIG9mCiAgICB0aGlzIExpY2Vuc2UuICBZb3UgbWF5IHVzZSBhbnkgYXV0aG9yaXplZCB2ZXJzaW9uIG9mIHRoaXMgTGljZW5zZQogICAgdG8gY29weSwgbW9kaWZ5IGFuZCBkaXN0cmlidXRlIGFueSBPcGVuIEdhbWUgQ29udGVudCBvcmlnaW5hbGx5CiAgICBkaXN0cmlidXRlZCB1bmRlciBhbnkgdmVyc2lvbiBvZiB0aGlzIExpY2Vuc2UuPC9wPgoKICA8cD4xMC4gIENvcHkgb2YgdGhpcyBMaWNlbnNlOgogICAgWW91IE1VU1QgaW5jbHVkZSBhIGNvcHkgb2YgdGhpcyBMaWNlbnNlIHdpdGggZXZlcnkgY29weSBvZiB0aGUgT3BlbgogICAgR2FtZSBDb250ZW50IFlvdSBEaXN0cmlidXRlLjwvcD4KCiAgPHA+MTEuICBVc2Ugb2YgQ29udHJpYnV0b3IgQ3JlZGl0czoKICAgIFlvdSBtYXkgbm90IG1hcmtldCBvciBhZHZlcnRpc2UgdGhlIE9wZW4gR2FtZSBDb250ZW50IHVzaW5nIHRoZQogICAgbmFtZSBvZiBhbnkgQ29udHJpYnV0b3IgdW5sZXNzIFlvdSBoYXZlIHdyaXR0ZW4gcGVybWlzc2lvbiBmcm9tIHRoZQogICAgQ29udHJpYnV0b3IgdG8gZG8gc28uPC9wPgoKICA8cD4xMi4gIEluYWJpbGl0eSB0byBDb21wbHk6CiAgICBJZiBpdCBpcyBpbXBvc3NpYmxlIGZvciBZb3UgdG8gY29tcGx5IHdpdGggYW55IG9mIHRoZSB0ZXJtcyBvZiB0aGlzCiAgICBMaWNlbnNlIHdpdGggcmVzcGVjdCB0byBzb21lIG9yIGFsbCBvZiB0aGUgT3BlbiBHYW1lIENvbnRlbnQgZHVlIHRvCiAgICBzdGF0dXRlLCBqdWRpY2lhbCBvcmRlciwgb3IgZ292ZXJubWVudGFsIHJlZ3VsYXRpb24gdGhlbiBZb3UgbWF5CiAgICBub3QgVXNlIGFueSBPcGVuIEdhbWUgTWF0ZXJpYWwgc28gYWZmZWN0ZWQuPC9wPgoKICA8cD4xMy4gIFRlcm1pbmF0aW9uOgogICAgVGhpcyBMaWNlbnNlIHdpbGwgdGVybWluYXRlIGF1dG9tYXRpY2FsbHkgaWYgWW91IGZhaWwgdG8gY29tcGx5CiAgICB3aXRoIGFsbCB0ZXJtcyBoZXJlaW4gYW5kIGZhaWwgdG8gY3VyZSBzdWNoIGJyZWFjaCB3aXRoaW4gMzAgZGF5cwogICAgb2YgYmVjb21pbmcgYXdhcmUgb2YgdGhlIGJyZWFjaC4gIEFsbCBzdWJsaWNlbnNlcyBzaGFsbCBzdXJ2aXZlIHRoZQogICAgdGVybWluYXRpb24gb2YgdGhpcyBMaWNlbnNlLjwvcD4KCiAgPHA+MTQuICBSZWZvcm1hdGlvbjoKICAgIElmIGFueSBwcm92aXNpb24gb2YgdGhpcyBMaWNlbnNlIGlzIGhlbGQgdG8gYmUgdW5lbmZvcmNlYWJsZSwgc3VjaAogICAgcHJvdmlzaW9uIHNoYWxsIGJlIHJlZm9ybWVkIG9ubHkgdG8gdGhlIGV4dGVudCBuZWNlc3NhcnkgdG8gbWFrZSBpdAogICAgZW5mb3JjZWFibGUuPC9wPgoKICA8cD4xNS4gIENPUFlSSUdIVCBOT1RJQ0U8L3A+CgogIDxwPk9wZW4gR2FtZSBMaWNlbnNlIHYgMS4wYQogIENvcHlyaWdodCAyMDAwLCBXaXphcmRzIG9mIHRoZSBDb2FzdCwgSW5jLjwvcD4KCiAgPHA+U3lzdGVtIFJlZmVyZW5jZSBEb2N1bWVudAogIENvcHlyaWdodCAyMDAwLTIwMDMsIFdpemFyZHMgb2YgdGhlIENvYXN0LCBJbmMuOwogIEF1dGhvcnMgSm9uYXRoYW4gVHdlZXQsIE1vbnRlIENvb2ssIFNraXAgV2lsbGlhbXMsIFJpY2ggQmFrZXIsCiAgICBBbmR5IENvbGxpbnMsIERhdmlkIE5vb25hbiwgUmljaCBSZWRtYW4sIEJydWNlIFIuIENvcmRlbGwsCiAgICBKb2huIEQuIFJhdGVsaWZmLCBUaG9tYXMgUmVpZCwgSmFtZXMgV3lhdHQsCiAgYmFzZWQgb24gb3JpZ2luYWwgbWF0ZXJpYWwgYnkgRS4gR2FyeSBHeWdheCBhbmQgRGF2ZSBBcm5lc29uLjwvcD4KCiAgPHA+U3lzdGVtIFJlZmVyZW5jZSBEb2N1bWVudCA1LjAKICBDb3B5cmlnaHQgMjAxNiwgV2l6YXJkcyBvZiB0aGUgQ29hc3QsIEluYy47CiAgQXV0aG9ycyBNaWtlIE1lYXJscywgSmVyZW15IENyYXdmb3JkLCBDaHJpcyBQZXJraW5zLCBSb2RuZXkgVGhvbXBzb24sCiAgICBQZXRlciBMZWUsIEphbWVzIFd5YXR0LCBSb2JlcnQgSi4gU2Nod2FsYiwgQnJ1Y2UgUi4gQ29yZGVsbCwKICAgIENocmlzIFNpbXMsIGFuZCBTdGV2ZSBUb3duc2hlbmQsCiAgYmFzZWQgb24gb3JpZ2luYWwgbWF0ZXJpYWwgYnkgRS4gR2FyeSBHeWdheCBhbmQgRGF2ZSBBcm5lc29uLjwvcD4KCiAgPHA+U3lzdGVtIFJlZmVyZW5jZSBEb2N1bWVudCA1LjEKICBDb3B5cmlnaHQgMjAxNiwgV2l6YXJkcyBvZiB0aGUgQ29hc3QsIEluYy47CiAgQXV0aG9ycyBNaWtlIE1lYXJscywgSmVyZW15IENyYXdmb3JkLCBDaHJpcyBQZXJraW5zLCBSb2RuZXkgVGhvbXBzb24sCiAgICBQZXRlciBMZWUsIEphbWVzIFd5YXR0LCBSb2JlcnQgSi4gU2Nod2FsYiwgQnJ1Y2UgUi4gQ29yZGVsbCwKICAgIENocmlzIFNpbXMsIGFuZCBTdGV2ZSBUb3duc2hlbmQsCiAgYmFzZWQgb24gb3JpZ2luYWwgbWF0ZXJpYWwgYnkgRS4gR2FyeSBHeWdheCBhbmQgRGF2ZSBBcm5lc29uLjwvcD4KCiAgPHA+Q2hhb3NpdGVjaCwKICAmY29weTsgMjAwMywgTW9udGUgSi4gQ29vay4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L3A+CgogIDxwPk1pY3JvbGl0ZTIwCiAgJmNvcHk7IDIwMDYsIFJvYmluIFYuIFN0YWNleSAocm9iaW5AZ3JleXd1bGYubmV0KTwvcD4KCiAgPHA+UGF0aGZpbmRlciBSb2xlcGxheWluZyBHYW1lIFJlZmVyZW5jZSBEb2N1bWVudAogICZjb3B5OyAyMDExLCBQYWl6byBQdWJsaXNoaW5nLCBMTEM7CiAgQXV0aG9yOiBQYWl6byBQdWJsaXNoaW5nLCBMTEMuPC9wPgoKICA8cD5QYXRoZmluZGVyIFJvbGVwbGF5aW5nIEdhbWUgQ29yZSBSdWxlYm9vawogICZjb3B5OyAyMDA5LCBQYWl6byBQdWJsaXNoaW5nLCBMTEM7CiAgQXV0aG9yOiBKYXNvbiBCdWxtYWhuLAogIGJhc2VkIG9uIG1hdGVyaWFsIGJ5IEpvbmF0aGFuIFR3ZWV0LCBNb250ZSBDb29rLCBhbmQgU2tpcCBXaWxsaWFtcy48L3A+CgogIDxwPlBhdGhmaW5kZXIgUlBHIEJlc3RpYXJ5CiAgJmNvcHk7IDIwMDksIFBhaXpvIFB1Ymxpc2hpbmcsIExMQzsKICBBdXRob3I6IEphc29uIEJ1bG1haG4sCiAgYmFzZWQgb24gbWF0ZXJpYWwgYnkgSm9uYXRoYW4gVHdlZXQsIE1vbnRlIENvb2ssIGFuZCBTa2lwIFdpbGxpYW1zLjwvcD4KCiAgPHA+UGF0aGZpbmRlciBSb2xlcGxheWluZyBHYW1lIFVsdGltYXRlIEVxdWlwbWVudAogICZjb3B5OyAyMDEyLCBQYWl6byBQdWJsaXNoaW5nLCBMTEM7CiAgQXV0aG9ycyBEZW5uaXMgQmFrZXIsIEplc3NlIEJlbm5lciwgQmVuamFtaW4gQnJ1Y2ssIFJvc3MgQnllcnMsCiAgICBCcmlhbiBKLiBDb3J0aWpvLCBSeWFuIENvc3RlbGxvLCBNaWtlIEZlcmd1c29uLCBNYXR0IEdvZXR6LAogICAgSmltIEdyb3ZlcywgVHJhY3kgSHVybGV5LCBNYXR0IEphbWVzLCBKb25hdGhhbiBILiBLZWl0aCwKICAgIE1pY2hhZWwgS2Vud2F5LCBIYWwgTWFjTGVhbiwgSmFzb24gTmVsc29uLCBUb3JrIFNoYXcsCiAgICBPd2VuIEtDIFN0ZXBoZW5zLCBhbmQgUnVzcyBUYXlsb3IuPC9wPgoKPCEtLSNpbmNsdWRlIHZpcnR1YWw9Ii9za2luL2VuZC5odG1sIi0tPgo=">Open
            Gaming License</a></p>
</div>
</body>
</html>
